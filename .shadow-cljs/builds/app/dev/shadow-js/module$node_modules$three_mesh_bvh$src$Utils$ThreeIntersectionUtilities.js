["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-mesh-bvh/src/Utils/ThreeIntersectionUtilities.js"],"~:js","shadow$provide.module$node_modules$three_mesh_bvh$src$Utils$ThreeIntersectionUtilities=function(global,require,module,exports){Object.defineProperty(exports,\"__esModule\",{value:!0});exports.intersectTri=function(mesh,geo,raycaster,ray,tri,intersections){var triOffset=3*tri,a=geo.index.getX(triOffset),b=geo.index.getX(triOffset+1);triOffset=geo.index.getX(triOffset+2);var position=geo.attributes.position;geo=geo.attributes.uv;vA.fromBufferAttribute(position,a);vB.fromBufferAttribute(position,b);vC.fromBufferAttribute(position,\ntriOffset);var material=mesh.material,pA=vA,pB=vB,pC=vC;position=intersectionPoint;null===(material.side===_three.BackSide?ray.intersectTriangle(pC,pB,pA,!0,position):ray.intersectTriangle(pA,pB,pC,material.side!==_three.DoubleSide,position))?mesh=null:(intersectionPointWorld.copy(position),intersectionPointWorld.applyMatrix4(mesh.matrixWorld),ray=raycaster.ray.origin.distanceTo(intersectionPointWorld),mesh=ray<raycaster.near||ray>raycaster.far?null:{localPoint:position,distance:ray,point:intersectionPointWorld.clone(),\nobject:mesh});mesh&&(geo&&(uvA.fromBufferAttribute(geo,a),uvB.fromBufferAttribute(geo,b),uvC.fromBufferAttribute(geo,triOffset),mesh.uv=_three.Triangle.getUV(intersectionPoint,vA,vB,vC,uvA,uvB,uvC,new _three.Vector2)),b={a,b,c:triOffset,normal:new _three.Vector3,materialIndex:0},_three.Triangle.getNormal(vA,vB,vC,b.normal),mesh.face=b,mesh.faceIndex=a);return mesh?(mesh.faceIndex=tri,intersections&&intersections.push(mesh),mesh):null};var _three=require(\"module$node_modules$three$build$three_module\"),\nvA=new _three.Vector3,vB=new _three.Vector3,vC=new _three.Vector3,uvA=new _three.Vector2,uvB=new _three.Vector2,uvC=new _three.Vector2,intersectionPoint=new _three.Vector3,intersectionPointWorld=new _three.Vector3}","~:source","shadow$provide[\"module$node_modules$three_mesh_bvh$src$Utils$ThreeIntersectionUtilities\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.intersectTri = intersectTri;\n\nvar _three = require(\"three\");\n\n// Ripped and modified From THREE.js Mesh raycast\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L115\nvar vA = new _three.Vector3();\nvar vB = new _three.Vector3();\nvar vC = new _three.Vector3();\nvar uvA = new _three.Vector2();\nvar uvB = new _three.Vector2();\nvar uvC = new _three.Vector2();\nvar intersectionPoint = new _three.Vector3();\nvar intersectionPointWorld = new _three.Vector3();\n\nfunction checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {\n  var intersect;\n\n  if (material.side === _three.BackSide) {\n    intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n  } else {\n    intersect = ray.intersectTriangle(pA, pB, pC, material.side !== _three.DoubleSide, point);\n  }\n\n  if (intersect === null) return null;\n  intersectionPointWorld.copy(point);\n  intersectionPointWorld.applyMatrix4(object.matrixWorld);\n  var distance = raycaster.ray.origin.distanceTo(intersectionPointWorld);\n  if (distance < raycaster.near || distance > raycaster.far) return null;\n  return {\n    // EDITED\n    // Including the local-space point so it can be used to accelerate raycasting\n    localPoint: point,\n    distance: distance,\n    point: intersectionPointWorld.clone(),\n    object: object\n  };\n}\n\nfunction checkBufferGeometryIntersection(object, raycaster, ray, position, uv, a, b, c) {\n  vA.fromBufferAttribute(position, a);\n  vB.fromBufferAttribute(position, b);\n  vC.fromBufferAttribute(position, c);\n  var intersection = checkIntersection(object, object.material, raycaster, ray, vA, vB, vC, intersectionPoint);\n\n  if (intersection) {\n    if (uv) {\n      uvA.fromBufferAttribute(uv, a);\n      uvB.fromBufferAttribute(uv, b);\n      uvC.fromBufferAttribute(uv, c);\n      intersection.uv = _three.Triangle.getUV(intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new _three.Vector2());\n    }\n\n    var face = {\n      a: a,\n      b: b,\n      c: c,\n      normal: new _three.Vector3(),\n      materialIndex: 0\n    };\n\n    _three.Triangle.getNormal(vA, vB, vC, face.normal);\n\n    intersection.face = face;\n    intersection.faceIndex = a;\n  }\n\n  return intersection;\n} // https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L258\n\n\nfunction intersectTri(mesh, geo, raycaster, ray, tri, intersections) {\n  var triOffset = tri * 3;\n  var a = geo.index.getX(triOffset);\n  var b = geo.index.getX(triOffset + 1);\n  var c = geo.index.getX(triOffset + 2);\n  var intersection = checkBufferGeometryIntersection(mesh, raycaster, ray, geo.attributes.position, geo.attributes.uv, a, b, c);\n\n  if (intersection) {\n    intersection.faceIndex = tri;\n    if (intersections) intersections.push(intersection);\n    return intersection;\n  }\n\n  return null;\n}\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js"]],"~:properties",["^5",["object","faceIndex","__esModule","normal","intersectTri","face","value","materialIndex","a","distance","uv","b","point","c","localPoint"]],"~:compiled-at",1630917516180,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_mesh_bvh$src$Utils$ThreeIntersectionUtilities.js\",\n\"lineCount\":4,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-mesh-bvh/src/Utils/ThreeIntersectionUtilities.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_mesh_bvh$src$Utils$ThreeIntersectionUtilities\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.intersectTri = intersectTri;\\n\\nvar _three = require(\\\"three\\\");\\n\\n// Ripped and modified From THREE.js Mesh raycast\\n// https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L115\\nvar vA = new _three.Vector3();\\nvar vB = new _three.Vector3();\\nvar vC = new _three.Vector3();\\nvar uvA = new _three.Vector2();\\nvar uvB = new _three.Vector2();\\nvar uvC = new _three.Vector2();\\nvar intersectionPoint = new _three.Vector3();\\nvar intersectionPointWorld = new _three.Vector3();\\n\\nfunction checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {\\n  var intersect;\\n\\n  if (material.side === _three.BackSide) {\\n    intersect = ray.intersectTriangle(pC, pB, pA, true, point);\\n  } else {\\n    intersect = ray.intersectTriangle(pA, pB, pC, material.side !== _three.DoubleSide, point);\\n  }\\n\\n  if (intersect === null) return null;\\n  intersectionPointWorld.copy(point);\\n  intersectionPointWorld.applyMatrix4(object.matrixWorld);\\n  var distance = raycaster.ray.origin.distanceTo(intersectionPointWorld);\\n  if (distance < raycaster.near || distance > raycaster.far) return null;\\n  return {\\n    // EDITED\\n    // Including the local-space point so it can be used to accelerate raycasting\\n    localPoint: point,\\n    distance: distance,\\n    point: intersectionPointWorld.clone(),\\n    object: object\\n  };\\n}\\n\\nfunction checkBufferGeometryIntersection(object, raycaster, ray, position, uv, a, b, c) {\\n  vA.fromBufferAttribute(position, a);\\n  vB.fromBufferAttribute(position, b);\\n  vC.fromBufferAttribute(position, c);\\n  var intersection = checkIntersection(object, object.material, raycaster, ray, vA, vB, vC, intersectionPoint);\\n\\n  if (intersection) {\\n    if (uv) {\\n      uvA.fromBufferAttribute(uv, a);\\n      uvB.fromBufferAttribute(uv, b);\\n      uvC.fromBufferAttribute(uv, c);\\n      intersection.uv = _three.Triangle.getUV(intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new _three.Vector2());\\n    }\\n\\n    var face = {\\n      a: a,\\n      b: b,\\n      c: c,\\n      normal: new _three.Vector3(),\\n      materialIndex: 0\\n    };\\n\\n    _three.Triangle.getNormal(vA, vB, vC, face.normal);\\n\\n    intersection.face = face;\\n    intersection.faceIndex = a;\\n  }\\n\\n  return intersection;\\n} // https://github.com/mrdoob/three.js/blob/0aa87c999fe61e216c1133fba7a95772b503eddf/src/objects/Mesh.js#L258\\n\\n\\nfunction intersectTri(mesh, geo, raycaster, ray, tri, intersections) {\\n  var triOffset = tri * 3;\\n  var a = geo.index.getX(triOffset);\\n  var b = geo.index.getX(triOffset + 1);\\n  var c = geo.index.getX(triOffset + 2);\\n  var intersection = checkBufferGeometryIntersection(mesh, raycaster, ray, geo.attributes.position, geo.attributes.uv, a, b, c);\\n\\n  if (intersection) {\\n    intersection.faceIndex = tri;\\n    if (intersections) intersections.push(intersection);\\n    return intersection;\\n  }\\n\\n  return null;\\n}\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"Object\",\"defineProperty\",\"value\",\"intersectTri\",\"mesh\",\"geo\",\"raycaster\",\"ray\",\"tri\",\"intersections\",\"triOffset\",\"a\",\"index\",\"getX\",\"b\",\"c\",\"position\",\"attributes\",\"uv\",\"vA\",\"fromBufferAttribute\",\"vB\",\"vC\",\"material\",\"intersectionPoint\",\"side\",\"intersect\",\"_three\",\"BackSide\",\"intersectTriangle\",\"pC\",\"pB\",\"pA\",\"point\",\"DoubleSide\",\"intersectionPointWorld\",\"copy\",\"applyMatrix4\",\"matrixWorld\",\"distance\",\"origin\",\"distanceTo\",\"near\",\"far\",\"localPoint\",\"clone\",\"object\",\"intersection\",\"uvA\",\"uvB\",\"uvC\",\"Triangle\",\"getUV\",\"Vector2\",\"face\",\"normal\",\"Vector3\",\"materialIndex\",\"getNormal\",\"faceIndex\",\"push\"]\n}\n"]