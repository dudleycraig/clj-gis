["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/exporters/STLExporter.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$exporters$STLExporter=function(global,require,module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);\nstaticProps&&_defineProperties(Constructor,staticProps);return Constructor}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.STLExporter=void 0;var _defineProperty2=function(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}(require(\"module$node_modules$$babel$runtime$helpers$esm$defineProperty\")),_three=require(\"module$node_modules$three$build$three_module\");global=function(){function STLExporter(){if(!(this instanceof STLExporter))throw new TypeError(\"Cannot call a class as a function\");\n(0,_defineProperty2[\"default\"])(this,\"binary\",void 0);(0,_defineProperty2[\"default\"])(this,\"output\",void 0);(0,_defineProperty2[\"default\"])(this,\"offset\",void 0);(0,_defineProperty2[\"default\"])(this,\"objects\",void 0);(0,_defineProperty2[\"default\"])(this,\"triangles\",void 0);(0,_defineProperty2[\"default\"])(this,\"vA\",void 0);(0,_defineProperty2[\"default\"])(this,\"vB\",void 0);(0,_defineProperty2[\"default\"])(this,\"vC\",void 0);(0,_defineProperty2[\"default\"])(this,\"cb\",void 0);(0,_defineProperty2[\"default\"])(this,\n\"ab\",void 0);(0,_defineProperty2[\"default\"])(this,\"normal\",void 0);this.binary=!1;this.output=\"\";this.offset=80;this.objects=[];this.triangles=0;this.vA=new _three.Vector3;this.vB=new _three.Vector3;this.vC=new _three.Vector3;this.cb=new _three.Vector3;this.ab=new _three.Vector3;this.normal=new _three.Vector3}_createClass(STLExporter,[{key:\"parse\",value:function(scene,options){this.binary=void 0!==options.binary?options.binary:!1;scene.traverse(function(object){if(object instanceof _three.Mesh&&object.isMesh){var geometry=\nobject.geometry;if(!geometry.isBufferGeometry)throw Error(\"THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.\");var index=geometry.index,positionAttribute=geometry.getAttribute(\"position\");this.triangles+=null!==index?index.count/3:positionAttribute.count/3;this.objects.push({object3d:object,geometry})}});this.binary?(scene=new ArrayBuffer(2*this.triangles+48*this.triangles+84),this.output=new DataView(scene),this.output.setUint32(this.offset,this.triangles,!0),this.offset+=4):(this.output=\n\"\",this.output+=\"solid exported\\n\");scene=0;for(options=this.objects.length;scene<options;scene++){var object$jscomp$0=this.objects[scene].object3d,geometry$jscomp$0=this.objects[scene].geometry,index$jscomp$0=geometry$jscomp$0.index;geometry$jscomp$0=geometry$jscomp$0.getAttribute(\"position\");if(object$jscomp$0 instanceof _three.SkinnedMesh)if(null!==index$jscomp$0)for(var j=0;j<index$jscomp$0.count;j+=3){var a=index$jscomp$0.getX(j+0),b=index$jscomp$0.getX(j+1),c=index$jscomp$0.getX(j+2);this.writeFace(a,\nb,c,geometry$jscomp$0,object$jscomp$0)}else for(index$jscomp$0=0;index$jscomp$0<geometry$jscomp$0.count;index$jscomp$0+=3)this.writeFace(index$jscomp$0+0,index$jscomp$0+1,index$jscomp$0+2,geometry$jscomp$0,object$jscomp$0)}this.binary||(this.output+=\"endsolid exported\\n\");return this.output}},{key:\"writeFace\",value:function(a,b,c,positionAttribute,object){this.vA.fromBufferAttribute(positionAttribute,a);this.vB.fromBufferAttribute(positionAttribute,b);this.vC.fromBufferAttribute(positionAttribute,\nc);object.isSkinnedMesh&&(object.boneTransform(a,this.vA),object.boneTransform(b,this.vB),object.boneTransform(c,this.vC));this.vA.applyMatrix4(object.matrixWorld);this.vB.applyMatrix4(object.matrixWorld);this.vC.applyMatrix4(object.matrixWorld);this.writeNormal(this.vA,this.vB,this.vC);this.writeVertex(this.vA);this.writeVertex(this.vB);this.writeVertex(this.vC);this.binary&&this.output instanceof DataView?(this.output.setUint16(this.offset,0,!0),this.offset+=2):(this.output+=\"\\t\\tendloop\\n\",this.output+=\n\"\\tendfacet\\n\")}},{key:\"writeNormal\",value:function(vA,vB,vC){this.cb.subVectors(vC,vB);this.ab.subVectors(vA,vB);this.cb.cross(this.ab).normalize();this.normal.copy(this.cb).normalize();this.binary&&this.output instanceof DataView?(this.output.setFloat32(this.offset,this.normal.x,!0),this.offset+=4,this.output.setFloat32(this.offset,this.normal.y,!0),this.offset+=4,this.output.setFloat32(this.offset,this.normal.z,!0),this.offset+=4):(this.output+=\"\\tfacet normal \".concat(this.normal.x,\" \").concat(this.normal.y,\n\" \").concat(this.normal.z,\"\\n\"),this.output+=\"\\t\\touter loop\\n\")}},{key:\"writeVertex\",value:function(vertex){this.binary&&this.output instanceof DataView?(this.output.setFloat32(this.offset,vertex.x,!0),this.offset+=4,this.output.setFloat32(this.offset,vertex.y,!0),this.offset+=4,this.output.setFloat32(this.offset,vertex.z,!0),this.offset+=4):this.output+=\"\\t\\t\\tvertex vertex.x vertex.y vertex.z\\n\"}}]);return STLExporter}();exports.STLExporter=global}","~:source","shadow$provide[\"module$node_modules$three_stdlib$exporters$STLExporter\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.STLExporter = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\n\nvar _three = require(\"three\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * Usage:\n *  const exporter = new STLExporter();\n *\n *  // second argument is a list of options\n *  const data = exporter.parse( mesh, { binary: true } );\n *\n */\n// https://github.com/DefinitelyTyped/DefinitelyTyped/blob/f7ec78508c6797e42f87a4390735bc2c650a1bfd/types/three/examples/jsm/exporters/STLExporter.d.ts\nvar STLExporter =\n/*#__PURE__*/\nfunction () {\n  function STLExporter() {\n    _classCallCheck(this, STLExporter);\n\n    (0, _defineProperty2[\"default\"])(this, \"binary\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"output\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"offset\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"objects\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"triangles\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"vA\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"vB\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"vC\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"cb\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"ab\", void 0);\n    (0, _defineProperty2[\"default\"])(this, \"normal\", void 0);\n    this.binary = false;\n    this.output = '';\n    this.offset = 80; // skip header\n\n    this.objects = [];\n    this.triangles = 0;\n    this.vA = new _three.Vector3();\n    this.vB = new _three.Vector3();\n    this.vC = new _three.Vector3();\n    this.cb = new _three.Vector3();\n    this.ab = new _three.Vector3();\n    this.normal = new _three.Vector3();\n  }\n\n  _createClass(STLExporter, [{\n    key: \"parse\",\n    value: function parse(scene, options) {\n      this.binary = options.binary !== undefined ? options.binary : false; //\n\n      scene.traverse(function (object) {\n        if (object instanceof _three.Mesh && object.isMesh) {\n          var geometry = object.geometry;\n\n          if (!geometry.isBufferGeometry) {\n            throw new Error('THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.');\n          }\n\n          var index = geometry.index;\n          var positionAttribute = geometry.getAttribute('position');\n          this.triangles += index !== null ? index.count / 3 : positionAttribute.count / 3;\n          this.objects.push({\n            object3d: object,\n            geometry: geometry\n          });\n        }\n      });\n\n      if (this.binary) {\n        var bufferLength = this.triangles * 2 + this.triangles * 3 * 4 * 4 + 80 + 4;\n        var arrayBuffer = new ArrayBuffer(bufferLength);\n        this.output = new DataView(arrayBuffer);\n        this.output.setUint32(this.offset, this.triangles, true);\n        this.offset += 4;\n      } else {\n        this.output = '';\n        this.output += 'solid exported\\n';\n      }\n\n      for (var i = 0, il = this.objects.length; i < il; i++) {\n        var object = this.objects[i].object3d;\n        var geometry = this.objects[i].geometry;\n        var index = geometry.index;\n        var positionAttribute = geometry.getAttribute('position');\n\n        if (object instanceof _three.SkinnedMesh) {\n          if (index !== null) {\n            // indexed geometry\n            for (var j = 0; j < index.count; j += 3) {\n              var a = index.getX(j + 0);\n              var b = index.getX(j + 1);\n              var c = index.getX(j + 2);\n              this.writeFace(a, b, c, positionAttribute, object);\n            }\n          } else {\n            // non-indexed geometry\n            for (var _j = 0; _j < positionAttribute.count; _j += 3) {\n              var _a = _j + 0;\n\n              var _b = _j + 1;\n\n              var _c = _j + 2;\n\n              this.writeFace(_a, _b, _c, positionAttribute, object);\n            }\n          }\n        }\n      }\n\n      if (!this.binary) {\n        this.output += 'endsolid exported\\n';\n      }\n\n      return this.output;\n    }\n  }, {\n    key: \"writeFace\",\n    value: function writeFace(a, b, c, positionAttribute, object) {\n      this.vA.fromBufferAttribute(positionAttribute, a);\n      this.vB.fromBufferAttribute(positionAttribute, b);\n      this.vC.fromBufferAttribute(positionAttribute, c);\n\n      if (object.isSkinnedMesh) {\n        object.boneTransform(a, this.vA);\n        object.boneTransform(b, this.vB);\n        object.boneTransform(c, this.vC);\n      }\n\n      this.vA.applyMatrix4(object.matrixWorld);\n      this.vB.applyMatrix4(object.matrixWorld);\n      this.vC.applyMatrix4(object.matrixWorld);\n      this.writeNormal(this.vA, this.vB, this.vC);\n      this.writeVertex(this.vA);\n      this.writeVertex(this.vB);\n      this.writeVertex(this.vC);\n\n      if (this.binary && this.output instanceof DataView) {\n        this.output.setUint16(this.offset, 0, true);\n        this.offset += 2;\n      } else {\n        this.output += '\\t\\tendloop\\n';\n        this.output += '\\tendfacet\\n';\n      }\n    }\n  }, {\n    key: \"writeNormal\",\n    value: function writeNormal(vA, vB, vC) {\n      this.cb.subVectors(vC, vB);\n      this.ab.subVectors(vA, vB);\n      this.cb.cross(this.ab).normalize();\n      this.normal.copy(this.cb).normalize();\n\n      if (this.binary && this.output instanceof DataView) {\n        this.output.setFloat32(this.offset, this.normal.x, true);\n        this.offset += 4;\n        this.output.setFloat32(this.offset, this.normal.y, true);\n        this.offset += 4;\n        this.output.setFloat32(this.offset, this.normal.z, true);\n        this.offset += 4;\n      } else {\n        this.output += \"\\tfacet normal \".concat(this.normal.x, \" \").concat(this.normal.y, \" \").concat(this.normal.z, \"\\n\");\n        this.output += '\\t\\touter loop\\n';\n      }\n    }\n  }, {\n    key: \"writeVertex\",\n    value: function writeVertex(vertex) {\n      if (this.binary && this.output instanceof DataView) {\n        this.output.setFloat32(this.offset, vertex.x, true);\n        this.offset += 4;\n        this.output.setFloat32(this.offset, vertex.y, true);\n        this.offset += 4;\n        this.output.setFloat32(this.offset, vertex.z, true);\n        this.offset += 4;\n      } else {\n        this.output += \"\\t\\t\\tvertex vertex.x vertex.y vertex.z\\n\";\n      }\n    }\n  }]);\n\n  return STLExporter;\n}();\n\nexports.STLExporter = STLExporter;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js","~$module$node_modules$$babel$runtime$helpers$esm$defineProperty"]],"~:properties",["^5",["STLExporter","ab","output","cb","offset","vB","key","__esModule","binary","objects","normal","object3d","configurable","value","geometry","enumerable","writable","vA","triangles","vC"]],"~:compiled-at",1630917515345,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$exporters$STLExporter.js\",\n\"lineCount\":10,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/exporters/STLExporter.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$exporters$STLExporter\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.STLExporter = void 0;\\n\\nvar _defineProperty2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/esm/defineProperty\\\"));\\n\\nvar _three = require(\\\"three\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \\\"default\\\": obj }; }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\n/**\\n * Usage:\\n *  const exporter = new STLExporter();\\n *\\n *  // second argument is a list of options\\n *  const data = exporter.parse( mesh, { binary: true } );\\n *\\n */\\n// https://github.com/DefinitelyTyped/DefinitelyTyped/blob/f7ec78508c6797e42f87a4390735bc2c650a1bfd/types/three/examples/jsm/exporters/STLExporter.d.ts\\nvar STLExporter =\\n/*#__PURE__*/\\nfunction () {\\n  function STLExporter() {\\n    _classCallCheck(this, STLExporter);\\n\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"binary\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"output\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"offset\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"objects\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"triangles\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"vA\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"vB\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"vC\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"cb\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"ab\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(this, \\\"normal\\\", void 0);\\n    this.binary = false;\\n    this.output = '';\\n    this.offset = 80; // skip header\\n\\n    this.objects = [];\\n    this.triangles = 0;\\n    this.vA = new _three.Vector3();\\n    this.vB = new _three.Vector3();\\n    this.vC = new _three.Vector3();\\n    this.cb = new _three.Vector3();\\n    this.ab = new _three.Vector3();\\n    this.normal = new _three.Vector3();\\n  }\\n\\n  _createClass(STLExporter, [{\\n    key: \\\"parse\\\",\\n    value: function parse(scene, options) {\\n      this.binary = options.binary !== undefined ? options.binary : false; //\\n\\n      scene.traverse(function (object) {\\n        if (object instanceof _three.Mesh && object.isMesh) {\\n          var geometry = object.geometry;\\n\\n          if (!geometry.isBufferGeometry) {\\n            throw new Error('THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.');\\n          }\\n\\n          var index = geometry.index;\\n          var positionAttribute = geometry.getAttribute('position');\\n          this.triangles += index !== null ? index.count / 3 : positionAttribute.count / 3;\\n          this.objects.push({\\n            object3d: object,\\n            geometry: geometry\\n          });\\n        }\\n      });\\n\\n      if (this.binary) {\\n        var bufferLength = this.triangles * 2 + this.triangles * 3 * 4 * 4 + 80 + 4;\\n        var arrayBuffer = new ArrayBuffer(bufferLength);\\n        this.output = new DataView(arrayBuffer);\\n        this.output.setUint32(this.offset, this.triangles, true);\\n        this.offset += 4;\\n      } else {\\n        this.output = '';\\n        this.output += 'solid exported\\\\n';\\n      }\\n\\n      for (var i = 0, il = this.objects.length; i < il; i++) {\\n        var object = this.objects[i].object3d;\\n        var geometry = this.objects[i].geometry;\\n        var index = geometry.index;\\n        var positionAttribute = geometry.getAttribute('position');\\n\\n        if (object instanceof _three.SkinnedMesh) {\\n          if (index !== null) {\\n            // indexed geometry\\n            for (var j = 0; j < index.count; j += 3) {\\n              var a = index.getX(j + 0);\\n              var b = index.getX(j + 1);\\n              var c = index.getX(j + 2);\\n              this.writeFace(a, b, c, positionAttribute, object);\\n            }\\n          } else {\\n            // non-indexed geometry\\n            for (var _j = 0; _j < positionAttribute.count; _j += 3) {\\n              var _a = _j + 0;\\n\\n              var _b = _j + 1;\\n\\n              var _c = _j + 2;\\n\\n              this.writeFace(_a, _b, _c, positionAttribute, object);\\n            }\\n          }\\n        }\\n      }\\n\\n      if (!this.binary) {\\n        this.output += 'endsolid exported\\\\n';\\n      }\\n\\n      return this.output;\\n    }\\n  }, {\\n    key: \\\"writeFace\\\",\\n    value: function writeFace(a, b, c, positionAttribute, object) {\\n      this.vA.fromBufferAttribute(positionAttribute, a);\\n      this.vB.fromBufferAttribute(positionAttribute, b);\\n      this.vC.fromBufferAttribute(positionAttribute, c);\\n\\n      if (object.isSkinnedMesh) {\\n        object.boneTransform(a, this.vA);\\n        object.boneTransform(b, this.vB);\\n        object.boneTransform(c, this.vC);\\n      }\\n\\n      this.vA.applyMatrix4(object.matrixWorld);\\n      this.vB.applyMatrix4(object.matrixWorld);\\n      this.vC.applyMatrix4(object.matrixWorld);\\n      this.writeNormal(this.vA, this.vB, this.vC);\\n      this.writeVertex(this.vA);\\n      this.writeVertex(this.vB);\\n      this.writeVertex(this.vC);\\n\\n      if (this.binary && this.output instanceof DataView) {\\n        this.output.setUint16(this.offset, 0, true);\\n        this.offset += 2;\\n      } else {\\n        this.output += '\\\\t\\\\tendloop\\\\n';\\n        this.output += '\\\\tendfacet\\\\n';\\n      }\\n    }\\n  }, {\\n    key: \\\"writeNormal\\\",\\n    value: function writeNormal(vA, vB, vC) {\\n      this.cb.subVectors(vC, vB);\\n      this.ab.subVectors(vA, vB);\\n      this.cb.cross(this.ab).normalize();\\n      this.normal.copy(this.cb).normalize();\\n\\n      if (this.binary && this.output instanceof DataView) {\\n        this.output.setFloat32(this.offset, this.normal.x, true);\\n        this.offset += 4;\\n        this.output.setFloat32(this.offset, this.normal.y, true);\\n        this.offset += 4;\\n        this.output.setFloat32(this.offset, this.normal.z, true);\\n        this.offset += 4;\\n      } else {\\n        this.output += \\\"\\\\tfacet normal \\\".concat(this.normal.x, \\\" \\\").concat(this.normal.y, \\\" \\\").concat(this.normal.z, \\\"\\\\n\\\");\\n        this.output += '\\\\t\\\\touter loop\\\\n';\\n      }\\n    }\\n  }, {\\n    key: \\\"writeVertex\\\",\\n    value: function writeVertex(vertex) {\\n      if (this.binary && this.output instanceof DataView) {\\n        this.output.setFloat32(this.offset, vertex.x, true);\\n        this.offset += 4;\\n        this.output.setFloat32(this.offset, vertex.y, true);\\n        this.offset += 4;\\n        this.output.setFloat32(this.offset, vertex.z, true);\\n        this.offset += 4;\\n      } else {\\n        this.output += \\\"\\\\t\\\\t\\\\tvertex vertex.x vertex.y vertex.z\\\\n\\\";\\n      }\\n    }\\n  }]);\\n\\n  return STLExporter;\\n}();\\n\\nexports.STLExporter = STLExporter;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"Object\",\"defineProperty\",\"key\",\"_createClass\",\"Constructor\",\"protoProps\",\"staticProps\",\"prototype\",\"value\",\"STLExporter\",\"_defineProperty2\",\"_interopRequireDefault\",\"obj\",\"__esModule\",\"_three\",\"instance\",\"TypeError\",\"binary\",\"output\",\"offset\",\"objects\",\"triangles\",\"vA\",\"Vector3\",\"vB\",\"vC\",\"cb\",\"ab\",\"normal\",\"parse\",\"scene\",\"options\",\"undefined\",\"traverse\",\"object\",\"Mesh\",\"isMesh\",\"geometry\",\"isBufferGeometry\",\"Error\",\"index\",\"positionAttribute\",\"getAttribute\",\"count\",\"push\",\"object3d\",\"arrayBuffer\",\"ArrayBuffer\",\"DataView\",\"setUint32\",\"il\",\"SkinnedMesh\",\"j\",\"a\",\"getX\",\"b\",\"c\",\"writeFace\",\"_j\",\"fromBufferAttribute\",\"isSkinnedMesh\",\"boneTransform\",\"applyMatrix4\",\"matrixWorld\",\"writeNormal\",\"writeVertex\",\"setUint16\",\"subVectors\",\"cross\",\"normalize\",\"copy\",\"setFloat32\",\"x\",\"y\",\"z\",\"concat\",\"vertex\"]\n}\n"]