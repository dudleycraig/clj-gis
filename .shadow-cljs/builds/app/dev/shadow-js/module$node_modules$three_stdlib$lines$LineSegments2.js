["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/lines/LineSegments2.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$lines$LineSegments2=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _possibleConstructorReturn(self,call){return!call||\"object\"!==_typeof(call)&&\"function\"!==typeof call?\n_assertThisInitialized(self):call}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");\nsubClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.LineSegments2=void 0;var _defineProperty2=function(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}(require(\"module$node_modules$$babel$runtime$helpers$esm$defineProperty\")),\n_three=require(\"module$node_modules$three$build$three_module\"),_LineSegmentsGeometry=require(\"module$node_modules$three_stdlib$lines$LineSegmentsGeometry\"),_LineMaterial=require(\"module$node_modules$three_stdlib$lines$LineMaterial\");global=function(_Mesh){function LineSegments2(){var _geometry=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new _LineSegmentsGeometry.LineSegmentsGeometry,_material=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new _LineMaterial.LineMaterial({color:16777215*\nMath.random()});if(!(this instanceof LineSegments2))throw new TypeError(\"Cannot call a class as a function\");var _this=_possibleConstructorReturn(this,_getPrototypeOf(LineSegments2).call(this,_geometry,_material));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"type\",\"LineSegments2\");(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"isLineSegments2\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"distStart\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"distEnd\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"computeLineDistances\",function(){for(var geometry=_this.geometry,instanceStart=geometry.attributes.instanceStart,instanceEnd=geometry.attributes.instanceEnd,lineDistances=new Float32Array(2*instanceStart.data.count),i=0,j=0,l=instanceStart.data.count;i<l;i++,j+=2)_this.distStart.fromBufferAttribute(instanceStart,i),_this.distEnd.fromBufferAttribute(instanceEnd,i),lineDistances[j]=0===j?0:lineDistances[j-1],\nlineDistances[j+1]=lineDistances[j]+_this.distStart.distanceTo(_this.distEnd);instanceStart=new _three.InstancedInterleavedBuffer(lineDistances,2,1);geometry.setAttribute(\"instanceDistanceStart\",new _three.InterleavedBufferAttribute(instanceStart,1,0));geometry.setAttribute(\"instanceDistanceEnd\",new _three.InterleavedBufferAttribute(instanceStart,1,1));return _assertThisInitialized(_this)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"rayStart\",new _three.Vector4);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"rayEnd\",new _three.Vector4);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"ssOrigin\",new _three.Vector4);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"ssOrigin3\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"mvMatrix\",new _three.Matrix4);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"line\",new _three.Line3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"closestPoint\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"raycast\",function(raycaster,intersects){null===raycaster.camera&&console.error('LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2.');var ray=raycaster.ray,camera=raycaster.camera;raycaster=camera.projectionMatrix;var geometry=_this.geometry,material=_this.material,resolution=material.resolution;material=material.linewidth+0;var instanceStart=geometry.attributes.instanceStart;geometry=geometry.attributes.instanceEnd;var near=-camera.near;ray.at(1,_this.ssOrigin);\n_this.ssOrigin.w=1;_this.ssOrigin.applyMatrix4(camera.matrixWorldInverse);_this.ssOrigin.applyMatrix4(raycaster);_this.ssOrigin.multiplyScalar(1/_this.ssOrigin.w);_this.ssOrigin.x*=resolution.x/2;_this.ssOrigin.y*=resolution.y/2;_this.ssOrigin.z=0;_this.ssOrigin3.set(_this.ssOrigin.x,_this.ssOrigin.y,_this.ssOrigin.z);var matrixWorld=_this.matrixWorld;_this.mvMatrix.multiplyMatrices(camera.matrixWorldInverse,matrixWorld);camera=0;for(var l=instanceStart.count;camera<l;camera++)if(_this.rayStart.fromBufferAttribute(instanceStart,\ncamera),_this.rayEnd.fromBufferAttribute(geometry,camera),_this.rayStart.w=1,_this.rayEnd.w=1,_this.rayStart.applyMatrix4(_this.mvMatrix),_this.rayEnd.applyMatrix4(_this.mvMatrix),!(_this.rayStart.z>near&&_this.rayEnd.z>near)){_this.rayStart.z>near?_this.rayStart.lerp(_this.rayEnd,(_this.rayStart.z-near)/(_this.rayStart.z-_this.rayEnd.z)):_this.rayEnd.z>near&&_this.rayEnd.lerp(_this.rayStart,(_this.rayEnd.z-near)/(_this.rayEnd.z-_this.rayStart.z));_this.rayStart.applyMatrix4(raycaster);_this.rayEnd.applyMatrix4(raycaster);\n_this.rayStart.multiplyScalar(1/_this.rayStart.w);_this.rayEnd.multiplyScalar(1/_this.rayEnd.w);_this.rayStart.x*=resolution.x/2;_this.rayStart.y*=resolution.y/2;_this.rayEnd.x*=resolution.x/2;_this.rayEnd.y*=resolution.y/2;_this.line.start.set(_this.rayStart.x,_this.rayStart.y,_this.rayStart.z);_this.line.start.z=0;_this.line.end.set(_this.rayEnd.x,_this.rayEnd.y,_this.rayEnd.z);_this.line.end.z=0;var param=_this.line.closestPointToPointParameter(_this.ssOrigin3,!0);_this.line.at(param,_this.closestPoint);\nparam=_three.MathUtils.lerp(_this.rayStart.z,_this.rayEnd.z,param);param=-1<=param&&1>=param;var isInside=_this.ssOrigin3.distanceTo(_this.closestPoint)<.5*material;param&&isInside&&(_this.line.start.fromBufferAttribute(instanceStart,camera),_this.line.end.fromBufferAttribute(geometry,camera),_this.line.start.applyMatrix4(matrixWorld),_this.line.end.applyMatrix4(matrixWorld),param=new _three.Vector3,isInside=new _three.Vector3,ray.distanceSqToSegment(_this.line.start,_this.line.end,isInside,param),\nintersects.push({distance:ray.origin.distanceTo(isInside),point:isInside,face:null,faceIndex:camera,object:_assertThisInitialized(_this),uv:void 0,pointOnLine:param}))}});return _this}_inherits(LineSegments2,_Mesh);return LineSegments2}(_three.Mesh);exports.LineSegments2=global}","~:source","shadow$provide[\"module$node_modules$three_stdlib$lines$LineSegments2\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LineSegments2 = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\n\nvar _three = require(\"three\");\n\nvar _LineSegmentsGeometry = require(\"./LineSegmentsGeometry.js\");\n\nvar _LineMaterial = require(\"./LineMaterial.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar LineSegments2 =\n/*#__PURE__*/\nfunction (_Mesh) {\n  _inherits(LineSegments2, _Mesh);\n\n  function LineSegments2() {\n    var _this;\n\n    var _geometry = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new _LineSegmentsGeometry.LineSegmentsGeometry();\n\n    var _material = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _LineMaterial.LineMaterial({\n      color: Math.random() * 0xffffff\n    });\n\n    _classCallCheck(this, LineSegments2);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LineSegments2).call(this, _geometry, _material));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"type\", 'LineSegments2');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"isLineSegments2\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"distStart\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"distEnd\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"computeLineDistances\", function () {\n      var geometry = _this.geometry;\n      var instanceStart = geometry.attributes.instanceStart;\n      var instanceEnd = geometry.attributes.instanceEnd;\n      var lineDistances = new Float32Array(2 * instanceStart.data.count);\n\n      for (var i = 0, j = 0, l = instanceStart.data.count; i < l; i++, j += 2) {\n        _this.distStart.fromBufferAttribute(instanceStart, i);\n\n        _this.distEnd.fromBufferAttribute(instanceEnd, i);\n\n        lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\n        lineDistances[j + 1] = lineDistances[j] + _this.distStart.distanceTo(_this.distEnd);\n      }\n\n      var instanceDistanceBuffer = new _three.InstancedInterleavedBuffer(lineDistances, 2, 1); // d0, d1\n\n      geometry.setAttribute('instanceDistanceStart', new _three.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0)); // d0\n\n      geometry.setAttribute('instanceDistanceEnd', new _three.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1)); // d1\n\n      return _assertThisInitialized(_this);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"rayStart\", new _three.Vector4());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"rayEnd\", new _three.Vector4());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"ssOrigin\", new _three.Vector4());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"ssOrigin3\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"mvMatrix\", new _three.Matrix4());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"line\", new _three.Line3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"closestPoint\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"raycast\", function (raycaster, intersects) {\n      if (raycaster.camera === null) {\n        console.error('LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2.');\n      }\n\n      var threshold = 0;\n      var ray = raycaster.ray;\n      var camera = raycaster.camera;\n      var projectionMatrix = camera.projectionMatrix;\n      var geometry = _this.geometry;\n      var material = _this.material;\n      var resolution = material.resolution;\n      var lineWidth = material.linewidth + threshold;\n      var instanceStart = geometry.attributes.instanceStart;\n      var instanceEnd = geometry.attributes.instanceEnd; // camera forward is negative\n\n      var near = -camera.near; // pick a point 1 unit out along the ray to avoid the ray origin\n      // sitting at the camera origin which will cause \"w\" to be 0 when\n      // applying the projection matrix.\n\n      ray.at(1, _this.ssOrigin); // ndc space [ - 1.0, 1.0 ]\n\n      _this.ssOrigin.w = 1;\n\n      _this.ssOrigin.applyMatrix4(camera.matrixWorldInverse);\n\n      _this.ssOrigin.applyMatrix4(projectionMatrix);\n\n      _this.ssOrigin.multiplyScalar(1 / _this.ssOrigin.w); // screen space\n\n\n      _this.ssOrigin.x *= resolution.x / 2;\n      _this.ssOrigin.y *= resolution.y / 2;\n      _this.ssOrigin.z = 0;\n\n      _this.ssOrigin3.set(_this.ssOrigin.x, _this.ssOrigin.y, _this.ssOrigin.z);\n\n      var matrixWorld = _this.matrixWorld;\n\n      _this.mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld);\n\n      for (var i = 0, l = instanceStart.count; i < l; i++) {\n        _this.rayStart.fromBufferAttribute(instanceStart, i);\n\n        _this.rayEnd.fromBufferAttribute(instanceEnd, i);\n\n        _this.rayStart.w = 1;\n        _this.rayEnd.w = 1; // camera space\n\n        _this.rayStart.applyMatrix4(_this.mvMatrix);\n\n        _this.rayEnd.applyMatrix4(_this.mvMatrix); // skip the segment if it's entirely behind the camera\n\n\n        var isBehindCameraNear = _this.rayStart.z > near && _this.rayEnd.z > near;\n\n        if (isBehindCameraNear) {\n          continue;\n        } // trim the segment if it extends behind camera near\n\n\n        if (_this.rayStart.z > near) {\n          var deltaDist = _this.rayStart.z - _this.rayEnd.z;\n          var t = (_this.rayStart.z - near) / deltaDist;\n\n          _this.rayStart.lerp(_this.rayEnd, t);\n        } else if (_this.rayEnd.z > near) {\n          var _deltaDist = _this.rayEnd.z - _this.rayStart.z;\n\n          var _t = (_this.rayEnd.z - near) / _deltaDist;\n\n          _this.rayEnd.lerp(_this.rayStart, _t);\n        } // clip space\n\n\n        _this.rayStart.applyMatrix4(projectionMatrix);\n\n        _this.rayEnd.applyMatrix4(projectionMatrix); // ndc space [ - 1.0, 1.0 ]\n\n\n        _this.rayStart.multiplyScalar(1 / _this.rayStart.w);\n\n        _this.rayEnd.multiplyScalar(1 / _this.rayEnd.w); // screen space\n\n\n        _this.rayStart.x *= resolution.x / 2;\n        _this.rayStart.y *= resolution.y / 2;\n        _this.rayEnd.x *= resolution.x / 2;\n        _this.rayEnd.y *= resolution.y / 2; // create 2d segment\n\n        _this.line.start.set(_this.rayStart.x, _this.rayStart.y, _this.rayStart.z);\n\n        _this.line.start.z = 0;\n\n        _this.line.end.set(_this.rayEnd.x, _this.rayEnd.y, _this.rayEnd.z);\n\n        _this.line.end.z = 0; // get closest point on ray to segment\n\n        var param = _this.line.closestPointToPointParameter(_this.ssOrigin3, true);\n\n        _this.line.at(param, _this.closestPoint); // check if the intersection point is within clip space\n\n\n        var zPos = _three.MathUtils.lerp(_this.rayStart.z, _this.rayEnd.z, param);\n\n        var isInClipSpace = zPos >= -1 && zPos <= 1;\n        var isInside = _this.ssOrigin3.distanceTo(_this.closestPoint) < lineWidth * 0.5;\n\n        if (isInClipSpace && isInside) {\n          _this.line.start.fromBufferAttribute(instanceStart, i);\n\n          _this.line.end.fromBufferAttribute(instanceEnd, i);\n\n          _this.line.start.applyMatrix4(matrixWorld);\n\n          _this.line.end.applyMatrix4(matrixWorld);\n\n          var pointOnLine = new _three.Vector3();\n          var point = new _three.Vector3();\n          ray.distanceSqToSegment(_this.line.start, _this.line.end, point, pointOnLine);\n          intersects.push({\n            distance: ray.origin.distanceTo(point),\n            point: point,\n            face: null,\n            faceIndex: i,\n            object: _assertThisInitialized(_this),\n            uv: undefined,\n            pointOnLine: pointOnLine\n          });\n        }\n      }\n    });\n    return _this;\n  }\n\n  return LineSegments2;\n}(_three.Mesh);\n\nexports.LineSegments2 = LineSegments2;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$module$node_modules$three_stdlib$lines$LineSegmentsGeometry","~$shadow.js","~$module$node_modules$three_stdlib$lines$LineMaterial","~$module$node_modules$$babel$runtime$helpers$esm$defineProperty"]],"~:properties",["^5",["object","z","w","faceIndex","prototype","x","__esModule","configurable","face","value","pointOnLine","writable","distance","uv","y","LineSegments2","__proto__","color","point","constructor"]],"~:compiled-at",1630917515965,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$lines$LineSegments2.js\",\n\"lineCount\":14,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/lines/LineSegments2.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$lines$LineSegments2\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.LineSegments2 = void 0;\\n\\nvar _defineProperty2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/esm/defineProperty\\\"));\\n\\nvar _three = require(\\\"three\\\");\\n\\nvar _LineSegmentsGeometry = require(\\\"./LineSegmentsGeometry.js\\\");\\n\\nvar _LineMaterial = require(\\\"./LineMaterial.js\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \\\"default\\\": obj }; }\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\nvar LineSegments2 =\\n/*#__PURE__*/\\nfunction (_Mesh) {\\n  _inherits(LineSegments2, _Mesh);\\n\\n  function LineSegments2() {\\n    var _this;\\n\\n    var _geometry = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new _LineSegmentsGeometry.LineSegmentsGeometry();\\n\\n    var _material = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _LineMaterial.LineMaterial({\\n      color: Math.random() * 0xffffff\\n    });\\n\\n    _classCallCheck(this, LineSegments2);\\n\\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LineSegments2).call(this, _geometry, _material));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"type\\\", 'LineSegments2');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"isLineSegments2\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"distStart\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"distEnd\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"computeLineDistances\\\", function () {\\n      var geometry = _this.geometry;\\n      var instanceStart = geometry.attributes.instanceStart;\\n      var instanceEnd = geometry.attributes.instanceEnd;\\n      var lineDistances = new Float32Array(2 * instanceStart.data.count);\\n\\n      for (var i = 0, j = 0, l = instanceStart.data.count; i < l; i++, j += 2) {\\n        _this.distStart.fromBufferAttribute(instanceStart, i);\\n\\n        _this.distEnd.fromBufferAttribute(instanceEnd, i);\\n\\n        lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1];\\n        lineDistances[j + 1] = lineDistances[j] + _this.distStart.distanceTo(_this.distEnd);\\n      }\\n\\n      var instanceDistanceBuffer = new _three.InstancedInterleavedBuffer(lineDistances, 2, 1); // d0, d1\\n\\n      geometry.setAttribute('instanceDistanceStart', new _three.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0)); // d0\\n\\n      geometry.setAttribute('instanceDistanceEnd', new _three.InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1)); // d1\\n\\n      return _assertThisInitialized(_this);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"rayStart\\\", new _three.Vector4());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"rayEnd\\\", new _three.Vector4());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"ssOrigin\\\", new _three.Vector4());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"ssOrigin3\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"mvMatrix\\\", new _three.Matrix4());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"line\\\", new _three.Line3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"closestPoint\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"raycast\\\", function (raycaster, intersects) {\\n      if (raycaster.camera === null) {\\n        console.error('LineSegments2: \\\"Raycaster.camera\\\" needs to be set in order to raycast against LineSegments2.');\\n      }\\n\\n      var threshold = 0;\\n      var ray = raycaster.ray;\\n      var camera = raycaster.camera;\\n      var projectionMatrix = camera.projectionMatrix;\\n      var geometry = _this.geometry;\\n      var material = _this.material;\\n      var resolution = material.resolution;\\n      var lineWidth = material.linewidth + threshold;\\n      var instanceStart = geometry.attributes.instanceStart;\\n      var instanceEnd = geometry.attributes.instanceEnd; // camera forward is negative\\n\\n      var near = -camera.near; // pick a point 1 unit out along the ray to avoid the ray origin\\n      // sitting at the camera origin which will cause \\\"w\\\" to be 0 when\\n      // applying the projection matrix.\\n\\n      ray.at(1, _this.ssOrigin); // ndc space [ - 1.0, 1.0 ]\\n\\n      _this.ssOrigin.w = 1;\\n\\n      _this.ssOrigin.applyMatrix4(camera.matrixWorldInverse);\\n\\n      _this.ssOrigin.applyMatrix4(projectionMatrix);\\n\\n      _this.ssOrigin.multiplyScalar(1 / _this.ssOrigin.w); // screen space\\n\\n\\n      _this.ssOrigin.x *= resolution.x / 2;\\n      _this.ssOrigin.y *= resolution.y / 2;\\n      _this.ssOrigin.z = 0;\\n\\n      _this.ssOrigin3.set(_this.ssOrigin.x, _this.ssOrigin.y, _this.ssOrigin.z);\\n\\n      var matrixWorld = _this.matrixWorld;\\n\\n      _this.mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld);\\n\\n      for (var i = 0, l = instanceStart.count; i < l; i++) {\\n        _this.rayStart.fromBufferAttribute(instanceStart, i);\\n\\n        _this.rayEnd.fromBufferAttribute(instanceEnd, i);\\n\\n        _this.rayStart.w = 1;\\n        _this.rayEnd.w = 1; // camera space\\n\\n        _this.rayStart.applyMatrix4(_this.mvMatrix);\\n\\n        _this.rayEnd.applyMatrix4(_this.mvMatrix); // skip the segment if it's entirely behind the camera\\n\\n\\n        var isBehindCameraNear = _this.rayStart.z > near && _this.rayEnd.z > near;\\n\\n        if (isBehindCameraNear) {\\n          continue;\\n        } // trim the segment if it extends behind camera near\\n\\n\\n        if (_this.rayStart.z > near) {\\n          var deltaDist = _this.rayStart.z - _this.rayEnd.z;\\n          var t = (_this.rayStart.z - near) / deltaDist;\\n\\n          _this.rayStart.lerp(_this.rayEnd, t);\\n        } else if (_this.rayEnd.z > near) {\\n          var _deltaDist = _this.rayEnd.z - _this.rayStart.z;\\n\\n          var _t = (_this.rayEnd.z - near) / _deltaDist;\\n\\n          _this.rayEnd.lerp(_this.rayStart, _t);\\n        } // clip space\\n\\n\\n        _this.rayStart.applyMatrix4(projectionMatrix);\\n\\n        _this.rayEnd.applyMatrix4(projectionMatrix); // ndc space [ - 1.0, 1.0 ]\\n\\n\\n        _this.rayStart.multiplyScalar(1 / _this.rayStart.w);\\n\\n        _this.rayEnd.multiplyScalar(1 / _this.rayEnd.w); // screen space\\n\\n\\n        _this.rayStart.x *= resolution.x / 2;\\n        _this.rayStart.y *= resolution.y / 2;\\n        _this.rayEnd.x *= resolution.x / 2;\\n        _this.rayEnd.y *= resolution.y / 2; // create 2d segment\\n\\n        _this.line.start.set(_this.rayStart.x, _this.rayStart.y, _this.rayStart.z);\\n\\n        _this.line.start.z = 0;\\n\\n        _this.line.end.set(_this.rayEnd.x, _this.rayEnd.y, _this.rayEnd.z);\\n\\n        _this.line.end.z = 0; // get closest point on ray to segment\\n\\n        var param = _this.line.closestPointToPointParameter(_this.ssOrigin3, true);\\n\\n        _this.line.at(param, _this.closestPoint); // check if the intersection point is within clip space\\n\\n\\n        var zPos = _three.MathUtils.lerp(_this.rayStart.z, _this.rayEnd.z, param);\\n\\n        var isInClipSpace = zPos >= -1 && zPos <= 1;\\n        var isInside = _this.ssOrigin3.distanceTo(_this.closestPoint) < lineWidth * 0.5;\\n\\n        if (isInClipSpace && isInside) {\\n          _this.line.start.fromBufferAttribute(instanceStart, i);\\n\\n          _this.line.end.fromBufferAttribute(instanceEnd, i);\\n\\n          _this.line.start.applyMatrix4(matrixWorld);\\n\\n          _this.line.end.applyMatrix4(matrixWorld);\\n\\n          var pointOnLine = new _three.Vector3();\\n          var point = new _three.Vector3();\\n          ray.distanceSqToSegment(_this.line.start, _this.line.end, point, pointOnLine);\\n          intersects.push({\\n            distance: ray.origin.distanceTo(point),\\n            point: point,\\n            face: null,\\n            faceIndex: i,\\n            object: _assertThisInitialized(_this),\\n            uv: undefined,\\n            pointOnLine: pointOnLine\\n          });\\n        }\\n      }\\n    });\\n    return _this;\\n  }\\n\\n  return LineSegments2;\\n}(_three.Mesh);\\n\\nexports.LineSegments2 = LineSegments2;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_possibleConstructorReturn\",\"self\",\"call\",\"_assertThisInitialized\",\"_getPrototypeOf\",\"o\",\"Object\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"ReferenceError\",\"_inherits\",\"subClass\",\"superClass\",\"TypeError\",\"create\",\"value\",\"writable\",\"configurable\",\"_setPrototypeOf\",\"p\",\"defineProperty\",\"LineSegments2\",\"_defineProperty2\",\"_interopRequireDefault\",\"__esModule\",\"_three\",\"_LineSegmentsGeometry\",\"_LineMaterial\",\"_Mesh\",\"_geometry\",\"arguments\",\"length\",\"undefined\",\"LineSegmentsGeometry\",\"_material\",\"LineMaterial\",\"color\",\"Math\",\"random\",\"instance\",\"_this\",\"Vector3\",\"geometry\",\"instanceStart\",\"attributes\",\"instanceEnd\",\"lineDistances\",\"Float32Array\",\"data\",\"count\",\"i\",\"j\",\"l\",\"distStart\",\"fromBufferAttribute\",\"distEnd\",\"distanceTo\",\"instanceDistanceBuffer\",\"InstancedInterleavedBuffer\",\"setAttribute\",\"InterleavedBufferAttribute\",\"Vector4\",\"Matrix4\",\"Line3\",\"raycaster\",\"intersects\",\"camera\",\"console\",\"error\",\"ray\",\"projectionMatrix\",\"material\",\"resolution\",\"lineWidth\",\"linewidth\",\"threshold\",\"near\",\"at\",\"ssOrigin\",\"w\",\"applyMatrix4\",\"matrixWorldInverse\",\"multiplyScalar\",\"x\",\"y\",\"z\",\"ssOrigin3\",\"set\",\"matrixWorld\",\"mvMatrix\",\"multiplyMatrices\",\"rayStart\",\"isBehindCameraNear\",\"rayEnd\",\"lerp\",\"line\",\"start\",\"end\",\"param\",\"closestPointToPointParameter\",\"closestPoint\",\"zPos\",\"MathUtils\",\"isInClipSpace\",\"isInside\",\"pointOnLine\",\"point\",\"distanceSqToSegment\",\"push\",\"distance\",\"origin\",\"face\",\"faceIndex\",\"object\",\"uv\",\"Mesh\"]\n}\n"]