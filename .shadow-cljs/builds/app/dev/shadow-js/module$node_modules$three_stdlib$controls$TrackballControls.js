["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/controls/TrackballControls.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$controls$TrackballControls=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _possibleConstructorReturn(self,call){return!call||\"object\"!==_typeof(call)&&\"function\"!==\ntypeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");\nsubClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.TrackballControls=void 0;var _defineProperty2=function(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}(require(\"module$node_modules$$babel$runtime$helpers$esm$defineProperty\")),\n_three=require(\"module$node_modules$three$build$three_module\");global=function(_EventDispatcher){function TrackballControls(object,domElement){if(!(this instanceof TrackballControls))throw new TypeError(\"Cannot call a class as a function\");var _this=_possibleConstructorReturn(this,_getPrototypeOf(TrackballControls).call(this));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"enabled\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"screen\",{left:0,top:0,width:0,height:0});\n(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"rotateSpeed\",1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"zoomSpeed\",1.2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"panSpeed\",.3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"noRotate\",!1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"noZoom\",!1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"noPan\",!1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"staticMoving\",!1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"dynamicDampingFactor\",.2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"minDistance\",0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"maxDistance\",Infinity);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"keys\",[\"KeyA\",\"KeyS\",\"KeyD\"]);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"mouseButtons\",{LEFT:_three.MOUSE.ROTATE,MIDDLE:_three.MOUSE.DOLLY,RIGHT:_three.MOUSE.PAN});\n(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"object\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"domElement\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"target\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"STATE\",{NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"EPS\",1E-6);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"lastPosition\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"lastZoom\",1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_state\",_this.STATE.NONE);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_keyState\",_this.STATE.NONE);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_eye\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_movePrev\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"_moveCurr\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_lastAxis\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_lastAngle\",0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_zoomStart\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_zoomEnd\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_touchZoomDistanceStart\",0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"_touchZoomDistanceEnd\",0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_panStart\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"_panEnd\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"target0\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"position0\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"up0\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"zoom0\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"changeEvent\",{type:\"change\"});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"startEvent\",{type:\"start\"});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"endEvent\",{type:\"end\"});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onScreenVector\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"getMouseOnScreen\",function(pageX,pageY){_this.onScreenVector.set((pageX-\n_this.screen.left)/_this.screen.width,(pageY-_this.screen.top)/_this.screen.height);return _this.onScreenVector});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onCircleVector\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"getMouseOnCircle\",function(pageX,pageY){_this.onCircleVector.set((pageX-.5*_this.screen.width-_this.screen.left)/(.5*_this.screen.width),(_this.screen.height+2*(_this.screen.top-pageY))/_this.screen.width);return _this.onCircleVector});\n(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"axis\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"quaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"eyeDirection\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"objectUpDirection\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"objectSidewaysDirection\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"moveDirection\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"angle\",0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"rotateCamera\",function(){_this.moveDirection.set(_this._moveCurr.x-_this._movePrev.x,_this._moveCurr.y-_this._movePrev.y,0);_this.angle=_this.moveDirection.length();_this.angle?(_this._eye.copy(_this.object.position).sub(_this.target),_this.eyeDirection.copy(_this._eye).normalize(),_this.objectUpDirection.copy(_this.object.up).normalize(),\n_this.objectSidewaysDirection.crossVectors(_this.objectUpDirection,_this.eyeDirection).normalize(),_this.objectUpDirection.setLength(_this._moveCurr.y-_this._movePrev.y),_this.objectSidewaysDirection.setLength(_this._moveCurr.x-_this._movePrev.x),_this.moveDirection.copy(_this.objectUpDirection.add(_this.objectSidewaysDirection)),_this.axis.crossVectors(_this.moveDirection,_this._eye).normalize(),_this.angle*=_this.rotateSpeed,_this.quaternion.setFromAxisAngle(_this.axis,_this.angle),_this._eye.applyQuaternion(_this.quaternion),\n_this.object.up.applyQuaternion(_this.quaternion),_this._lastAxis.copy(_this.axis),_this._lastAngle=_this.angle):!_this.staticMoving&&_this._lastAngle&&(_this._lastAngle*=Math.sqrt(1-_this.dynamicDampingFactor),_this._eye.copy(_this.object.position).sub(_this.target),_this.quaternion.setFromAxisAngle(_this._lastAxis,_this._lastAngle),_this._eye.applyQuaternion(_this.quaternion),_this.object.up.applyQuaternion(_this.quaternion));_this._movePrev.copy(_this._moveCurr)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"zoomCamera\",function(){if(_this._state===_this.STATE.TOUCH_ZOOM_PAN){var factor=_this._touchZoomDistanceStart/_this._touchZoomDistanceEnd;_this._touchZoomDistanceStart=_this._touchZoomDistanceEnd;_this.object.isPerspectiveCamera?_this._eye.multiplyScalar(factor):_this.object.isOrthographicCamera?(_this.object.zoom*=factor,_this.object.updateProjectionMatrix()):console.warn(\"THREE.TrackballControls: Unsupported camera type\")}else factor=1+(_this._zoomEnd.y-_this._zoomStart.y)*_this.zoomSpeed,1!==\nfactor&&0<factor&&(_this.object.isPerspectiveCamera?_this._eye.multiplyScalar(factor):_this.object.isOrthographicCamera?(_this.object.zoom/=factor,_this.object.updateProjectionMatrix()):console.warn(\"THREE.TrackballControls: Unsupported camera type\")),_this.staticMoving?_this._zoomStart.copy(_this._zoomEnd):_this._zoomStart.y+=(_this._zoomEnd.y-_this._zoomStart.y)*_this.dynamicDampingFactor});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"mouseChange\",new _three.Vector2);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"objectUp\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"pan\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"panCamera\",function(){_this.mouseChange.copy(_this._panEnd).sub(_this._panStart);if(_this.mouseChange.lengthSq()){if(_this.object.isOrthographicCamera){var orthoObject=_this.object,scale_y=(orthoObject.top-orthoObject.bottom)/_this.object.zoom/_this.domElement.clientWidth;_this.mouseChange.x*=(orthoObject.right-orthoObject.left)/\n_this.object.zoom/_this.domElement.clientWidth;_this.mouseChange.y*=scale_y}_this.mouseChange.multiplyScalar(_this._eye.length()*_this.panSpeed);_this.pan.copy(_this._eye).cross(_this.object.up).setLength(_this.mouseChange.x);_this.pan.add(_this.objectUp.copy(_this.object.up).setLength(_this.mouseChange.y));_this.object.position.add(_this.pan);_this.target.add(_this.pan);_this.staticMoving?_this._panStart.copy(_this._panEnd):_this._panStart.add(_this.mouseChange.subVectors(_this._panEnd,_this._panStart).multiplyScalar(_this.dynamicDampingFactor))}});\n(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"checkDistances\",function(){_this.noZoom&&_this.noPan||(_this._eye.lengthSq()>_this.maxDistance*_this.maxDistance&&(_this.object.position.addVectors(_this.target,_this._eye.setLength(_this.maxDistance)),_this._zoomStart.copy(_this._zoomEnd)),_this._eye.lengthSq()<_this.minDistance*_this.minDistance&&(_this.object.position.addVectors(_this.target,_this._eye.setLength(_this.minDistance)),_this._zoomStart.copy(_this._zoomEnd)))});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"handleResize\",function(){var box=_this.domElement.getBoundingClientRect(),d=_this.domElement.ownerDocument.documentElement;_this.screen.left=box.left+window.pageXOffset-d.clientLeft;_this.screen.top=box.top+window.pageYOffset-d.clientTop;_this.screen.width=box.width;_this.screen.height=box.height});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"update\",function(){_this._eye.subVectors(_this.object.position,_this.target);_this.noRotate||_this.rotateCamera();_this.noZoom||_this.zoomCamera();\n_this.noPan||_this.panCamera();_this.object.position.addVectors(_this.target,_this._eye);if(_this.object.isPerspectiveCamera)_this.checkDistances(),_this.object.lookAt(_this.target),_this.lastPosition.distanceToSquared(_this.object.position)>_this.EPS&&(_this.dispatchEvent(_this.changeEvent),_this.lastPosition.copy(_this.object.position));else if(_this.object.isOrthographicCamera){if(_this.object.lookAt(_this.target),_this.lastPosition.distanceToSquared(_this.object.position)>_this.EPS||_this.lastZoom!==\n_this.object.zoom)_this.dispatchEvent(_this.changeEvent),_this.lastPosition.copy(_this.object.position),_this.lastZoom=_this.object.zoom}else console.warn(\"THREE.TrackballControls: Unsupported camera type\")});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"reset\",function(){_this._state=_this.STATE.NONE;_this._keyState=_this.STATE.NONE;_this.target.copy(_this.target0);_this.object.position.copy(_this.position0);_this.object.up.copy(_this.up0);_this.object.zoom=_this.zoom0;_this.object.updateProjectionMatrix();\n_this._eye.subVectors(_this.object.position,_this.target);_this.object.lookAt(_this.target);_this.dispatchEvent(_this.changeEvent);_this.lastPosition.copy(_this.object.position);_this.lastZoom=_this.object.zoom});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"keydown\",function(event){!1!==_this.enabled&&(window.removeEventListener(\"keydown\",_this.keydown),_this._keyState===_this.STATE.NONE)&&(event.code!==_this.keys[_this.STATE.ROTATE]||_this.noRotate?event.code!==_this.keys[_this.STATE.ZOOM]||\n_this.noZoom?event.code!==_this.keys[_this.STATE.PAN]||_this.noPan||(_this._keyState=_this.STATE.PAN):_this._keyState=_this.STATE.ZOOM:_this._keyState=_this.STATE.ROTATE)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onPointerDown\",function(event){if(!1!==_this.enabled)switch(event.pointerType){case \"mouse\":case \"pen\":_this.onMouseDown(event)}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onPointerMove\",function(event){if(!1!==_this.enabled)switch(event.pointerType){case \"mouse\":case \"pen\":_this.onMouseMove(event)}});\n(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onPointerUp\",function(event){if(!1!==_this.enabled)switch(event.pointerType){case \"mouse\":case \"pen\":_this.onMouseUp()}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"keyup\",function(){!1!==_this.enabled&&(_this._keyState=_this.STATE.NONE,window.addEventListener(\"keydown\",_this.keydown))});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onMouseDown\",function(event){if(_this._state===_this.STATE.NONE)switch(event.button){case _this.mouseButtons.LEFT:_this._state=\n_this.STATE.ROTATE;break;case _this.mouseButtons.MIDDLE:_this._state=_this.STATE.ZOOM;break;case _this.mouseButtons.RIGHT:_this._state=_this.STATE.PAN;break;default:_this._state=_this.STATE.NONE}var state=_this._keyState!==_this.STATE.NONE?_this._keyState:_this._state;state!==_this.STATE.ROTATE||_this.noRotate?state!==_this.STATE.ZOOM||_this.noZoom?state!==_this.STATE.PAN||_this.noPan||(_this._panStart.copy(_this.getMouseOnScreen(event.pageX,event.pageY)),_this._panEnd.copy(_this._panStart)):(_this._zoomStart.copy(_this.getMouseOnScreen(event.pageX,\nevent.pageY)),_this._zoomEnd.copy(_this._zoomStart)):(_this._moveCurr.copy(_this.getMouseOnCircle(event.pageX,event.pageY)),_this._movePrev.copy(_this._moveCurr));_this.domElement.ownerDocument.addEventListener(\"pointermove\",_this.onPointerMove);_this.domElement.ownerDocument.addEventListener(\"pointerup\",_this.onPointerUp);_this.dispatchEvent(_this.startEvent)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onMouseMove\",function(event){if(!1!==_this.enabled){var state=_this._keyState!==\n_this.STATE.NONE?_this._keyState:_this._state;state!==_this.STATE.ROTATE||_this.noRotate?state!==_this.STATE.ZOOM||_this.noZoom?state!==_this.STATE.PAN||_this.noPan||_this._panEnd.copy(_this.getMouseOnScreen(event.pageX,event.pageY)):_this._zoomEnd.copy(_this.getMouseOnScreen(event.pageX,event.pageY)):(_this._movePrev.copy(_this._moveCurr),_this._moveCurr.copy(_this.getMouseOnCircle(event.pageX,event.pageY)))}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onMouseUp\",function(){!1!==\n_this.enabled&&(_this._state=_this.STATE.NONE,_this.domElement.ownerDocument.removeEventListener(\"pointermove\",_this.onPointerMove),_this.domElement.ownerDocument.removeEventListener(\"pointerup\",_this.onPointerUp),_this.dispatchEvent(_this.endEvent))});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"mousewheel\",function(event){if(!1!==_this.enabled&&!0!==_this.noZoom){event.preventDefault();switch(event.deltaMode){case 2:_this._zoomStart.y-=.025*event.deltaY;break;case 1:_this._zoomStart.y-=\n.01*event.deltaY;break;default:_this._zoomStart.y-=2.5E-4*event.deltaY}_this.dispatchEvent(_this.startEvent);_this.dispatchEvent(_this.endEvent)}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"touchstart\",function(event){if(!1!==_this.enabled){event.preventDefault();switch(event.touches.length){case 1:_this._state=_this.STATE.TOUCH_ROTATE;_this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX,event.touches[0].pageY));_this._movePrev.copy(_this._moveCurr);break;default:_this._state=\n_this.STATE.TOUCH_ZOOM_PAN;var dx=event.touches[0].pageX-event.touches[1].pageX,dy=event.touches[0].pageY-event.touches[1].pageY;_this._touchZoomDistanceEnd=_this._touchZoomDistanceStart=Math.sqrt(dx*dx+dy*dy);_this._panStart.copy(_this.getMouseOnScreen((event.touches[0].pageX+event.touches[1].pageX)/2,(event.touches[0].pageY+event.touches[1].pageY)/2));_this._panEnd.copy(_this._panStart)}_this.dispatchEvent(_this.startEvent)}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"touchmove\",\nfunction(event){if(!1!==_this.enabled)switch(event.preventDefault(),event.touches.length){case 1:_this._movePrev.copy(_this._moveCurr);_this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX,event.touches[0].pageY));break;default:var dx=event.touches[0].pageX-event.touches[1].pageX,dy=event.touches[0].pageY-event.touches[1].pageY;_this._touchZoomDistanceEnd=Math.sqrt(dx*dx+dy*dy);_this._panEnd.copy(_this.getMouseOnScreen((event.touches[0].pageX+event.touches[1].pageX)/2,(event.touches[0].pageY+\nevent.touches[1].pageY)/2))}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"touchend\",function(event){if(!1!==_this.enabled){switch(event.touches.length){case 0:_this._state=_this.STATE.NONE;break;case 1:_this._state=_this.STATE.TOUCH_ROTATE,_this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX,event.touches[0].pageY)),_this._movePrev.copy(_this._moveCurr)}_this.dispatchEvent(_this.endEvent)}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"contextmenu\",\nfunction(event){!1!==_this.enabled&&event.preventDefault()});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"dispose\",function(){_this.domElement.removeEventListener(\"contextmenu\",_this.contextmenu);_this.domElement.removeEventListener(\"pointerdown\",_this.onPointerDown);_this.domElement.removeEventListener(\"wheel\",_this.mousewheel);_this.domElement.removeEventListener(\"touchstart\",_this.touchstart);_this.domElement.removeEventListener(\"touchend\",_this.touchend);_this.domElement.removeEventListener(\"touchmove\",\n_this.touchmove);_this.domElement.ownerDocument.removeEventListener(\"pointermove\",_this.onPointerMove);_this.domElement.ownerDocument.removeEventListener(\"pointerup\",_this.onPointerUp);window.removeEventListener(\"keydown\",_this.keydown);window.removeEventListener(\"keyup\",_this.keyup)});void 0===domElement&&console.warn('THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.');_this.object=object;_this.domElement=domElement;_this.target0=_this.target.clone();_this.position0=_this.object.position.clone();\n_this.up0=_this.object.up.clone();_this.zoom0=_this.object.zoom;_this.domElement.addEventListener(\"contextmenu\",_this.contextmenu);_this.domElement.addEventListener(\"pointerdown\",_this.onPointerDown);_this.domElement.addEventListener(\"wheel\",_this.mousewheel);_this.domElement.addEventListener(\"touchstart\",_this.touchstart);_this.domElement.addEventListener(\"touchend\",_this.touchend);_this.domElement.addEventListener(\"touchmove\",_this.touchmove);_this.domElement.ownerDocument.addEventListener(\"pointermove\",\n_this.onPointerMove);_this.domElement.ownerDocument.addEventListener(\"pointerup\",_this.onPointerUp);window.addEventListener(\"keydown\",_this.keydown);window.addEventListener(\"keyup\",_this.keyup);_this.handleResize();_this.update();return _this}_inherits(TrackballControls,_EventDispatcher);return TrackballControls}(_three.EventDispatcher);exports.TrackballControls=global}","~:source","shadow$provide[\"module$node_modules$three_stdlib$controls$TrackballControls\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TrackballControls = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\n\nvar _three = require(\"three\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar TrackballControls =\n/*#__PURE__*/\nfunction (_EventDispatcher) {\n  _inherits(TrackballControls, _EventDispatcher);\n\n  // internals\n  // events\n  function TrackballControls(object, domElement) {\n    var _this;\n\n    _classCallCheck(this, TrackballControls);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TrackballControls).call(this));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"enabled\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"screen\", {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"rotateSpeed\", 1.0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"zoomSpeed\", 1.2);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"panSpeed\", 0.3);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"noRotate\", false);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"noZoom\", false);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"noPan\", false);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"staticMoving\", false);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"dynamicDampingFactor\", 0.2);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"minDistance\", 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"maxDistance\", Infinity);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"keys\", ['KeyA'\n    /*A*/\n    , 'KeyS'\n    /*S*/\n    , 'KeyD'\n    /*D*/\n    ]);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"mouseButtons\", {\n      LEFT: _three.MOUSE.ROTATE,\n      MIDDLE: _three.MOUSE.DOLLY,\n      RIGHT: _three.MOUSE.PAN\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"object\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"domElement\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"target\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"STATE\", {\n      NONE: -1,\n      ROTATE: 0,\n      ZOOM: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_ZOOM_PAN: 4\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"EPS\", 0.000001);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"lastPosition\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"lastZoom\", 1);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_state\", _this.STATE.NONE);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_keyState\", _this.STATE.NONE);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_eye\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_movePrev\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_moveCurr\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_lastAxis\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_lastAngle\", 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_zoomStart\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_zoomEnd\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_touchZoomDistanceStart\", 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_touchZoomDistanceEnd\", 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_panStart\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"_panEnd\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"target0\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"position0\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"up0\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"zoom0\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"changeEvent\", {\n      type: 'change'\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"startEvent\", {\n      type: 'start'\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"endEvent\", {\n      type: 'end'\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onScreenVector\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"getMouseOnScreen\", function (pageX, pageY) {\n      _this.onScreenVector.set((pageX - _this.screen.left) / _this.screen.width, (pageY - _this.screen.top) / _this.screen.height);\n\n      return _this.onScreenVector;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onCircleVector\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"getMouseOnCircle\", function (pageX, pageY) {\n      _this.onCircleVector.set((pageX - _this.screen.width * 0.5 - _this.screen.left) / (_this.screen.width * 0.5), (_this.screen.height + 2 * (_this.screen.top - pageY)) / _this.screen.width // screen.width intentional\n      );\n\n      return _this.onCircleVector;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"axis\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"quaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"eyeDirection\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"objectUpDirection\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"objectSidewaysDirection\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"moveDirection\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"angle\", 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"rotateCamera\", function () {\n      _this.moveDirection.set(_this._moveCurr.x - _this._movePrev.x, _this._moveCurr.y - _this._movePrev.y, 0);\n\n      _this.angle = _this.moveDirection.length();\n\n      if (_this.angle) {\n        _this._eye.copy(_this.object.position).sub(_this.target);\n\n        _this.eyeDirection.copy(_this._eye).normalize();\n\n        _this.objectUpDirection.copy(_this.object.up).normalize();\n\n        _this.objectSidewaysDirection.crossVectors(_this.objectUpDirection, _this.eyeDirection).normalize();\n\n        _this.objectUpDirection.setLength(_this._moveCurr.y - _this._movePrev.y);\n\n        _this.objectSidewaysDirection.setLength(_this._moveCurr.x - _this._movePrev.x);\n\n        _this.moveDirection.copy(_this.objectUpDirection.add(_this.objectSidewaysDirection));\n\n        _this.axis.crossVectors(_this.moveDirection, _this._eye).normalize();\n\n        _this.angle *= _this.rotateSpeed;\n\n        _this.quaternion.setFromAxisAngle(_this.axis, _this.angle);\n\n        _this._eye.applyQuaternion(_this.quaternion);\n\n        _this.object.up.applyQuaternion(_this.quaternion);\n\n        _this._lastAxis.copy(_this.axis);\n\n        _this._lastAngle = _this.angle;\n      } else if (!_this.staticMoving && _this._lastAngle) {\n        _this._lastAngle *= Math.sqrt(1.0 - _this.dynamicDampingFactor);\n\n        _this._eye.copy(_this.object.position).sub(_this.target);\n\n        _this.quaternion.setFromAxisAngle(_this._lastAxis, _this._lastAngle);\n\n        _this._eye.applyQuaternion(_this.quaternion);\n\n        _this.object.up.applyQuaternion(_this.quaternion);\n      }\n\n      _this._movePrev.copy(_this._moveCurr);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"zoomCamera\", function () {\n      var factor;\n\n      if (_this._state === _this.STATE.TOUCH_ZOOM_PAN) {\n        factor = _this._touchZoomDistanceStart / _this._touchZoomDistanceEnd;\n        _this._touchZoomDistanceStart = _this._touchZoomDistanceEnd;\n\n        if (_this.object.isPerspectiveCamera) {\n          _this._eye.multiplyScalar(factor);\n        } else if (_this.object.isOrthographicCamera) {\n          _this.object.zoom *= factor;\n\n          _this.object.updateProjectionMatrix();\n        } else {\n          console.warn('THREE.TrackballControls: Unsupported camera type');\n        }\n      } else {\n        factor = 1.0 + (_this._zoomEnd.y - _this._zoomStart.y) * _this.zoomSpeed;\n\n        if (factor !== 1.0 && factor > 0.0) {\n          if (_this.object.isPerspectiveCamera) {\n            _this._eye.multiplyScalar(factor);\n          } else if (_this.object.isOrthographicCamera) {\n            _this.object.zoom /= factor;\n\n            _this.object.updateProjectionMatrix();\n          } else {\n            console.warn('THREE.TrackballControls: Unsupported camera type');\n          }\n        }\n\n        if (_this.staticMoving) {\n          _this._zoomStart.copy(_this._zoomEnd);\n        } else {\n          _this._zoomStart.y += (_this._zoomEnd.y - _this._zoomStart.y) * _this.dynamicDampingFactor;\n        }\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"mouseChange\", new _three.Vector2());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"objectUp\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"pan\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"panCamera\", function () {\n      _this.mouseChange.copy(_this._panEnd).sub(_this._panStart);\n\n      if (_this.mouseChange.lengthSq()) {\n        if (_this.object.isOrthographicCamera) {\n          var orthoObject = _this.object;\n          var scale_x = (orthoObject.right - orthoObject.left) / _this.object.zoom / _this.domElement.clientWidth;\n          var scale_y = (orthoObject.top - orthoObject.bottom) / _this.object.zoom / _this.domElement.clientWidth;\n          _this.mouseChange.x *= scale_x;\n          _this.mouseChange.y *= scale_y;\n        }\n\n        _this.mouseChange.multiplyScalar(_this._eye.length() * _this.panSpeed);\n\n        _this.pan.copy(_this._eye).cross(_this.object.up).setLength(_this.mouseChange.x);\n\n        _this.pan.add(_this.objectUp.copy(_this.object.up).setLength(_this.mouseChange.y));\n\n        _this.object.position.add(_this.pan);\n\n        _this.target.add(_this.pan);\n\n        if (_this.staticMoving) {\n          _this._panStart.copy(_this._panEnd);\n        } else {\n          _this._panStart.add(_this.mouseChange.subVectors(_this._panEnd, _this._panStart).multiplyScalar(_this.dynamicDampingFactor));\n        }\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"checkDistances\", function () {\n      if (!_this.noZoom || !_this.noPan) {\n        if (_this._eye.lengthSq() > _this.maxDistance * _this.maxDistance) {\n          _this.object.position.addVectors(_this.target, _this._eye.setLength(_this.maxDistance));\n\n          _this._zoomStart.copy(_this._zoomEnd);\n        }\n\n        if (_this._eye.lengthSq() < _this.minDistance * _this.minDistance) {\n          _this.object.position.addVectors(_this.target, _this._eye.setLength(_this.minDistance));\n\n          _this._zoomStart.copy(_this._zoomEnd);\n        }\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"handleResize\", function () {\n      var box = _this.domElement.getBoundingClientRect(); // adjustments come from similar code in the jquery offset() function\n\n\n      var d = _this.domElement.ownerDocument.documentElement;\n      _this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n      _this.screen.top = box.top + window.pageYOffset - d.clientTop;\n      _this.screen.width = box.width;\n      _this.screen.height = box.height;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"update\", function () {\n      _this._eye.subVectors(_this.object.position, _this.target);\n\n      if (!_this.noRotate) {\n        _this.rotateCamera();\n      }\n\n      if (!_this.noZoom) {\n        _this.zoomCamera();\n      }\n\n      if (!_this.noPan) {\n        _this.panCamera();\n      }\n\n      _this.object.position.addVectors(_this.target, _this._eye);\n\n      if (_this.object.isPerspectiveCamera) {\n        _this.checkDistances();\n\n        _this.object.lookAt(_this.target);\n\n        if (_this.lastPosition.distanceToSquared(_this.object.position) > _this.EPS) {\n          _this.dispatchEvent(_this.changeEvent);\n\n          _this.lastPosition.copy(_this.object.position);\n        }\n      } else if (_this.object.isOrthographicCamera) {\n        _this.object.lookAt(_this.target);\n\n        if (_this.lastPosition.distanceToSquared(_this.object.position) > _this.EPS || _this.lastZoom !== _this.object.zoom) {\n          _this.dispatchEvent(_this.changeEvent);\n\n          _this.lastPosition.copy(_this.object.position);\n\n          _this.lastZoom = _this.object.zoom;\n        }\n      } else {\n        console.warn('THREE.TrackballControls: Unsupported camera type');\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"reset\", function () {\n      _this._state = _this.STATE.NONE;\n      _this._keyState = _this.STATE.NONE;\n\n      _this.target.copy(_this.target0);\n\n      _this.object.position.copy(_this.position0);\n\n      _this.object.up.copy(_this.up0);\n\n      _this.object.zoom = _this.zoom0;\n\n      _this.object.updateProjectionMatrix();\n\n      _this._eye.subVectors(_this.object.position, _this.target);\n\n      _this.object.lookAt(_this.target);\n\n      _this.dispatchEvent(_this.changeEvent);\n\n      _this.lastPosition.copy(_this.object.position);\n\n      _this.lastZoom = _this.object.zoom;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"keydown\", function (event) {\n      if (_this.enabled === false) return;\n      window.removeEventListener('keydown', _this.keydown);\n\n      if (_this._keyState !== _this.STATE.NONE) {\n        return;\n      } else if (event.code === _this.keys[_this.STATE.ROTATE] && !_this.noRotate) {\n        _this._keyState = _this.STATE.ROTATE;\n      } else if (event.code === _this.keys[_this.STATE.ZOOM] && !_this.noZoom) {\n        _this._keyState = _this.STATE.ZOOM;\n      } else if (event.code === _this.keys[_this.STATE.PAN] && !_this.noPan) {\n        _this._keyState = _this.STATE.PAN;\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onPointerDown\", function (event) {\n      if (_this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          _this.onMouseDown(event);\n\n          break;\n        // TODO touch\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onPointerMove\", function (event) {\n      if (_this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          _this.onMouseMove(event);\n\n          break;\n        // TODO touch\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onPointerUp\", function (event) {\n      if (_this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          _this.onMouseUp();\n\n          break;\n        // TODO touch\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"keyup\", function () {\n      if (_this.enabled === false) return;\n      _this._keyState = _this.STATE.NONE;\n      window.addEventListener('keydown', _this.keydown);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onMouseDown\", function (event) {\n      if (_this._state === _this.STATE.NONE) {\n        switch (event.button) {\n          case _this.mouseButtons.LEFT:\n            _this._state = _this.STATE.ROTATE;\n            break;\n\n          case _this.mouseButtons.MIDDLE:\n            _this._state = _this.STATE.ZOOM;\n            break;\n\n          case _this.mouseButtons.RIGHT:\n            _this._state = _this.STATE.PAN;\n            break;\n\n          default:\n            _this._state = _this.STATE.NONE;\n        }\n      }\n\n      var state = _this._keyState !== _this.STATE.NONE ? _this._keyState : _this._state;\n\n      if (state === _this.STATE.ROTATE && !_this.noRotate) {\n        _this._moveCurr.copy(_this.getMouseOnCircle(event.pageX, event.pageY));\n\n        _this._movePrev.copy(_this._moveCurr);\n      } else if (state === _this.STATE.ZOOM && !_this.noZoom) {\n        _this._zoomStart.copy(_this.getMouseOnScreen(event.pageX, event.pageY));\n\n        _this._zoomEnd.copy(_this._zoomStart);\n      } else if (state === _this.STATE.PAN && !_this.noPan) {\n        _this._panStart.copy(_this.getMouseOnScreen(event.pageX, event.pageY));\n\n        _this._panEnd.copy(_this._panStart);\n      }\n\n      _this.domElement.ownerDocument.addEventListener('pointermove', _this.onPointerMove);\n\n      _this.domElement.ownerDocument.addEventListener('pointerup', _this.onPointerUp);\n\n      _this.dispatchEvent(_this.startEvent);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onMouseMove\", function (event) {\n      if (_this.enabled === false) return;\n      var state = _this._keyState !== _this.STATE.NONE ? _this._keyState : _this._state;\n\n      if (state === _this.STATE.ROTATE && !_this.noRotate) {\n        _this._movePrev.copy(_this._moveCurr);\n\n        _this._moveCurr.copy(_this.getMouseOnCircle(event.pageX, event.pageY));\n      } else if (state === _this.STATE.ZOOM && !_this.noZoom) {\n        _this._zoomEnd.copy(_this.getMouseOnScreen(event.pageX, event.pageY));\n      } else if (state === _this.STATE.PAN && !_this.noPan) {\n        _this._panEnd.copy(_this.getMouseOnScreen(event.pageX, event.pageY));\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onMouseUp\", function () {\n      if (_this.enabled === false) return;\n      _this._state = _this.STATE.NONE;\n\n      _this.domElement.ownerDocument.removeEventListener('pointermove', _this.onPointerMove);\n\n      _this.domElement.ownerDocument.removeEventListener('pointerup', _this.onPointerUp);\n\n      _this.dispatchEvent(_this.endEvent);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"mousewheel\", function (event) {\n      if (_this.enabled === false) return;\n      if (_this.noZoom === true) return;\n      event.preventDefault();\n\n      switch (event.deltaMode) {\n        case 2:\n          // Zoom in pages\n          _this._zoomStart.y -= event.deltaY * 0.025;\n          break;\n\n        case 1:\n          // Zoom in lines\n          _this._zoomStart.y -= event.deltaY * 0.01;\n          break;\n\n        default:\n          // undefined, 0, assume pixels\n          _this._zoomStart.y -= event.deltaY * 0.00025;\n          break;\n      }\n\n      _this.dispatchEvent(_this.startEvent);\n\n      _this.dispatchEvent(_this.endEvent);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"touchstart\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          _this._state = _this.STATE.TOUCH_ROTATE;\n\n          _this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          _this._movePrev.copy(_this._moveCurr);\n\n          break;\n\n        default:\n          // 2 or more\n          _this._state = _this.STATE.TOUCH_ZOOM_PAN;\n          var dx = event.touches[0].pageX - event.touches[1].pageX;\n          var dy = event.touches[0].pageY - event.touches[1].pageY;\n          _this._touchZoomDistanceEnd = _this._touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n          var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n          _this._panStart.copy(_this.getMouseOnScreen(x, y));\n\n          _this._panEnd.copy(_this._panStart);\n\n          break;\n      }\n\n      _this.dispatchEvent(_this.startEvent);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"touchmove\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          _this._movePrev.copy(_this._moveCurr);\n\n          _this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          break;\n\n        default:\n          // 2 or more\n          var dx = event.touches[0].pageX - event.touches[1].pageX;\n          var dy = event.touches[0].pageY - event.touches[1].pageY;\n          _this._touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n          var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n          _this._panEnd.copy(_this.getMouseOnScreen(x, y));\n\n          break;\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"touchend\", function (event) {\n      if (_this.enabled === false) return;\n\n      switch (event.touches.length) {\n        case 0:\n          _this._state = _this.STATE.NONE;\n          break;\n\n        case 1:\n          _this._state = _this.STATE.TOUCH_ROTATE;\n\n          _this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          _this._movePrev.copy(_this._moveCurr);\n\n          break;\n      }\n\n      _this.dispatchEvent(_this.endEvent);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"contextmenu\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"dispose\", function () {\n      _this.domElement.removeEventListener('contextmenu', _this.contextmenu);\n\n      _this.domElement.removeEventListener('pointerdown', _this.onPointerDown);\n\n      _this.domElement.removeEventListener('wheel', _this.mousewheel);\n\n      _this.domElement.removeEventListener('touchstart', _this.touchstart);\n\n      _this.domElement.removeEventListener('touchend', _this.touchend);\n\n      _this.domElement.removeEventListener('touchmove', _this.touchmove);\n\n      _this.domElement.ownerDocument.removeEventListener('pointermove', _this.onPointerMove);\n\n      _this.domElement.ownerDocument.removeEventListener('pointerup', _this.onPointerUp);\n\n      window.removeEventListener('keydown', _this.keydown);\n      window.removeEventListener('keyup', _this.keyup);\n    });\n\n    if (domElement === undefined) {\n      console.warn('THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.');\n    }\n\n    _this.object = object;\n    _this.domElement = domElement; // for reset\n\n    _this.target0 = _this.target.clone();\n    _this.position0 = _this.object.position.clone();\n    _this.up0 = _this.object.up.clone();\n    _this.zoom0 = _this.object.zoom; // listeners\n\n    _this.domElement.addEventListener('contextmenu', _this.contextmenu);\n\n    _this.domElement.addEventListener('pointerdown', _this.onPointerDown);\n\n    _this.domElement.addEventListener('wheel', _this.mousewheel);\n\n    _this.domElement.addEventListener('touchstart', _this.touchstart);\n\n    _this.domElement.addEventListener('touchend', _this.touchend);\n\n    _this.domElement.addEventListener('touchmove', _this.touchmove);\n\n    _this.domElement.ownerDocument.addEventListener('pointermove', _this.onPointerMove);\n\n    _this.domElement.ownerDocument.addEventListener('pointerup', _this.onPointerUp);\n\n    window.addEventListener('keydown', _this.keydown);\n    window.addEventListener('keyup', _this.keyup);\n\n    _this.handleResize(); // force an update at start\n\n\n    _this.update();\n\n    return _this;\n  }\n\n  return TrackballControls;\n}(_three.EventDispatcher);\n\nexports.TrackballControls = TrackballControls;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js","~$module$node_modules$$babel$runtime$helpers$esm$defineProperty"]],"~:properties",["^5",["TOUCH_ZOOM_PAN","object","width","zoom0","top","MIDDLE","prototype","height","position0","zoom","_keyState","LEFT","_lastAngle","target0","_touchZoomDistanceEnd","x","__esModule","up0","TOUCH_ROTATE","TrackballControls","ZOOM","angle","configurable","_state","value","NONE","writable","_touchZoomDistanceStart","RIGHT","type","y","__proto__","PAN","lastZoom","left","domElement","constructor","ROTATE"]],"~:compiled-at",1630917515463,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$controls$TrackballControls.js\",\n\"lineCount\":39,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/controls/TrackballControls.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$controls$TrackballControls\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.TrackballControls = void 0;\\n\\nvar _defineProperty2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/esm/defineProperty\\\"));\\n\\nvar _three = require(\\\"three\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \\\"default\\\": obj }; }\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\nvar TrackballControls =\\n/*#__PURE__*/\\nfunction (_EventDispatcher) {\\n  _inherits(TrackballControls, _EventDispatcher);\\n\\n  // internals\\n  // events\\n  function TrackballControls(object, domElement) {\\n    var _this;\\n\\n    _classCallCheck(this, TrackballControls);\\n\\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TrackballControls).call(this));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"enabled\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"screen\\\", {\\n      left: 0,\\n      top: 0,\\n      width: 0,\\n      height: 0\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"rotateSpeed\\\", 1.0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"zoomSpeed\\\", 1.2);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"panSpeed\\\", 0.3);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"noRotate\\\", false);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"noZoom\\\", false);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"noPan\\\", false);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"staticMoving\\\", false);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"dynamicDampingFactor\\\", 0.2);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"minDistance\\\", 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"maxDistance\\\", Infinity);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"keys\\\", ['KeyA'\\n    /*A*/\\n    , 'KeyS'\\n    /*S*/\\n    , 'KeyD'\\n    /*D*/\\n    ]);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"mouseButtons\\\", {\\n      LEFT: _three.MOUSE.ROTATE,\\n      MIDDLE: _three.MOUSE.DOLLY,\\n      RIGHT: _three.MOUSE.PAN\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"object\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"domElement\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"target\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"STATE\\\", {\\n      NONE: -1,\\n      ROTATE: 0,\\n      ZOOM: 1,\\n      PAN: 2,\\n      TOUCH_ROTATE: 3,\\n      TOUCH_ZOOM_PAN: 4\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"EPS\\\", 0.000001);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"lastPosition\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"lastZoom\\\", 1);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_state\\\", _this.STATE.NONE);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_keyState\\\", _this.STATE.NONE);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_eye\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_movePrev\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_moveCurr\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_lastAxis\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_lastAngle\\\", 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_zoomStart\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_zoomEnd\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_touchZoomDistanceStart\\\", 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_touchZoomDistanceEnd\\\", 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_panStart\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"_panEnd\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"target0\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"position0\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"up0\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"zoom0\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"changeEvent\\\", {\\n      type: 'change'\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"startEvent\\\", {\\n      type: 'start'\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"endEvent\\\", {\\n      type: 'end'\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onScreenVector\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"getMouseOnScreen\\\", function (pageX, pageY) {\\n      _this.onScreenVector.set((pageX - _this.screen.left) / _this.screen.width, (pageY - _this.screen.top) / _this.screen.height);\\n\\n      return _this.onScreenVector;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onCircleVector\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"getMouseOnCircle\\\", function (pageX, pageY) {\\n      _this.onCircleVector.set((pageX - _this.screen.width * 0.5 - _this.screen.left) / (_this.screen.width * 0.5), (_this.screen.height + 2 * (_this.screen.top - pageY)) / _this.screen.width // screen.width intentional\\n      );\\n\\n      return _this.onCircleVector;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"axis\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"quaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"eyeDirection\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"objectUpDirection\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"objectSidewaysDirection\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"moveDirection\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"angle\\\", 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"rotateCamera\\\", function () {\\n      _this.moveDirection.set(_this._moveCurr.x - _this._movePrev.x, _this._moveCurr.y - _this._movePrev.y, 0);\\n\\n      _this.angle = _this.moveDirection.length();\\n\\n      if (_this.angle) {\\n        _this._eye.copy(_this.object.position).sub(_this.target);\\n\\n        _this.eyeDirection.copy(_this._eye).normalize();\\n\\n        _this.objectUpDirection.copy(_this.object.up).normalize();\\n\\n        _this.objectSidewaysDirection.crossVectors(_this.objectUpDirection, _this.eyeDirection).normalize();\\n\\n        _this.objectUpDirection.setLength(_this._moveCurr.y - _this._movePrev.y);\\n\\n        _this.objectSidewaysDirection.setLength(_this._moveCurr.x - _this._movePrev.x);\\n\\n        _this.moveDirection.copy(_this.objectUpDirection.add(_this.objectSidewaysDirection));\\n\\n        _this.axis.crossVectors(_this.moveDirection, _this._eye).normalize();\\n\\n        _this.angle *= _this.rotateSpeed;\\n\\n        _this.quaternion.setFromAxisAngle(_this.axis, _this.angle);\\n\\n        _this._eye.applyQuaternion(_this.quaternion);\\n\\n        _this.object.up.applyQuaternion(_this.quaternion);\\n\\n        _this._lastAxis.copy(_this.axis);\\n\\n        _this._lastAngle = _this.angle;\\n      } else if (!_this.staticMoving && _this._lastAngle) {\\n        _this._lastAngle *= Math.sqrt(1.0 - _this.dynamicDampingFactor);\\n\\n        _this._eye.copy(_this.object.position).sub(_this.target);\\n\\n        _this.quaternion.setFromAxisAngle(_this._lastAxis, _this._lastAngle);\\n\\n        _this._eye.applyQuaternion(_this.quaternion);\\n\\n        _this.object.up.applyQuaternion(_this.quaternion);\\n      }\\n\\n      _this._movePrev.copy(_this._moveCurr);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"zoomCamera\\\", function () {\\n      var factor;\\n\\n      if (_this._state === _this.STATE.TOUCH_ZOOM_PAN) {\\n        factor = _this._touchZoomDistanceStart / _this._touchZoomDistanceEnd;\\n        _this._touchZoomDistanceStart = _this._touchZoomDistanceEnd;\\n\\n        if (_this.object.isPerspectiveCamera) {\\n          _this._eye.multiplyScalar(factor);\\n        } else if (_this.object.isOrthographicCamera) {\\n          _this.object.zoom *= factor;\\n\\n          _this.object.updateProjectionMatrix();\\n        } else {\\n          console.warn('THREE.TrackballControls: Unsupported camera type');\\n        }\\n      } else {\\n        factor = 1.0 + (_this._zoomEnd.y - _this._zoomStart.y) * _this.zoomSpeed;\\n\\n        if (factor !== 1.0 && factor > 0.0) {\\n          if (_this.object.isPerspectiveCamera) {\\n            _this._eye.multiplyScalar(factor);\\n          } else if (_this.object.isOrthographicCamera) {\\n            _this.object.zoom /= factor;\\n\\n            _this.object.updateProjectionMatrix();\\n          } else {\\n            console.warn('THREE.TrackballControls: Unsupported camera type');\\n          }\\n        }\\n\\n        if (_this.staticMoving) {\\n          _this._zoomStart.copy(_this._zoomEnd);\\n        } else {\\n          _this._zoomStart.y += (_this._zoomEnd.y - _this._zoomStart.y) * _this.dynamicDampingFactor;\\n        }\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"mouseChange\\\", new _three.Vector2());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"objectUp\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"pan\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"panCamera\\\", function () {\\n      _this.mouseChange.copy(_this._panEnd).sub(_this._panStart);\\n\\n      if (_this.mouseChange.lengthSq()) {\\n        if (_this.object.isOrthographicCamera) {\\n          var orthoObject = _this.object;\\n          var scale_x = (orthoObject.right - orthoObject.left) / _this.object.zoom / _this.domElement.clientWidth;\\n          var scale_y = (orthoObject.top - orthoObject.bottom) / _this.object.zoom / _this.domElement.clientWidth;\\n          _this.mouseChange.x *= scale_x;\\n          _this.mouseChange.y *= scale_y;\\n        }\\n\\n        _this.mouseChange.multiplyScalar(_this._eye.length() * _this.panSpeed);\\n\\n        _this.pan.copy(_this._eye).cross(_this.object.up).setLength(_this.mouseChange.x);\\n\\n        _this.pan.add(_this.objectUp.copy(_this.object.up).setLength(_this.mouseChange.y));\\n\\n        _this.object.position.add(_this.pan);\\n\\n        _this.target.add(_this.pan);\\n\\n        if (_this.staticMoving) {\\n          _this._panStart.copy(_this._panEnd);\\n        } else {\\n          _this._panStart.add(_this.mouseChange.subVectors(_this._panEnd, _this._panStart).multiplyScalar(_this.dynamicDampingFactor));\\n        }\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"checkDistances\\\", function () {\\n      if (!_this.noZoom || !_this.noPan) {\\n        if (_this._eye.lengthSq() > _this.maxDistance * _this.maxDistance) {\\n          _this.object.position.addVectors(_this.target, _this._eye.setLength(_this.maxDistance));\\n\\n          _this._zoomStart.copy(_this._zoomEnd);\\n        }\\n\\n        if (_this._eye.lengthSq() < _this.minDistance * _this.minDistance) {\\n          _this.object.position.addVectors(_this.target, _this._eye.setLength(_this.minDistance));\\n\\n          _this._zoomStart.copy(_this._zoomEnd);\\n        }\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"handleResize\\\", function () {\\n      var box = _this.domElement.getBoundingClientRect(); // adjustments come from similar code in the jquery offset() function\\n\\n\\n      var d = _this.domElement.ownerDocument.documentElement;\\n      _this.screen.left = box.left + window.pageXOffset - d.clientLeft;\\n      _this.screen.top = box.top + window.pageYOffset - d.clientTop;\\n      _this.screen.width = box.width;\\n      _this.screen.height = box.height;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"update\\\", function () {\\n      _this._eye.subVectors(_this.object.position, _this.target);\\n\\n      if (!_this.noRotate) {\\n        _this.rotateCamera();\\n      }\\n\\n      if (!_this.noZoom) {\\n        _this.zoomCamera();\\n      }\\n\\n      if (!_this.noPan) {\\n        _this.panCamera();\\n      }\\n\\n      _this.object.position.addVectors(_this.target, _this._eye);\\n\\n      if (_this.object.isPerspectiveCamera) {\\n        _this.checkDistances();\\n\\n        _this.object.lookAt(_this.target);\\n\\n        if (_this.lastPosition.distanceToSquared(_this.object.position) > _this.EPS) {\\n          _this.dispatchEvent(_this.changeEvent);\\n\\n          _this.lastPosition.copy(_this.object.position);\\n        }\\n      } else if (_this.object.isOrthographicCamera) {\\n        _this.object.lookAt(_this.target);\\n\\n        if (_this.lastPosition.distanceToSquared(_this.object.position) > _this.EPS || _this.lastZoom !== _this.object.zoom) {\\n          _this.dispatchEvent(_this.changeEvent);\\n\\n          _this.lastPosition.copy(_this.object.position);\\n\\n          _this.lastZoom = _this.object.zoom;\\n        }\\n      } else {\\n        console.warn('THREE.TrackballControls: Unsupported camera type');\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"reset\\\", function () {\\n      _this._state = _this.STATE.NONE;\\n      _this._keyState = _this.STATE.NONE;\\n\\n      _this.target.copy(_this.target0);\\n\\n      _this.object.position.copy(_this.position0);\\n\\n      _this.object.up.copy(_this.up0);\\n\\n      _this.object.zoom = _this.zoom0;\\n\\n      _this.object.updateProjectionMatrix();\\n\\n      _this._eye.subVectors(_this.object.position, _this.target);\\n\\n      _this.object.lookAt(_this.target);\\n\\n      _this.dispatchEvent(_this.changeEvent);\\n\\n      _this.lastPosition.copy(_this.object.position);\\n\\n      _this.lastZoom = _this.object.zoom;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"keydown\\\", function (event) {\\n      if (_this.enabled === false) return;\\n      window.removeEventListener('keydown', _this.keydown);\\n\\n      if (_this._keyState !== _this.STATE.NONE) {\\n        return;\\n      } else if (event.code === _this.keys[_this.STATE.ROTATE] && !_this.noRotate) {\\n        _this._keyState = _this.STATE.ROTATE;\\n      } else if (event.code === _this.keys[_this.STATE.ZOOM] && !_this.noZoom) {\\n        _this._keyState = _this.STATE.ZOOM;\\n      } else if (event.code === _this.keys[_this.STATE.PAN] && !_this.noPan) {\\n        _this._keyState = _this.STATE.PAN;\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onPointerDown\\\", function (event) {\\n      if (_this.enabled === false) return;\\n\\n      switch (event.pointerType) {\\n        case 'mouse':\\n        case 'pen':\\n          _this.onMouseDown(event);\\n\\n          break;\\n        // TODO touch\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onPointerMove\\\", function (event) {\\n      if (_this.enabled === false) return;\\n\\n      switch (event.pointerType) {\\n        case 'mouse':\\n        case 'pen':\\n          _this.onMouseMove(event);\\n\\n          break;\\n        // TODO touch\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onPointerUp\\\", function (event) {\\n      if (_this.enabled === false) return;\\n\\n      switch (event.pointerType) {\\n        case 'mouse':\\n        case 'pen':\\n          _this.onMouseUp();\\n\\n          break;\\n        // TODO touch\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"keyup\\\", function () {\\n      if (_this.enabled === false) return;\\n      _this._keyState = _this.STATE.NONE;\\n      window.addEventListener('keydown', _this.keydown);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onMouseDown\\\", function (event) {\\n      if (_this._state === _this.STATE.NONE) {\\n        switch (event.button) {\\n          case _this.mouseButtons.LEFT:\\n            _this._state = _this.STATE.ROTATE;\\n            break;\\n\\n          case _this.mouseButtons.MIDDLE:\\n            _this._state = _this.STATE.ZOOM;\\n            break;\\n\\n          case _this.mouseButtons.RIGHT:\\n            _this._state = _this.STATE.PAN;\\n            break;\\n\\n          default:\\n            _this._state = _this.STATE.NONE;\\n        }\\n      }\\n\\n      var state = _this._keyState !== _this.STATE.NONE ? _this._keyState : _this._state;\\n\\n      if (state === _this.STATE.ROTATE && !_this.noRotate) {\\n        _this._moveCurr.copy(_this.getMouseOnCircle(event.pageX, event.pageY));\\n\\n        _this._movePrev.copy(_this._moveCurr);\\n      } else if (state === _this.STATE.ZOOM && !_this.noZoom) {\\n        _this._zoomStart.copy(_this.getMouseOnScreen(event.pageX, event.pageY));\\n\\n        _this._zoomEnd.copy(_this._zoomStart);\\n      } else if (state === _this.STATE.PAN && !_this.noPan) {\\n        _this._panStart.copy(_this.getMouseOnScreen(event.pageX, event.pageY));\\n\\n        _this._panEnd.copy(_this._panStart);\\n      }\\n\\n      _this.domElement.ownerDocument.addEventListener('pointermove', _this.onPointerMove);\\n\\n      _this.domElement.ownerDocument.addEventListener('pointerup', _this.onPointerUp);\\n\\n      _this.dispatchEvent(_this.startEvent);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onMouseMove\\\", function (event) {\\n      if (_this.enabled === false) return;\\n      var state = _this._keyState !== _this.STATE.NONE ? _this._keyState : _this._state;\\n\\n      if (state === _this.STATE.ROTATE && !_this.noRotate) {\\n        _this._movePrev.copy(_this._moveCurr);\\n\\n        _this._moveCurr.copy(_this.getMouseOnCircle(event.pageX, event.pageY));\\n      } else if (state === _this.STATE.ZOOM && !_this.noZoom) {\\n        _this._zoomEnd.copy(_this.getMouseOnScreen(event.pageX, event.pageY));\\n      } else if (state === _this.STATE.PAN && !_this.noPan) {\\n        _this._panEnd.copy(_this.getMouseOnScreen(event.pageX, event.pageY));\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onMouseUp\\\", function () {\\n      if (_this.enabled === false) return;\\n      _this._state = _this.STATE.NONE;\\n\\n      _this.domElement.ownerDocument.removeEventListener('pointermove', _this.onPointerMove);\\n\\n      _this.domElement.ownerDocument.removeEventListener('pointerup', _this.onPointerUp);\\n\\n      _this.dispatchEvent(_this.endEvent);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"mousewheel\\\", function (event) {\\n      if (_this.enabled === false) return;\\n      if (_this.noZoom === true) return;\\n      event.preventDefault();\\n\\n      switch (event.deltaMode) {\\n        case 2:\\n          // Zoom in pages\\n          _this._zoomStart.y -= event.deltaY * 0.025;\\n          break;\\n\\n        case 1:\\n          // Zoom in lines\\n          _this._zoomStart.y -= event.deltaY * 0.01;\\n          break;\\n\\n        default:\\n          // undefined, 0, assume pixels\\n          _this._zoomStart.y -= event.deltaY * 0.00025;\\n          break;\\n      }\\n\\n      _this.dispatchEvent(_this.startEvent);\\n\\n      _this.dispatchEvent(_this.endEvent);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"touchstart\\\", function (event) {\\n      if (_this.enabled === false) return;\\n      event.preventDefault();\\n\\n      switch (event.touches.length) {\\n        case 1:\\n          _this._state = _this.STATE.TOUCH_ROTATE;\\n\\n          _this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\\n\\n          _this._movePrev.copy(_this._moveCurr);\\n\\n          break;\\n\\n        default:\\n          // 2 or more\\n          _this._state = _this.STATE.TOUCH_ZOOM_PAN;\\n          var dx = event.touches[0].pageX - event.touches[1].pageX;\\n          var dy = event.touches[0].pageY - event.touches[1].pageY;\\n          _this._touchZoomDistanceEnd = _this._touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\\n          var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\\n          var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\\n\\n          _this._panStart.copy(_this.getMouseOnScreen(x, y));\\n\\n          _this._panEnd.copy(_this._panStart);\\n\\n          break;\\n      }\\n\\n      _this.dispatchEvent(_this.startEvent);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"touchmove\\\", function (event) {\\n      if (_this.enabled === false) return;\\n      event.preventDefault();\\n\\n      switch (event.touches.length) {\\n        case 1:\\n          _this._movePrev.copy(_this._moveCurr);\\n\\n          _this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\\n\\n          break;\\n\\n        default:\\n          // 2 or more\\n          var dx = event.touches[0].pageX - event.touches[1].pageX;\\n          var dy = event.touches[0].pageY - event.touches[1].pageY;\\n          _this._touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\\n          var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\\n          var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\\n\\n          _this._panEnd.copy(_this.getMouseOnScreen(x, y));\\n\\n          break;\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"touchend\\\", function (event) {\\n      if (_this.enabled === false) return;\\n\\n      switch (event.touches.length) {\\n        case 0:\\n          _this._state = _this.STATE.NONE;\\n          break;\\n\\n        case 1:\\n          _this._state = _this.STATE.TOUCH_ROTATE;\\n\\n          _this._moveCurr.copy(_this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\\n\\n          _this._movePrev.copy(_this._moveCurr);\\n\\n          break;\\n      }\\n\\n      _this.dispatchEvent(_this.endEvent);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"contextmenu\\\", function (event) {\\n      if (_this.enabled === false) return;\\n      event.preventDefault();\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"dispose\\\", function () {\\n      _this.domElement.removeEventListener('contextmenu', _this.contextmenu);\\n\\n      _this.domElement.removeEventListener('pointerdown', _this.onPointerDown);\\n\\n      _this.domElement.removeEventListener('wheel', _this.mousewheel);\\n\\n      _this.domElement.removeEventListener('touchstart', _this.touchstart);\\n\\n      _this.domElement.removeEventListener('touchend', _this.touchend);\\n\\n      _this.domElement.removeEventListener('touchmove', _this.touchmove);\\n\\n      _this.domElement.ownerDocument.removeEventListener('pointermove', _this.onPointerMove);\\n\\n      _this.domElement.ownerDocument.removeEventListener('pointerup', _this.onPointerUp);\\n\\n      window.removeEventListener('keydown', _this.keydown);\\n      window.removeEventListener('keyup', _this.keyup);\\n    });\\n\\n    if (domElement === undefined) {\\n      console.warn('THREE.TrackballControls: The second parameter \\\"domElement\\\" is now mandatory.');\\n    }\\n\\n    _this.object = object;\\n    _this.domElement = domElement; // for reset\\n\\n    _this.target0 = _this.target.clone();\\n    _this.position0 = _this.object.position.clone();\\n    _this.up0 = _this.object.up.clone();\\n    _this.zoom0 = _this.object.zoom; // listeners\\n\\n    _this.domElement.addEventListener('contextmenu', _this.contextmenu);\\n\\n    _this.domElement.addEventListener('pointerdown', _this.onPointerDown);\\n\\n    _this.domElement.addEventListener('wheel', _this.mousewheel);\\n\\n    _this.domElement.addEventListener('touchstart', _this.touchstart);\\n\\n    _this.domElement.addEventListener('touchend', _this.touchend);\\n\\n    _this.domElement.addEventListener('touchmove', _this.touchmove);\\n\\n    _this.domElement.ownerDocument.addEventListener('pointermove', _this.onPointerMove);\\n\\n    _this.domElement.ownerDocument.addEventListener('pointerup', _this.onPointerUp);\\n\\n    window.addEventListener('keydown', _this.keydown);\\n    window.addEventListener('keyup', _this.keyup);\\n\\n    _this.handleResize(); // force an update at start\\n\\n\\n    _this.update();\\n\\n    return _this;\\n  }\\n\\n  return TrackballControls;\\n}(_three.EventDispatcher);\\n\\nexports.TrackballControls = TrackballControls;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_possibleConstructorReturn\",\"self\",\"call\",\"_assertThisInitialized\",\"_getPrototypeOf\",\"o\",\"Object\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"ReferenceError\",\"_inherits\",\"subClass\",\"superClass\",\"TypeError\",\"create\",\"value\",\"writable\",\"configurable\",\"_setPrototypeOf\",\"p\",\"defineProperty\",\"TrackballControls\",\"_defineProperty2\",\"_interopRequireDefault\",\"__esModule\",\"_three\",\"_EventDispatcher\",\"object\",\"domElement\",\"instance\",\"_this\",\"left\",\"top\",\"width\",\"height\",\"Infinity\",\"LEFT\",\"MOUSE\",\"ROTATE\",\"MIDDLE\",\"DOLLY\",\"RIGHT\",\"PAN\",\"Vector3\",\"NONE\",\"ZOOM\",\"TOUCH_ROTATE\",\"TOUCH_ZOOM_PAN\",\"STATE\",\"Vector2\",\"type\",\"pageX\",\"pageY\",\"onScreenVector\",\"set\",\"screen\",\"onCircleVector\",\"Quaternion\",\"moveDirection\",\"_moveCurr\",\"x\",\"_movePrev\",\"y\",\"angle\",\"length\",\"_eye\",\"copy\",\"position\",\"sub\",\"target\",\"eyeDirection\",\"normalize\",\"objectUpDirection\",\"up\",\"objectSidewaysDirection\",\"crossVectors\",\"setLength\",\"add\",\"axis\",\"rotateSpeed\",\"quaternion\",\"setFromAxisAngle\",\"applyQuaternion\",\"_lastAxis\",\"_lastAngle\",\"staticMoving\",\"Math\",\"sqrt\",\"dynamicDampingFactor\",\"_state\",\"factor\",\"_touchZoomDistanceStart\",\"_touchZoomDistanceEnd\",\"isPerspectiveCamera\",\"multiplyScalar\",\"isOrthographicCamera\",\"zoom\",\"updateProjectionMatrix\",\"console\",\"warn\",\"_zoomEnd\",\"_zoomStart\",\"zoomSpeed\",\"mouseChange\",\"_panEnd\",\"_panStart\",\"lengthSq\",\"orthoObject\",\"scale_y\",\"bottom\",\"clientWidth\",\"right\",\"panSpeed\",\"pan\",\"cross\",\"objectUp\",\"subVectors\",\"noZoom\",\"noPan\",\"maxDistance\",\"addVectors\",\"minDistance\",\"box\",\"getBoundingClientRect\",\"d\",\"ownerDocument\",\"documentElement\",\"window\",\"pageXOffset\",\"clientLeft\",\"pageYOffset\",\"clientTop\",\"noRotate\",\"rotateCamera\",\"zoomCamera\",\"panCamera\",\"checkDistances\",\"lookAt\",\"lastPosition\",\"distanceToSquared\",\"EPS\",\"dispatchEvent\",\"changeEvent\",\"lastZoom\",\"_keyState\",\"target0\",\"position0\",\"up0\",\"zoom0\",\"event\",\"enabled\",\"removeEventListener\",\"keydown\",\"code\",\"keys\",\"pointerType\",\"onMouseDown\",\"onMouseMove\",\"onMouseUp\",\"addEventListener\",\"button\",\"mouseButtons\",\"state\",\"getMouseOnScreen\",\"getMouseOnCircle\",\"onPointerMove\",\"onPointerUp\",\"startEvent\",\"endEvent\",\"preventDefault\",\"deltaMode\",\"deltaY\",\"touches\",\"dx\",\"dy\",\"contextmenu\",\"onPointerDown\",\"mousewheel\",\"touchstart\",\"touchend\",\"touchmove\",\"keyup\",\"undefined\",\"clone\",\"handleResize\",\"update\",\"EventDispatcher\"]\n}\n"]