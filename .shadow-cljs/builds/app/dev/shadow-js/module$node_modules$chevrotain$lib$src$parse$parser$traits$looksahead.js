["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js"],"~:js","shadow$provide.module$node_modules$chevrotain$lib$src$parse$parser$traits$looksahead=function(global,require,module,exports){Object.defineProperty(exports,\"__esModule\",{value:!0});exports.LooksAhead=void 0;var lookahead_1=require(\"module$node_modules$chevrotain$lib$src$parse$grammar$lookahead\"),utils_1=require(\"module$node_modules$$chevrotain$utils$lib$src$api\"),parser_1=require(\"module$node_modules$chevrotain$lib$src$parse$parser$parser\"),keys_1=require(\"module$node_modules$chevrotain$lib$src$parse$grammar$keys\"),\ngast_1=require(\"module$node_modules$chevrotain$lib$src$parse$grammar$gast$gast\");global=function(){function LooksAhead(){}LooksAhead.prototype.initLooksAhead=function(config){this.dynamicTokensEnabled=utils_1.has(config,\"dynamicTokensEnabled\")?config.dynamicTokensEnabled:parser_1.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled;this.maxLookahead=utils_1.has(config,\"maxLookahead\")?config.maxLookahead:parser_1.DEFAULT_PARSER_CONFIG.maxLookahead;this.lookAheadFuncsCache=utils_1.isES2015MapSupported()?new Map:\n[];utils_1.isES2015MapSupported()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)};LooksAhead.prototype.preComputeLookaheadFunctions=function(rules){var _this=this;utils_1.forEach(rules,function(currRule){_this.TRACE_INIT(currRule.name+\" Rule Lookahead\",function(){var _a=gast_1.collectMethods(currRule),repetition=_a.repetition,option=_a.option,repetitionMandatory=\n_a.repetitionMandatory,repetitionMandatoryWithSeparator=_a.repetitionMandatoryWithSeparator,repetitionWithSeparator=_a.repetitionWithSeparator;utils_1.forEach(_a.alternation,function(currProd){var prodIdx=0===currProd.idx?\"\":currProd.idx;_this.TRACE_INIT(\"\"+gast_1.getProductionDslName(currProd)+prodIdx,function(){var laFunc=lookahead_1.buildLookaheadFuncForOr(currProd.idx,currRule,currProd.maxLookahead||_this.maxLookahead,currProd.hasPredicates,_this.dynamicTokensEnabled,_this.lookAheadBuilderForAlternatives),\nkey=keys_1.getKeyForAutomaticLookahead(_this.fullRuleNameToShort[currRule.name],keys_1.OR_IDX,currProd.idx);_this.setLaFuncCache(key,laFunc)})});utils_1.forEach(repetition,function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,keys_1.MANY_IDX,lookahead_1.PROD_TYPE.REPETITION,currProd.maxLookahead,gast_1.getProductionDslName(currProd))});utils_1.forEach(option,function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,keys_1.OPTION_IDX,lookahead_1.PROD_TYPE.OPTION,currProd.maxLookahead,\ngast_1.getProductionDslName(currProd))});utils_1.forEach(repetitionMandatory,function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,keys_1.AT_LEAST_ONE_IDX,lookahead_1.PROD_TYPE.REPETITION_MANDATORY,currProd.maxLookahead,gast_1.getProductionDslName(currProd))});utils_1.forEach(repetitionMandatoryWithSeparator,function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,keys_1.AT_LEAST_ONE_SEP_IDX,lookahead_1.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,currProd.maxLookahead,gast_1.getProductionDslName(currProd))});\nutils_1.forEach(repetitionWithSeparator,function(currProd){_this.computeLookaheadFunc(currRule,currProd.idx,keys_1.MANY_SEP_IDX,lookahead_1.PROD_TYPE.REPETITION_WITH_SEPARATOR,currProd.maxLookahead,gast_1.getProductionDslName(currProd))})})})};LooksAhead.prototype.computeLookaheadFunc=function(rule,prodOccurrence,prodKey,prodType,prodMaxLookahead,dslMethodName){var _this=this;this.TRACE_INIT(\"\"+dslMethodName+(0===prodOccurrence?\"\":prodOccurrence),function(){var laFunc=lookahead_1.buildLookaheadFuncForOptionalProd(prodOccurrence,\nrule,prodMaxLookahead||_this.maxLookahead,_this.dynamicTokensEnabled,prodType,_this.lookAheadBuilderForOptional),key=keys_1.getKeyForAutomaticLookahead(_this.fullRuleNameToShort[rule.name],prodKey,prodOccurrence);_this.setLaFuncCache(key,laFunc)})};LooksAhead.prototype.lookAheadBuilderForOptional=function(alt,tokenMatcher,dynamicTokensEnabled){return lookahead_1.buildSingleAlternativeLookaheadFunction(alt,tokenMatcher,dynamicTokensEnabled)};LooksAhead.prototype.lookAheadBuilderForAlternatives=function(alts,\nhasPredicates,tokenMatcher,dynamicTokensEnabled){return lookahead_1.buildAlternativesLookAheadFunc(alts,hasPredicates,tokenMatcher,dynamicTokensEnabled)};LooksAhead.prototype.getKeyForAutomaticLookahead=function(dslMethodIdx,occurrence){var currRuleShortName=this.getLastExplicitRuleShortName();return keys_1.getKeyForAutomaticLookahead(currRuleShortName,dslMethodIdx,occurrence)};LooksAhead.prototype.getLaFuncFromCache=function(key){};LooksAhead.prototype.getLaFuncFromMap=function(key){return this.lookAheadFuncsCache.get(key)};\nLooksAhead.prototype.getLaFuncFromObj=function(key){return this.lookAheadFuncsCache[key]};LooksAhead.prototype.setLaFuncCache=function(key,value){};LooksAhead.prototype.setLaFuncCacheUsingMap=function(key,value){this.lookAheadFuncsCache.set(key,value)};LooksAhead.prototype.setLaFuncUsingObj=function(key,value){this.lookAheadFuncsCache[key]=value};return LooksAhead}();exports.LooksAhead=global}","~:source","shadow$provide[\"module$node_modules$chevrotain$lib$src$parse$parser$traits$looksahead\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LooksAhead = void 0;\nvar lookahead_1 = require(\"../../grammar/lookahead\");\nvar utils_1 = require(\"@chevrotain/utils\");\nvar parser_1 = require(\"../parser\");\nvar keys_1 = require(\"../../grammar/keys\");\nvar gast_1 = require(\"../../grammar/gast/gast\");\n/**\n * Trait responsible for the lookahead related utilities and optimizations.\n */\nvar LooksAhead = /** @class */ (function () {\n    function LooksAhead() {\n    }\n    LooksAhead.prototype.initLooksAhead = function (config) {\n        this.dynamicTokensEnabled = utils_1.has(config, \"dynamicTokensEnabled\")\n            ? config.dynamicTokensEnabled\n            : parser_1.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled;\n        this.maxLookahead = utils_1.has(config, \"maxLookahead\")\n            ? config.maxLookahead\n            : parser_1.DEFAULT_PARSER_CONFIG.maxLookahead;\n        /* istanbul ignore next - Using plain array as dictionary will be tested on older node.js versions and IE11 */\n        this.lookAheadFuncsCache = utils_1.isES2015MapSupported() ? new Map() : [];\n        // Performance optimization on newer engines that support ES6 Map\n        // For larger Maps this is slightly faster than using a plain object (array in our case).\n        /* istanbul ignore else - The else branch will be tested on older node.js versions and IE11 */\n        if (utils_1.isES2015MapSupported()) {\n            this.getLaFuncFromCache = this.getLaFuncFromMap;\n            this.setLaFuncCache = this.setLaFuncCacheUsingMap;\n        }\n        else {\n            this.getLaFuncFromCache = this.getLaFuncFromObj;\n            this.setLaFuncCache = this.setLaFuncUsingObj;\n        }\n    };\n    LooksAhead.prototype.preComputeLookaheadFunctions = function (rules) {\n        var _this = this;\n        utils_1.forEach(rules, function (currRule) {\n            _this.TRACE_INIT(currRule.name + \" Rule Lookahead\", function () {\n                var _a = gast_1.collectMethods(currRule), alternation = _a.alternation, repetition = _a.repetition, option = _a.option, repetitionMandatory = _a.repetitionMandatory, repetitionMandatoryWithSeparator = _a.repetitionMandatoryWithSeparator, repetitionWithSeparator = _a.repetitionWithSeparator;\n                utils_1.forEach(alternation, function (currProd) {\n                    var prodIdx = currProd.idx === 0 ? \"\" : currProd.idx;\n                    _this.TRACE_INIT(\"\" + gast_1.getProductionDslName(currProd) + prodIdx, function () {\n                        var laFunc = lookahead_1.buildLookaheadFuncForOr(currProd.idx, currRule, currProd.maxLookahead || _this.maxLookahead, currProd.hasPredicates, _this.dynamicTokensEnabled, _this.lookAheadBuilderForAlternatives);\n                        var key = keys_1.getKeyForAutomaticLookahead(_this.fullRuleNameToShort[currRule.name], keys_1.OR_IDX, currProd.idx);\n                        _this.setLaFuncCache(key, laFunc);\n                    });\n                });\n                utils_1.forEach(repetition, function (currProd) {\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.MANY_IDX, lookahead_1.PROD_TYPE.REPETITION, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\n                });\n                utils_1.forEach(option, function (currProd) {\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.OPTION_IDX, lookahead_1.PROD_TYPE.OPTION, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\n                });\n                utils_1.forEach(repetitionMandatory, function (currProd) {\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.AT_LEAST_ONE_IDX, lookahead_1.PROD_TYPE.REPETITION_MANDATORY, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\n                });\n                utils_1.forEach(repetitionMandatoryWithSeparator, function (currProd) {\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.AT_LEAST_ONE_SEP_IDX, lookahead_1.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\n                });\n                utils_1.forEach(repetitionWithSeparator, function (currProd) {\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.MANY_SEP_IDX, lookahead_1.PROD_TYPE.REPETITION_WITH_SEPARATOR, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\n                });\n            });\n        });\n    };\n    LooksAhead.prototype.computeLookaheadFunc = function (rule, prodOccurrence, prodKey, prodType, prodMaxLookahead, dslMethodName) {\n        var _this = this;\n        this.TRACE_INIT(\"\" + dslMethodName + (prodOccurrence === 0 ? \"\" : prodOccurrence), function () {\n            var laFunc = lookahead_1.buildLookaheadFuncForOptionalProd(prodOccurrence, rule, prodMaxLookahead || _this.maxLookahead, _this.dynamicTokensEnabled, prodType, _this.lookAheadBuilderForOptional);\n            var key = keys_1.getKeyForAutomaticLookahead(_this.fullRuleNameToShort[rule.name], prodKey, prodOccurrence);\n            _this.setLaFuncCache(key, laFunc);\n        });\n    };\n    LooksAhead.prototype.lookAheadBuilderForOptional = function (alt, tokenMatcher, dynamicTokensEnabled) {\n        return lookahead_1.buildSingleAlternativeLookaheadFunction(alt, tokenMatcher, dynamicTokensEnabled);\n    };\n    LooksAhead.prototype.lookAheadBuilderForAlternatives = function (alts, hasPredicates, tokenMatcher, dynamicTokensEnabled) {\n        return lookahead_1.buildAlternativesLookAheadFunc(alts, hasPredicates, tokenMatcher, dynamicTokensEnabled);\n    };\n    // this actually returns a number, but it is always used as a string (object prop key)\n    LooksAhead.prototype.getKeyForAutomaticLookahead = function (dslMethodIdx, occurrence) {\n        var currRuleShortName = this.getLastExplicitRuleShortName();\n        return keys_1.getKeyForAutomaticLookahead(currRuleShortName, dslMethodIdx, occurrence);\n    };\n    /* istanbul ignore next */\n    LooksAhead.prototype.getLaFuncFromCache = function (key) {\n        return undefined;\n    };\n    LooksAhead.prototype.getLaFuncFromMap = function (key) {\n        return this.lookAheadFuncsCache.get(key);\n    };\n    /* istanbul ignore next - Using plain array as dictionary will be tested on older node.js versions and IE11 */\n    LooksAhead.prototype.getLaFuncFromObj = function (key) {\n        return this.lookAheadFuncsCache[key];\n    };\n    /* istanbul ignore next */\n    LooksAhead.prototype.setLaFuncCache = function (key, value) { };\n    LooksAhead.prototype.setLaFuncCacheUsingMap = function (key, value) {\n        this.lookAheadFuncsCache.set(key, value);\n    };\n    /* istanbul ignore next - Using plain array as dictionary will be tested on older node.js versions and IE11 */\n    LooksAhead.prototype.setLaFuncUsingObj = function (key, value) {\n        this.lookAheadFuncsCache[key] = value;\n    };\n    return LooksAhead;\n}());\nexports.LooksAhead = LooksAhead;\n//# sourceMappingURL=looksahead.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$chevrotain$utils$lib$src$api","~$module$node_modules$chevrotain$lib$src$parse$grammar$gast$gast","~$shadow.js","~$module$node_modules$chevrotain$lib$src$parse$grammar$keys","~$module$node_modules$chevrotain$lib$src$parse$parser$parser","~$module$node_modules$chevrotain$lib$src$parse$grammar$lookahead"]],"~:properties",["^5",["lookAheadFuncsCache","maxLookahead","setLaFuncCache","computeLookaheadFunc","__esModule","dynamicTokensEnabled","preComputeLookaheadFunctions","getLaFuncFromCache","value","setLaFuncUsingObj","setLaFuncCacheUsingMap","initLooksAhead","getKeyForAutomaticLookahead","getLaFuncFromObj","getLaFuncFromMap","lookAheadBuilderForOptional","LooksAhead","lookAheadBuilderForAlternatives"]],"~:compiled-at",1630917515701,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$chevrotain$lib$src$parse$parser$traits$looksahead.js\",\n\"lineCount\":10,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/chevrotain/lib/src/parse/parser/traits/looksahead.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$chevrotain$lib$src$parse$parser$traits$looksahead\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.LooksAhead = void 0;\\nvar lookahead_1 = require(\\\"../../grammar/lookahead\\\");\\nvar utils_1 = require(\\\"@chevrotain/utils\\\");\\nvar parser_1 = require(\\\"../parser\\\");\\nvar keys_1 = require(\\\"../../grammar/keys\\\");\\nvar gast_1 = require(\\\"../../grammar/gast/gast\\\");\\n/**\\n * Trait responsible for the lookahead related utilities and optimizations.\\n */\\nvar LooksAhead = /** @class */ (function () {\\n    function LooksAhead() {\\n    }\\n    LooksAhead.prototype.initLooksAhead = function (config) {\\n        this.dynamicTokensEnabled = utils_1.has(config, \\\"dynamicTokensEnabled\\\")\\n            ? config.dynamicTokensEnabled\\n            : parser_1.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled;\\n        this.maxLookahead = utils_1.has(config, \\\"maxLookahead\\\")\\n            ? config.maxLookahead\\n            : parser_1.DEFAULT_PARSER_CONFIG.maxLookahead;\\n        /* istanbul ignore next - Using plain array as dictionary will be tested on older node.js versions and IE11 */\\n        this.lookAheadFuncsCache = utils_1.isES2015MapSupported() ? new Map() : [];\\n        // Performance optimization on newer engines that support ES6 Map\\n        // For larger Maps this is slightly faster than using a plain object (array in our case).\\n        /* istanbul ignore else - The else branch will be tested on older node.js versions and IE11 */\\n        if (utils_1.isES2015MapSupported()) {\\n            this.getLaFuncFromCache = this.getLaFuncFromMap;\\n            this.setLaFuncCache = this.setLaFuncCacheUsingMap;\\n        }\\n        else {\\n            this.getLaFuncFromCache = this.getLaFuncFromObj;\\n            this.setLaFuncCache = this.setLaFuncUsingObj;\\n        }\\n    };\\n    LooksAhead.prototype.preComputeLookaheadFunctions = function (rules) {\\n        var _this = this;\\n        utils_1.forEach(rules, function (currRule) {\\n            _this.TRACE_INIT(currRule.name + \\\" Rule Lookahead\\\", function () {\\n                var _a = gast_1.collectMethods(currRule), alternation = _a.alternation, repetition = _a.repetition, option = _a.option, repetitionMandatory = _a.repetitionMandatory, repetitionMandatoryWithSeparator = _a.repetitionMandatoryWithSeparator, repetitionWithSeparator = _a.repetitionWithSeparator;\\n                utils_1.forEach(alternation, function (currProd) {\\n                    var prodIdx = currProd.idx === 0 ? \\\"\\\" : currProd.idx;\\n                    _this.TRACE_INIT(\\\"\\\" + gast_1.getProductionDslName(currProd) + prodIdx, function () {\\n                        var laFunc = lookahead_1.buildLookaheadFuncForOr(currProd.idx, currRule, currProd.maxLookahead || _this.maxLookahead, currProd.hasPredicates, _this.dynamicTokensEnabled, _this.lookAheadBuilderForAlternatives);\\n                        var key = keys_1.getKeyForAutomaticLookahead(_this.fullRuleNameToShort[currRule.name], keys_1.OR_IDX, currProd.idx);\\n                        _this.setLaFuncCache(key, laFunc);\\n                    });\\n                });\\n                utils_1.forEach(repetition, function (currProd) {\\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.MANY_IDX, lookahead_1.PROD_TYPE.REPETITION, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\\n                });\\n                utils_1.forEach(option, function (currProd) {\\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.OPTION_IDX, lookahead_1.PROD_TYPE.OPTION, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\\n                });\\n                utils_1.forEach(repetitionMandatory, function (currProd) {\\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.AT_LEAST_ONE_IDX, lookahead_1.PROD_TYPE.REPETITION_MANDATORY, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\\n                });\\n                utils_1.forEach(repetitionMandatoryWithSeparator, function (currProd) {\\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.AT_LEAST_ONE_SEP_IDX, lookahead_1.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\\n                });\\n                utils_1.forEach(repetitionWithSeparator, function (currProd) {\\n                    _this.computeLookaheadFunc(currRule, currProd.idx, keys_1.MANY_SEP_IDX, lookahead_1.PROD_TYPE.REPETITION_WITH_SEPARATOR, currProd.maxLookahead, gast_1.getProductionDslName(currProd));\\n                });\\n            });\\n        });\\n    };\\n    LooksAhead.prototype.computeLookaheadFunc = function (rule, prodOccurrence, prodKey, prodType, prodMaxLookahead, dslMethodName) {\\n        var _this = this;\\n        this.TRACE_INIT(\\\"\\\" + dslMethodName + (prodOccurrence === 0 ? \\\"\\\" : prodOccurrence), function () {\\n            var laFunc = lookahead_1.buildLookaheadFuncForOptionalProd(prodOccurrence, rule, prodMaxLookahead || _this.maxLookahead, _this.dynamicTokensEnabled, prodType, _this.lookAheadBuilderForOptional);\\n            var key = keys_1.getKeyForAutomaticLookahead(_this.fullRuleNameToShort[rule.name], prodKey, prodOccurrence);\\n            _this.setLaFuncCache(key, laFunc);\\n        });\\n    };\\n    LooksAhead.prototype.lookAheadBuilderForOptional = function (alt, tokenMatcher, dynamicTokensEnabled) {\\n        return lookahead_1.buildSingleAlternativeLookaheadFunction(alt, tokenMatcher, dynamicTokensEnabled);\\n    };\\n    LooksAhead.prototype.lookAheadBuilderForAlternatives = function (alts, hasPredicates, tokenMatcher, dynamicTokensEnabled) {\\n        return lookahead_1.buildAlternativesLookAheadFunc(alts, hasPredicates, tokenMatcher, dynamicTokensEnabled);\\n    };\\n    // this actually returns a number, but it is always used as a string (object prop key)\\n    LooksAhead.prototype.getKeyForAutomaticLookahead = function (dslMethodIdx, occurrence) {\\n        var currRuleShortName = this.getLastExplicitRuleShortName();\\n        return keys_1.getKeyForAutomaticLookahead(currRuleShortName, dslMethodIdx, occurrence);\\n    };\\n    /* istanbul ignore next */\\n    LooksAhead.prototype.getLaFuncFromCache = function (key) {\\n        return undefined;\\n    };\\n    LooksAhead.prototype.getLaFuncFromMap = function (key) {\\n        return this.lookAheadFuncsCache.get(key);\\n    };\\n    /* istanbul ignore next - Using plain array as dictionary will be tested on older node.js versions and IE11 */\\n    LooksAhead.prototype.getLaFuncFromObj = function (key) {\\n        return this.lookAheadFuncsCache[key];\\n    };\\n    /* istanbul ignore next */\\n    LooksAhead.prototype.setLaFuncCache = function (key, value) { };\\n    LooksAhead.prototype.setLaFuncCacheUsingMap = function (key, value) {\\n        this.lookAheadFuncsCache.set(key, value);\\n    };\\n    /* istanbul ignore next - Using plain array as dictionary will be tested on older node.js versions and IE11 */\\n    LooksAhead.prototype.setLaFuncUsingObj = function (key, value) {\\n        this.lookAheadFuncsCache[key] = value;\\n    };\\n    return LooksAhead;\\n}());\\nexports.LooksAhead = LooksAhead;\\n//# sourceMappingURL=looksahead.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"Object\",\"defineProperty\",\"value\",\"LooksAhead\",\"lookahead_1\",\"utils_1\",\"parser_1\",\"keys_1\",\"gast_1\",\"prototype\",\"initLooksAhead\",\"LooksAhead.prototype.initLooksAhead\",\"config\",\"dynamicTokensEnabled\",\"has\",\"DEFAULT_PARSER_CONFIG\",\"maxLookahead\",\"lookAheadFuncsCache\",\"isES2015MapSupported\",\"Map\",\"getLaFuncFromCache\",\"getLaFuncFromMap\",\"setLaFuncCache\",\"setLaFuncCacheUsingMap\",\"getLaFuncFromObj\",\"setLaFuncUsingObj\",\"preComputeLookaheadFunctions\",\"LooksAhead.prototype.preComputeLookaheadFunctions\",\"rules\",\"_this\",\"forEach\",\"currRule\",\"TRACE_INIT\",\"name\",\"_a\",\"collectMethods\",\"repetition\",\"option\",\"repetitionMandatory\",\"repetitionMandatoryWithSeparator\",\"repetitionWithSeparator\",\"alternation\",\"currProd\",\"prodIdx\",\"idx\",\"getProductionDslName\",\"laFunc\",\"buildLookaheadFuncForOr\",\"hasPredicates\",\"lookAheadBuilderForAlternatives\",\"key\",\"getKeyForAutomaticLookahead\",\"fullRuleNameToShort\",\"OR_IDX\",\"computeLookaheadFunc\",\"MANY_IDX\",\"PROD_TYPE\",\"REPETITION\",\"OPTION_IDX\",\"OPTION\",\"AT_LEAST_ONE_IDX\",\"REPETITION_MANDATORY\",\"AT_LEAST_ONE_SEP_IDX\",\"REPETITION_MANDATORY_WITH_SEPARATOR\",\"MANY_SEP_IDX\",\"REPETITION_WITH_SEPARATOR\",\"LooksAhead.prototype.computeLookaheadFunc\",\"rule\",\"prodOccurrence\",\"prodKey\",\"prodType\",\"prodMaxLookahead\",\"dslMethodName\",\"buildLookaheadFuncForOptionalProd\",\"lookAheadBuilderForOptional\",\"LooksAhead.prototype.lookAheadBuilderForOptional\",\"alt\",\"tokenMatcher\",\"buildSingleAlternativeLookaheadFunction\",\"LooksAhead.prototype.lookAheadBuilderForAlternatives\",\"alts\",\"buildAlternativesLookAheadFunc\",\"LooksAhead.prototype.getKeyForAutomaticLookahead\",\"dslMethodIdx\",\"occurrence\",\"currRuleShortName\",\"getLastExplicitRuleShortName\",\"LooksAhead.prototype.getLaFuncFromCache\",\"LooksAhead.prototype.getLaFuncFromMap\",\"get\",\"LooksAhead.prototype.getLaFuncFromObj\",\"LooksAhead.prototype.setLaFuncCache\",\"LooksAhead.prototype.setLaFuncCacheUsingMap\",\"set\",\"LooksAhead.prototype.setLaFuncUsingObj\"]\n}\n"]