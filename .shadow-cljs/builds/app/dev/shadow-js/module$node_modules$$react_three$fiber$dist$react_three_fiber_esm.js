["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@react-three/fiber/dist/react-three-fiber.esm.js"],"~:js","shadow$provide.module$node_modules$$react_three$fiber$dist$react_three_fiber_esm=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}function _getRequireWildcardCache(){if(\"function\"!==typeof WeakMap)return null;var cache=new WeakMap;_getRequireWildcardCache=function(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||\"object\"!==_typeof(obj)&&\"function\"!==typeof obj)return{\"default\":obj};\nvar cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj[\"default\"]=obj;cache&&cache.set(obj,newObj);return newObj}function _defineProperties(target,\nprops){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?\nObject.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function isNativeReflectConstruct(){if(\"undefined\"===\ntypeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct(Parent,args$jscomp$0,Class){_construct=isNativeReflectConstruct()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);Parent=new (Function.bind.apply(Parent,a));Class&&_setPrototypeOf(Parent,Class.prototype);return Parent};return _construct.apply(null,\narguments)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}function _objectWithoutProperties(source,excluded){if(null==source)return{};if(null==source)var target={};else{target={};var sourceKeys=Object.keys(source),i;for(i=0;i<sourceKeys.length;i++){var key=sourceKeys[i];0<=excluded.indexOf(key)||(target[key]=source[key])}}if(Object.getOwnPropertySymbols)for(i=Object.getOwnPropertySymbols(source),\nkey=0;key<i.length;key++)sourceKeys=i[key],0<=excluded.indexOf(sourceKeys)||Object.prototype.propertyIsEnumerable.call(source,sourceKeys)&&(target[sourceKeys]=source[sourceKeys]);return target}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_nonIterableRest()}function _slicedToArray(arr,i){var JSCompiler_temp;if(!(JSCompiler_temp=_arrayWithHoles(arr)))if(Symbol.iterator in Object(arr)||\"[object Arguments]\"===Object.prototype.toString.call(arr)){JSCompiler_temp=[];var _n=\n!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(JSCompiler_temp.push(_s.value),!i||JSCompiler_temp.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i[\"return\"])_i[\"return\"]()}finally{if(_d)throw _e;}}}else JSCompiler_temp=void 0;return JSCompiler_temp||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}\nfunction _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_inline_result=0;for(var arr2=Array(arr.length);JSCompiler_inline_result<arr.length;JSCompiler_inline_result++)arr2[JSCompiler_inline_result]=arr[JSCompiler_inline_result];JSCompiler_inline_result=arr2}else JSCompiler_inline_result=void 0;if(!(arr=JSCompiler_inline_result||_iterableToArray(arr)))throw new TypeError(\"Invalid attempt to spread non-iterable instance\");return arr}function _iterableToArray(iter){if(Symbol.iterator in\nObject(iter)||\"[object Arguments]\"===Object.prototype.toString.call(iter))return Array.from(iter)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?\narguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}function _typeof(obj$jscomp$0){_typeof=\n\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function makeId(event){return(event.eventObject||event.object).uuid+\"/\"+event.index}function removeInteractivity(store,object){var internal=store.getState().internal;internal.interaction=internal.interaction.filter(function(o){return o!==object});internal.initialHits=\ninternal.initialHits.filter(function(o){return o!==object});internal.hovered.forEach(function(value,key){if(value.eventObject===object||value.object===object)internal.hovered[\"delete\"](key)})}function createEvents(store){function prepareRay(event){var _raycaster$computeOff,state=store.getState(),raycaster=state.raycaster,mouse=state.mouse,camera=state.camera,size=state.size;event=null!=(_raycaster$computeOff=null==raycaster.computeOffsets?void 0:raycaster.computeOffsets(event,state))?_raycaster$computeOff:\nevent;mouse.set(event.offsetX/size.width*2-1,2*-(event.offsetY/size.height)+1);raycaster.setFromCamera(mouse,camera)}function calculateDistance(event){var internal=store.getState().internal,dx=event.offsetX-internal.initialClick[0];event=event.offsetY-internal.initialClick[1];return Math.round(Math.sqrt(dx*dx+event*event))}function filterPointerEvents(objects){return objects.filter(function(obj){return[\"Move\",\"Over\",\"Enter\",\"Out\",\"Leave\"].some(function(name){var _r3f$handlers;return null==(_r3f$handlers=\nobj.__r3f.handlers)?void 0:_r3f$handlers[\"onPointer\"+name]})})}function intersect(filter){var state=store.getState(),raycaster=state.raycaster,internal=state.internal;if(!raycaster.enabled)return[];var seen=new Set,intersections=[];filter=filter?filter(internal.interaction):internal.interaction;filter=raycaster.intersectObjects(filter,!0).filter(function(item){item=makeId(item);if(seen.has(item))return!1;seen.add(item);return!0});raycaster.filter&&(filter=raycaster.filter(filter,state));state=!0;\nraycaster=!1;internal=void 0;try{for(var _iterator=filter[Symbol.iterator](),_step;!(state=(_step=_iterator.next()).done);state=!0)for(var _intersect=_step.value,eventObject=_intersect.object;eventObject;){var _r3f;(null==(_r3f=eventObject.__r3f)?0:_r3f.handlers)&&intersections.push(_objectSpread({},_intersect,{eventObject}));eventObject=eventObject.parent}}catch(err){raycaster=!0,internal=err}finally{try{if(!state&&null!=_iterator[\"return\"])_iterator[\"return\"]()}finally{if(raycaster)throw internal;\n}}return intersections}function patchIntersects(intersections,event){var internal=store.getState().internal;\"pointerId\"in event&&internal.capturedMap.has(event.pointerId)&&intersections.push.apply(intersections,_toConsumableArray(internal.capturedMap.get(event.pointerId).values()));return intersections}function handleIntersects(intersections,event,callback){var _store$getState4=store.getState(),raycaster=_store$getState4.raycaster,mouse=_store$getState4.mouse,camera=_store$getState4.camera,internal=\n_store$getState4.internal;intersections.length&&function(){var unprojectedPoint=temp.set(mouse.x,mouse.y,0).unproject(camera),delta=\"click\"===event.type?calculateDistance(event):0,releasePointerCapture=function(id){return event.target.releasePointerCapture(id)},JSCompiler_object_inline_stopped_6520=!1,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{var _loop=function(){var hit=_step2.value,hasPointerCapture=function(id){var _internal$capturedMap,_internal$capturedMap2;\nreturn null!=(_internal$capturedMap=null==(_internal$capturedMap2=internal.capturedMap.get(id))?void 0:_internal$capturedMap2.has(hit.eventObject))?_internal$capturedMap:!1},setPointerCapture=function(id){internal.capturedMap.has(id)?internal.capturedMap.get(id).set(hit.eventObject,hit):internal.capturedMap.set(id,new Map([[hit.eventObject,hit]]));event.target.setPointerCapture(id)},extractEventProps={},prop;for(prop in Object.getPrototypeOf(event)){var property=event[prop];\"function\"!==typeof property&&\n(extractEventProps[prop]=property)}var raycastEvent=_objectSpread({},hit,{},extractEventProps,{spaceX:mouse.x,spaceY:mouse.y,intersections,stopped:JSCompiler_object_inline_stopped_6520,delta,unprojectedPoint,ray:raycaster.ray,camera,stopPropagation:function(){var capturesForPointer=\"pointerId\"in event&&internal.capturedMap.get(event.pointerId);if(!capturesForPointer||capturesForPointer.has(hit.eventObject))raycastEvent.stopped=JSCompiler_object_inline_stopped_6520=!0,internal.hovered.size&&Array.from(internal.hovered.values()).find(function(i){return i.eventObject===\nhit.eventObject})&&(capturesForPointer=intersections.slice(0,intersections.indexOf(hit)),cancelPointer([].concat(_toConsumableArray(capturesForPointer),[hit])))},target:{hasPointerCapture,setPointerCapture,releasePointerCapture},currentTarget:{hasPointerCapture,setPointerCapture,releasePointerCapture},sourceEvent:event,nativeEvent:event});callback(raycastEvent);if(!0===JSCompiler_object_inline_stopped_6520)return\"break\"},_iterator2=intersections[Symbol.iterator](),_step2;for(;!(_iteratorNormalCompletion2=\n(_step2=_iterator2.next()).done)&&\"break\"!==_loop();_iteratorNormalCompletion2=!0);}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2[\"return\"])_iterator2[\"return\"]()}finally{if(_didIteratorError2)throw _iteratorError2;}}}();return intersections}function cancelPointer(hits){var internal=store.getState().internal;Array.from(internal.hovered.values()).forEach(function(hoveredObj){if(!hits.length||!hits.find(function(hit){return hit.object===\nhoveredObj.object&&hit.index===hoveredObj.index})){var handlers=hoveredObj.eventObject.__r3f.handlers;internal.hovered[\"delete\"](makeId(hoveredObj));if(handlers){var data=_objectSpread({},hoveredObj,{intersections:hits||[]});null==handlers.onPointerOut?void 0:handlers.onPointerOut(data);null==handlers.onPointerLeave?void 0:handlers.onPointerLeave(data)}}})}function pointerMissed(event,objects){objects.forEach(function(object){var _r3f$handlers2;return null==(_r3f$handlers2=object.__r3f.handlers)?\nvoid 0:null==_r3f$handlers2.onPointerMissed?void 0:_r3f$handlers2.onPointerMissed(event)})}var temp=new THREE.Vector3;return{handlePointer:function(name){switch(name){case \"onPointerLeave\":case \"onPointerCancel\":return function(){return cancelPointer([])};case \"onLostPointerCapture\":return function(event){if(\"pointerId\"in event)store.getState().internal.capturedMap[\"delete\"](event.pointerId);cancelPointer([])}}return function(event){var _store$getState6=store.getState(),onPointerMissed=_store$getState6.onPointerMissed,\ninternal=_store$getState6.internal;prepareRay(event);var isPointerMove=\"onPointerMove\"===name;_store$getState6=patchIntersects(intersect(isPointerMove?filterPointerEvents:void 0),event);isPointerMove&&cancelPointer(_store$getState6);handleIntersects(_store$getState6,event,function(data){var eventObject=data.eventObject,handlers=eventObject.__r3f.handlers;if(handlers)if(isPointerMove){if(handlers.onPointerOver||handlers.onPointerEnter||handlers.onPointerOut||handlers.onPointerLeave){var id=makeId(data),\nhoveredItem=internal.hovered.get(id);hoveredItem?hoveredItem.stopped&&data.stopPropagation():(internal.hovered.set(id,data),null==handlers.onPointerOver?void 0:handlers.onPointerOver(data),null==handlers.onPointerEnter?void 0:handlers.onPointerEnter(data))}null==handlers.onPointerMove?void 0:handlers.onPointerMove(data)}else(handlers=null==handlers?void 0:handlers[name])&&(\"onClick\"!==name&&\"onContextMenu\"!==name&&\"onDoubleClick\"!==name||internal.initialHits.includes(eventObject))&&(handlers(data),\npointerMissed(event,internal.interaction.filter(function(object){return object!==eventObject})))});\"onPointerDown\"===name&&(internal.initialClick=[event.offsetX,event.offsetY],internal.initialHits=_store$getState6.map(function(hit){return hit.eventObject}));(\"onClick\"===name||\"onContextMenu\"===name||\"onDoubleClick\"===name)&&!_store$getState6.length&&2>=calculateDistance(event)&&(pointerMissed(event,internal.interaction),onPointerMissed&&onPointerMissed(event))}}}}function prepare(object,state){if(null!=\nstate&&state.instance||!object.__r3f)object.__r3f=_objectSpread({root:null,memoizedProps:{},objects:[]},state);return object}function createSubs(callback,subs){var index=subs.length;subs.push(callback);return function(){return void subs.splice(index,1)}}function run(effects,timestamp){for(i$jscomp$0=0;i$jscomp$0<effects.length;i$jscomp$0++)effects[i$jscomp$0](timestamp)}function render$1(timestamp,state){var delta=state.clock.getDelta();\"never\"===state.frameloop&&\"number\"===typeof timestamp&&(delta=\ntimestamp-state.clock.elapsedTime,state.clock.oldTime=state.clock.elapsedTime,state.clock.elapsedTime=timestamp);for(i$jscomp$0=0;i$jscomp$0<state.internal.subscribers.length;i$jscomp$0++)state.internal.subscribers[i$jscomp$0].ref.current(state,delta);!state.internal.priority&&state.gl.render&&state.gl.render(state.scene,state.camera);state.internal.frames=Math.max(0,state.internal.frames-1);return\"always\"===state.frameloop?1:state.internal.frames}function createPointerEvents(store){var handlePointer=\ncreateEvents(store).handlePointer,names={onClick:[\"click\",!1],onContextMenu:[\"contextmenu\",!1],onDoubleClick:[\"dblclick\",!1],onWheel:[\"wheel\",!0],onPointerDown:[\"pointerdown\",!0],onPointerUp:[\"pointerup\",!0],onPointerLeave:[\"pointerleave\",!0],onPointerMove:[\"pointermove\",!0],onPointerCancel:[\"pointercancel\",!0],onLostPointerCapture:[\"lostpointercapture\",!0]};return{connected:!1,handlers:Object.keys(names).reduce(function(acc,key){return _objectSpread({},acc,_defineProperty({},key,handlePointer(key)))},\n{}),connect:function(target){var _events$handlers,_store$getState7=store.getState(),set=_store$getState7.set;_store$getState7=_store$getState7.events;null==_store$getState7.disconnect?void 0:_store$getState7.disconnect();set(function(state){return{events:_objectSpread({},state.events,{connected:target})}});Object.entries(null!=(_events$handlers=null==_store$getState7?void 0:_store$getState7.handlers)?_events$handlers:[]).forEach(function(_ref13){var _ref14=_slicedToArray(_ref13,2);_ref13=_ref14[1];\n_ref14=_slicedToArray(names[_ref14[0]],2);target.addEventListener(_ref14[0],_ref13,{passive:_ref14[1]})})},disconnect:function(){var _store$getState8=store.getState(),set=_store$getState8.set,events=_store$getState8.events;if(events.connected){var _events$handlers2;Object.entries(null!=(_events$handlers2=events.handlers)?_events$handlers2:[]).forEach(function(_ref15){var _ref16=_slicedToArray(_ref15,2);_ref15=_ref16[0];_ref16=_ref16[1];events&&events.connected instanceof HTMLElement&&(_ref15=_slicedToArray(names[_ref15],\n1)[0],events.connected.removeEventListener(_ref15,_ref16))});set(function(state){return{events:_objectSpread({},state.events,{connected:!1})}})}}}}function Block(_ref17){var set=_ref17.set;useIsomorphicLayoutEffect(function(){set(new Promise(function(){return null}));return function(){return set(!1)}},[]);return null}function buildGraph(object){var data={nodes:{},materials:{}};object&&object.traverse(function(obj){obj.name&&(data.nodes[obj.name]=obj);obj.material&&!data.materials[obj.material.name]&&\n(data.materials[obj.material.name]=obj.material)});return data}function loadingFn(extensions,onProgress){return function(Proto){var loader=new Proto;extensions&&extensions(loader);for(var _len2=arguments.length,input$jscomp$0=Array(1<_len2?_len2-1:0),_key2=1;_key2<_len2;_key2++)input$jscomp$0[_key2-1]=arguments[_key2];return Promise.all(input$jscomp$0.map(function(input){return new Promise(function(res,reject){return loader.load(input,function(data){data.scene&&Object.assign(data,buildGraph(data.scene));\nres(data)},onProgress,function(error){return reject(\"Could not load \".concat(input,\": \").concat(error.message))})})}))}}function useLoader(Proto,input,extensions,onProgress){var keys=Array.isArray(input)?input:[input];Proto=_useAsset.useAsset.apply(void 0,[loadingFn(extensions,onProgress),Proto].concat(_toConsumableArray(keys)));return Array.isArray(input)?Proto:Proto[0]}function render(element,canvas){var _ref19=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},gl=_ref19.gl,size=_ref19.size,\n_ref19$mode=_ref19.mode;_ref19$mode=void 0===_ref19$mode?modes[1]:_ref19$mode;var events=_ref19.events,onCreated=_ref19.onCreated;_ref19=_objectWithoutProperties(_ref19,[\"gl\",\"size\",\"mode\",\"events\",\"onCreated\"]);var _store;if(!size){var _canvas$parentElement,_canvas$parentElement2,_canvas$parentElement3,_canvas$parentElement4;size={width:null!=(_canvas$parentElement=null==(_canvas$parentElement2=canvas.parentElement)?void 0:_canvas$parentElement2.clientWidth)?_canvas$parentElement:0,height:null!=\n(_canvas$parentElement3=null==(_canvas$parentElement4=canvas.parentElement)?void 0:_canvas$parentElement4.clientHeight)?_canvas$parentElement3:0}}_canvas$parentElement2=roots$jscomp$0.get(canvas);_canvas$parentElement=null==_canvas$parentElement2?void 0:_canvas$parentElement2.fiber;_canvas$parentElement2=null==_canvas$parentElement2?void 0:_canvas$parentElement2.store;_canvas$parentElement3=null==(_store=_canvas$parentElement2)?void 0:_store.getState();_canvas$parentElement&&_canvas$parentElement3&&\n(_store=_canvas$parentElement3.internal.lastProps,void 0===_ref19.dpr||is.equ(_store.dpr,_ref19.dpr)||_canvas$parentElement3.setDpr(_ref19.dpr),is.equ(_store.size,size)||_canvas$parentElement3.setSize(size.width,size.height),_ref19.linear!==_store.linear&&(unmountComponentAtNode(canvas),_canvas$parentElement=void 0));_canvas$parentElement||(gl=gl&&gl.render?gl:new THREE.WebGLRenderer(_objectSpread({powerPreference:\"high-performance\",canvas,antialias:!0,alpha:!0},gl)),_ref19.vr&&(gl.xr.enabled=!0,\ngl.setAnimationLoop(function(timestamp){return advance(timestamp,!0)})),_canvas$parentElement2=createStore(applyProps,invalidate,advance,_objectSpread({gl,size},_ref19)),size=_canvas$parentElement2.getState(),_canvas$parentElement=reconciler.createContainer(_canvas$parentElement2,modes.indexOf(_ref19$mode),!1,null),roots$jscomp$0.set(canvas,{fiber:_canvas$parentElement,store:_canvas$parentElement2}),events&&size.set({events:events(_canvas$parentElement2)}));if(_canvas$parentElement2&&_canvas$parentElement)return reconciler.updateContainer(React.createElement(Provider,\n{store:_canvas$parentElement2,element,onCreated,target:canvas}),_canvas$parentElement,null,function(){}),_canvas$parentElement2;throw\"Error creating root!\";}function Provider(_ref20){var store=_ref20.store,element=_ref20.element,onCreated=_ref20.onCreated,target=_ref20.target;React.useEffect(function(){var state$jscomp$0=store.getState();state$jscomp$0.set(function(state){return{internal:_objectSpread({},state.internal,{active:!0})}});null==state$jscomp$0.events.connect?void 0:state$jscomp$0.events.connect(target);\nonCreated&&onCreated(state$jscomp$0)},[]);return React.createElement(context.Provider,{value:store},element)}function unmountComponentAtNode(canvas,callback){var root=roots$jscomp$0.get(canvas),fiber=null==root?void 0:root.fiber;if(fiber){var state=null==root?void 0:root.store.getState();state&&(state.internal.active=!1);reconciler.updateContainer(null,fiber,null,function(){state&&setTimeout(function(){var _state$gl,_state$gl$renderLists,_state$gl2;null==state.events.disconnect?void 0:state.events.disconnect();\nnull==(_state$gl=state.gl)?void 0:null==(_state$gl$renderLists=_state$gl.renderLists)?void 0:null==_state$gl$renderLists.dispose?void 0:_state$gl$renderLists.dispose();null==(_state$gl2=state.gl)?void 0:null==_state$gl2.forceContextLoss?void 0:_state$gl2.forceContextLoss();dispose$jscomp$0(state);roots$jscomp$0[\"delete\"](canvas);callback&&callback(canvas)},500)})}}function dispose$jscomp$0(obj){obj.dispose&&\"Scene\"!==obj.type&&obj.dispose();for(var p in obj){var _dispose,_ref;null==(_dispose=(_ref=\np).dispose)?void 0:_dispose.call(_ref);delete obj[p]}}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.createPortal=function(children,container,implementation){var key=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:REACT_PORTAL_TYPE,key:null==key?null:\"\"+key,children,containerInfo:prepare(container),implementation}};exports.dispose=dispose$jscomp$0;exports.events=createPointerEvents;exports.render=render;exports.unmountComponentAtNode=unmountComponentAtNode;\nexports.useFrame=function(callback){var renderPriority=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,subscribe=React.useContext(context).getState().internal.subscribe,ref=React.useRef(callback);React.useLayoutEffect(function(){return void(ref.current=callback)},[callback]);React.useLayoutEffect(function(){var unsubscribe=subscribe(ref,renderPriority);return function(){return unsubscribe()}},[renderPriority,subscribe]);return null};exports.useGraph=function(object){return React.useMemo(function(){return buildGraph(object)},\n[object])};exports.useLoader=useLoader;exports.useThree=function(){var selector=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(state){return state},equalityFn=1<arguments.length?arguments[1]:void 0,useStore=React.useContext(context);if(!useStore)throw\"R3F hooks can only be used within the Canvas component!\";return useStore(selector,equalityFn)};exports.reconciler=exports.invalidate=exports.extend=exports.context=exports.applyProps=exports.advance=exports.addTail=exports.addEffect=\nexports.addAfterEffect=exports.act=exports._roots=exports.ReactThreeFiber=exports.Canvas=void 0;var THREE=_interopRequireWildcard(require(\"module$node_modules$three$build$three_module\")),React=_interopRequireWildcard(require(\"module$node_modules$react$index\")),_zustand=_interopRequireDefault(require(\"module$node_modules$zustand$index\")),_shallow=_interopRequireDefault(require(\"module$node_modules$zustand$shallow\")),_reactReconciler=_interopRequireDefault(require(\"module$node_modules$react_reconciler$index\")),\n_scheduler=require(\"module$node_modules$scheduler$index\"),_useAsset=require(\"module$node_modules$use_asset$dist$index\"),_reactMergeRefs=_interopRequireDefault(require(\"module$node_modules$react_merge_refs$dist$react_merge_refs_esm\")),_reactUseMeasure=_interopRequireDefault(require(\"module$node_modules$react_use_measure$dist$web\"));global=Object.freeze({__proto__:null});exports.ReactThreeFiber=global;var is={obj:function(a){return a===Object(a)&&!is.arr(a)&&\"function\"!==typeof a},fun:function(a){return\"function\"===\ntypeof a},str:function(a){return\"string\"===typeof a},num:function(a){return\"number\"===typeof a},und:function(a){return void 0===a},arr:function(a){return Array.isArray(a)},equ:function(a,b){if(_typeof(a)!==_typeof(b)||!!a!==!!b)return!1;if(is.str(a)||is.num(a)||is.obj(a))return a===b;if(is.arr(a)&&a==b)return!0;for(var i in a)if(!(i in b))return!1;for(i in b)if(a[i]!==b[i])return!1;return is.und(i)?a===b:!0}},getContainer=function(container,child){var _container$__r3f$root,_container$__r3f;return{root:container&&\ncontainer.getState?container:null!=(_container$__r3f$root=null==(_container$__r3f=container.__r3f)?void 0:_container$__r3f.root)?_container$__r3f$root:child.__r3f.root,container:container&&container.getState?container.getState().scene:container}},EMPTY={},FILTER=[\"children\",\"key\",\"ref\"],catalogue={};exports.extend=function(objects){return void(catalogue=_objectSpread({},catalogue,{},objects))};var context=React.createContext(null);exports.context=context;var createStore=function(applyProps,_invalidate,\n_advance,props){var gl=props.gl,size$jscomp$0=props.size,_props$shadows=props.shadows;_props$shadows=void 0===_props$shadows?!1:_props$shadows;var _props$linear=props.linear,linear=void 0===_props$linear?!1:_props$linear;_props$linear=props.flat;var flat=void 0===_props$linear?!1:_props$linear;_props$linear=props.vr;var vr=void 0===_props$linear?!1:_props$linear;_props$linear=props.orthographic;var orthographic=void 0===_props$linear?!1:_props$linear;_props$linear=props.frameloop;var frameloop=void 0===\n_props$linear?\"always\":_props$linear;_props$linear=props.dpr;var dpr$jscomp$0=void 0===_props$linear?1:_props$linear,performance=props.performance;_props$linear=props.clock;var clock=void 0===_props$linear?new THREE.Clock:_props$linear,raycastOptions=props.raycaster,cameraOptions=props.camera,onPointerMissed=props.onPointerMissed;_props$shadows&&(gl.shadowMap.enabled=!0,\"object\"===_typeof(_props$shadows)?Object.assign(gl.shadowMap,_props$shadows):gl.shadowMap.type=THREE.PCFSoftShadowMap);linear||\n(flat||(gl.toneMapping=THREE.ACESFilmicToneMapping),gl.outputEncoding=THREE.sRGBEncoding);\"never\"===frameloop&&(clock.stop(),clock.elapsedTime=0);var rootState=(0,_zustand[\"default\"])(function(set,get){function _setDpr(dpr){return Array.isArray(dpr)?Math.min(Math.max(dpr[0],window.devicePixelRatio),dpr[1]):dpr}function getCurrentViewport(){var camera=0<arguments.length&&void 0!==arguments[0]?arguments[0]:get().camera,target=1<arguments.length&&void 0!==arguments[1]?arguments[1]:defaultTarget,size=\n2<arguments.length&&void 0!==arguments[2]?arguments[2]:get().size,width=size.width,height=size.height;size=width/height;target=camera.getWorldPosition(position).distanceTo(target);if(camera&&camera.isOrthographicCamera)return{width:width/camera.zoom,height:height/camera.zoom,factor:1,distance:target,aspect:size};camera=2*Math.tan(camera.fov*Math.PI/180/2)*target;height=width/height*camera;return{width:height,height:camera,factor:width/height,distance:target,aspect:size}}var raycaster=new THREE.Raycaster,\n_ref10=raycastOptions||{},params=_ref10.params;_ref10=_objectWithoutProperties(_ref10,[\"params\"]);applyProps(raycaster,_objectSpread({enabled:!0},_ref10,{params:_objectSpread({},raycaster.params,{},params)}),{});var camera$jscomp$0=(params=cameraOptions instanceof THREE.Camera)?cameraOptions:orthographic?new THREE.OrthographicCamera(0,0,0,0,.1,1E3):new THREE.PerspectiveCamera(75,0,.1,1E3);params||(camera$jscomp$0.position.z=5,cameraOptions&&applyProps(camera$jscomp$0,cameraOptions,{}),camera$jscomp$0.lookAt(0,\n0,0));params=_setDpr(dpr$jscomp$0);var position=new THREE.Vector3,defaultTarget=new THREE.Vector3,performanceTimeout=void 0,setPerformanceCurrent=function(current){return set(function(state){return{performance:_objectSpread({},state.performance,{current})}})};return{gl,set,get,invalidate:function(){return _invalidate(get())},advance:function(timestamp,runGlobalEffects){return _advance(timestamp,runGlobalEffects,get())},linear,flat,scene:prepare(new THREE.Scene),camera:camera$jscomp$0,controls:null,\nraycaster,clock,mouse:new THREE.Vector2,vr,frameloop,onPointerMissed,performance:_objectSpread({current:1,min:.5,max:1,debounce:200},performance,{regress:function(){var state=get();performanceTimeout&&clearTimeout(performanceTimeout);state.performance.current!==state.performance.min&&setPerformanceCurrent(state.performance.min);performanceTimeout=setTimeout(function(){return setPerformanceCurrent(get().performance.max)},state.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:params,\ndpr:params,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport},setSize:function(width,height){var size={width,height};set(function(state){return{size,viewport:_objectSpread({},state.viewport,{},getCurrentViewport(camera$jscomp$0,defaultTarget,size))}})},setDpr:function(dpr){return set(function(state){return{viewport:_objectSpread({},state.viewport,{dpr:_setDpr(dpr)})}})},events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:props,interaction:[],hovered:new Map,subscribers:[],\ninitialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(ref){var priority=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;set(function(_ref11){_ref11=_ref11.internal;return{internal:_objectSpread({},_ref11,{priority:_ref11.priority+(0<priority?1:0),subscribers:[].concat(_toConsumableArray(_ref11.subscribers),[{ref,priority}]).sort(function(a,b){return a.priority-b.priority})})}});return function(){set(function(_ref12){_ref12=_ref12.internal;return{internal:_objectSpread({},\n_ref12,{priority:_ref12.priority-(0<priority?1:0),subscribers:_ref12.subscribers.filter(function(s){return s.ref!==ref})})}})}}}}});rootState.subscribe(function(){var _rootState$getState=rootState.getState(),camera=_rootState$getState.camera,size=_rootState$getState.size,viewport=_rootState$getState.viewport;_rootState$getState.internal.lastProps.camera instanceof THREE.Camera||(camera&&camera.isOrthographicCamera?(camera.left=size.width/-2,camera.right=size.width/2,camera.top=size.height/2,camera.bottom=\nsize.height/-2):camera.aspect=size.width/size.height,camera.updateProjectionMatrix(),camera.updateMatrixWorld());gl.setPixelRatio(viewport.dpr);gl.setSize(size.width,size.height)},function(state){return[state.viewport.dpr,state.size]},_shallow[\"default\"]);_props$shadows=rootState.getState();size$jscomp$0&&_props$shadows.setSize(size$jscomp$0.width,size$jscomp$0.height);rootState.subscribe(function(state){return _invalidate(state)});return rootState},i$jscomp$0,globalEffects=[],globalAfterEffects=\n[],globalTailEffects=[];exports.addEffect=function(callback){return createSubs(callback,globalEffects)};exports.addAfterEffect=function(callback){return createSubs(callback,globalAfterEffects)};exports.addTail=function(callback){return createSubs(callback,globalTailEffects)};var useIsomorphicLayoutEffect=\"undefined\"!==typeof window?React.useLayoutEffect:React.useEffect,ErrorBoundary=function(_React$Component){function ErrorBoundary(){var _getPrototypeOf2;if(!(this instanceof ErrorBoundary))throw new TypeError(\"Cannot call a class as a function\");\nfor(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_len=(_getPrototypeOf2=_getPrototypeOf(ErrorBoundary)).call.apply(_getPrototypeOf2,[this].concat(args));if(!_len||\"object\"!==_typeof(_len)&&\"function\"!==typeof _len){if(void 0===this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");_getPrototypeOf2=this}else _getPrototypeOf2=_len;_getPrototypeOf2.state={error:!1};return _getPrototypeOf2}_inherits(ErrorBoundary,_React$Component);\n_createClass(ErrorBoundary,[{key:\"componentDidCatch\",value:function(error){this.props.set(error)}},{key:\"render\",value:function(){return this.state.error?null:this.props.children}}]);return ErrorBoundary}(React.Component);ErrorBoundary.getDerivedStateFromError=function(){return{error:!0}};global=React.forwardRef(function(_ref18,forwardedRef){var children=_ref18.children,fallback=_ref18.fallback,tabIndex=_ref18.tabIndex,resize=_ref18.resize,id=_ref18.id,style=_ref18.style,className=_ref18.className,\nevents=_ref18.events,props=_objectWithoutProperties(_ref18,\"children fallback tabIndex resize id style className events\".split(\" \"));_ref18=(0,_reactUseMeasure[\"default\"])(_objectSpread({scroll:!0,debounce:{scroll:50,resize:0}},resize));resize=_slicedToArray(_ref18,2);_ref18=resize[0];var size=resize[1],canvasRef=React.useRef(null);resize=React.useState(!1);var _React$useState2=_slicedToArray(resize,2);resize=_React$useState2[0];var setBlock=_React$useState2[1];_React$useState2=React.useState(!1);\n_React$useState2=_slicedToArray(_React$useState2,2);var error=_React$useState2[0],setError=_React$useState2[1];if(resize)throw resize;if(error)throw error;useIsomorphicLayoutEffect(function(){0<size.width&&0<size.height&&render(React.createElement(ErrorBoundary,{set:setError},React.createElement(React.Suspense,{fallback:React.createElement(Block,{set:setBlock})},children)),canvasRef.current,_objectSpread({},props,{size,events:events||createPointerEvents}))},[size,children]);useIsomorphicLayoutEffect(function(){var container=\ncanvasRef.current;return function(){return unmountComponentAtNode(container)}},[]);return React.createElement(\"div\",{ref:_ref18,id,className,tabIndex,style:_objectSpread({position:\"relative\",width:\"100%\",height:\"100%\",overflow:\"hidden\"},style)},React.createElement(\"canvas\",{ref:(0,_reactMergeRefs[\"default\"])([canvasRef,forwardedRef]),style:{display:\"block\"}},fallback))});exports.Canvas=global;useLoader.preload=function(Proto,input,extensions){input=Array.isArray(input)?input:[input];return _useAsset.useAsset.preload.apply(_useAsset.useAsset,\n[loadingFn(extensions),Proto].concat(_toConsumableArray(input)))};useLoader.clear=function(Proto,input){input=Array.isArray(input)?input:[input];return _useAsset.useAsset.clear.apply(_useAsset.useAsset,[Proto].concat(_toConsumableArray(input)))};var roots$jscomp$0=new Map;exports._roots=roots$jscomp$0;var modes=[\"legacy\",\"blocking\",\"concurrent\"];global=function(roots){function loop(timestamp){running=!0;repeat=0;run(globalEffects,timestamp);roots.forEach(function(root){root=root.store.getState();\nroot.internal.active&&(\"always\"===root.frameloop||0<root.internal.frames)&&(repeat+=render$1(timestamp,root))});run(globalAfterEffects,timestamp);if(0<repeat)return requestAnimationFrame(loop);run(globalTailEffects,timestamp);running=!1}function invalidate(state){if(!state)return roots.forEach(function(root){return invalidate(root.store.getState())});!state.vr&&state.internal.active&&\"never\"!==state.frameloop&&(state.internal.frames=Math.min(60,state.internal.frames+1),running||(running=!0,requestAnimationFrame(loop)))}\nvar running=!1,repeat;return{loop,invalidate,advance:function(timestamp){var runGlobalEffects=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,state=2<arguments.length?arguments[2]:void 0;runGlobalEffects&&run(globalEffects,timestamp);state?render$1(timestamp,state):roots.forEach(function(root){return render$1(timestamp,root.store.getState())});runGlobalEffects&&run(globalAfterEffects,timestamp)}}}(roots$jscomp$0);var invalidate=global.invalidate,advance=global.advance;exports.advance=advance;\nexports.invalidate=invalidate;global=function(roots){function applyProps(instance,newProps){var oldProps=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},accumulative=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,_instance$__r3f,_root$getState,_instance$__r3f2,localState=null!=(_instance$__r3f=null==instance?void 0:instance.__r3f)?_instance$__r3f:{};_instance$__r3f=localState.root;var rootState=null!=(_root$getState=null==_instance$__r3f?void 0:null==_instance$__r3f.getState?\nvoid 0:_instance$__r3f.getState())?_root$getState:{},sameProps=[],handlers=[],newMemoizedProps={};_root$getState=0;Object.entries(newProps).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2);_ref3=_ref4[0];_ref4=_ref4[1];-1===FILTER.indexOf(_ref3)&&(newMemoizedProps[_ref3]=_ref4)});localState.memoizedProps&&localState.memoizedProps.args&&(newMemoizedProps.args=localState.memoizedProps.args);localState.memoizedProps&&localState.memoizedProps.attach&&(newMemoizedProps.attach=localState.memoizedProps.attach);\ninstance.__r3f&&(instance.__r3f.memoizedProps=newMemoizedProps);var objectKeys=Object.keys(newProps);for(_root$getState=0;_root$getState<objectKeys.length;_root$getState++)is.equ(newProps[objectKeys[_root$getState]],oldProps[objectKeys[_root$getState]])&&sameProps.push(objectKeys[_root$getState]),is.fun(newProps[objectKeys[_root$getState]])&&/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(objectKeys[_root$getState])&&handlers.push(objectKeys[_root$getState]);var leftOvers=[];if(accumulative)for(objectKeys=\nObject.keys(oldProps),_root$getState=0;_root$getState<objectKeys.length;_root$getState++)newProps.hasOwnProperty(objectKeys[_root$getState])||leftOvers.push(objectKeys[_root$getState]);oldProps=[].concat(sameProps,FILTER);null!=(_instance$__r3f2=instance.__r3f)&&_instance$__r3f2.instance&&oldProps.push(\"object\");_instance$__r3f2=_objectSpread({},newProps);objectKeys=Object.keys(_instance$__r3f2);for(_root$getState=0;_root$getState<objectKeys.length;_root$getState++)-1<oldProps.indexOf(objectKeys[_root$getState])&&\ndelete _instance$__r3f2[objectKeys[_root$getState]];_instance$__r3f2=Object.entries(_instance$__r3f2);for(_root$getState=0;_root$getState<leftOvers.length;_root$getState++)\"children\"!==leftOvers[_root$getState]&&_instance$__r3f2.unshift([leftOvers[_root$getState],\"__defaultremove\"]);0<_instance$__r3f2.length&&(_instance$__r3f2.forEach(function(_ref5){_ref5=_slicedToArray(_ref5,2);var key$jscomp$0=_ref5[0];_ref5=_ref5[1];if(!handlers.includes(key$jscomp$0)){var currentInstance=instance,targetProp=\ncurrentInstance[key$jscomp$0];if(key$jscomp$0.includes(\"-\")){var entries=key$jscomp$0.split(\"-\");targetProp=entries.reduce(function(acc,key){return acc[key]},instance);targetProp&&targetProp.set||(key$jscomp$0=entries.reverse(),currentInstance=_toArray(key$jscomp$0),key$jscomp$0=currentInstance[0],currentInstance=currentInstance.slice(1).reverse().reduce(function(acc,key){return acc[key]},instance))}\"__defaultremove\"===_ref5&&(targetProp&&targetProp.constructor?_ref5=new targetProp.constructor(newMemoizedProps.args):\ncurrentInstance.constructor?(entries=new currentInstance.constructor(currentInstance.__r3f.memoizedProps.args),_ref5=entries[targetProp],entries.dispose&&entries.dispose()):_ref5=0);if(targetProp&&targetProp.set&&(targetProp.copy||targetProp instanceof THREE.Layers))if(Array.isArray(_ref5))if(targetProp.fromArray)targetProp.fromArray(_ref5);else{var _targetProp;(_targetProp=targetProp).set.apply(_targetProp,_toConsumableArray(_ref5))}else targetProp.copy&&_ref5&&_ref5.constructor&&targetProp.constructor.name===\n_ref5.constructor.name?targetProp.copy(_ref5):void 0!==_ref5&&(_targetProp=targetProp instanceof THREE.Color,!_targetProp&&targetProp.setScalar?targetProp.setScalar(_ref5):targetProp instanceof THREE.Layers&&_ref5 instanceof THREE.Layers?targetProp.mask=_ref5.mask:targetProp.set(_ref5),!rootState.linear&&_targetProp&&targetProp.convertSRGBToLinear());else currentInstance[key$jscomp$0]=_ref5,!rootState.linear&&currentInstance[key$jscomp$0]instanceof THREE.Texture&&(currentInstance[key$jscomp$0].encoding=\nTHREE.sRGBEncoding);invalidateInstance(instance)}}),accumulative&&_instance$__r3f&&instance.raycast&&localState.handlers&&(localState.handlers=void 0,_instance$__r3f2=rootState.internal.interaction.indexOf(instance),-1<_instance$__r3f2&&rootState.internal.interaction.splice(_instance$__r3f2,1)),handlers.length&&(accumulative&&_instance$__r3f&&instance.raycast&&rootState.internal.interaction.push(instance),localState.handlers=handlers.reduce(function(acc,key){return _objectSpread({},acc,_defineProperty({},\nkey,newProps[key]))},{})),instance.parent&&updateInstance(instance))}function invalidateInstance(instance){var _instance$__r3f3,_instance$__r3f3$root;(instance=null==(_instance$__r3f3=instance.__r3f)?void 0:null==(_instance$__r3f3$root=_instance$__r3f3.root)?void 0:null==_instance$__r3f3$root.getState?void 0:_instance$__r3f3$root.getState())&&0===instance.internal.frames&&instance.invalidate()}function updateInstance(instance){null==instance.onUpdate?void 0:instance.onUpdate(instance)}function createInstance(type,\n_ref7,root,hostContext,internalInstanceHandle){hostContext=_ref7.args;hostContext=void 0===hostContext?[]:hostContext;_ref7=_objectWithoutProperties(_ref7,[\"args\"]);var name=\"\".concat(type[0].toUpperCase()).concat(type.slice(1));root&&root.getState||!internalInstanceHandle||(root=function fn(node){return node[\"return\"]?fn(node[\"return\"]):node.stateNode&&node.stateNode.containerInfo}(internalInstanceHandle));if(!root||!root||!root.getState)throw\"No valid root for \".concat(name,\"!\");if(\"primitive\"===\ntype){if(void 0===_ref7.object)throw\"Primitives without 'object' are invalid!\";root=prepare(_ref7.object,{root,instance:!0})}else{type=catalogue[name]||THREE[name];if(!type)throw\"\".concat(name,\" is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively\");internalInstanceHandle=is.arr(hostContext);root=prepare(internalInstanceHandle?_construct(type,_toConsumableArray(hostContext)):\nnew type(hostContext),{root,memoizedProps:{args:internalInstanceHandle&&0===hostContext.length?null:hostContext}})}\"attachFns\"in _ref7||(name.endsWith(\"Geometry\")?_ref7=_objectSpread({attach:\"geometry\"},_ref7):name.endsWith(\"Material\")&&(_ref7=_objectSpread({attach:\"material\"},_ref7)));applyProps(root,_ref7,{});return root}function appendChild(parentInstance,child){var addedAsChild=!1;if(child){if(child.attachArray)is.arr(parentInstance[child.attachArray])||(parentInstance[child.attachArray]=[]),\nparentInstance[child.attachArray].push(child);else if(child.attachObject)is.obj(parentInstance[child.attachObject[0]])||(parentInstance[child.attachObject[0]]={}),parentInstance[child.attachObject[0]][child.attachObject[1]]=child;else if(child.attach&&!is.fun(child.attach))parentInstance[child.attach]=child;else if(is.arr(child.attachFns)){var attachFn=_slicedToArray(child.attachFns,1)[0];if(is.str(attachFn)&&is.fun(parentInstance[attachFn]))parentInstance[attachFn](child);else is.fun(attachFn)&&\nattachFn(child,parentInstance)}else child.isObject3D&&(parentInstance.add(child),addedAsChild=!0);addedAsChild||(parentInstance.__r3f.objects.push(child),child.parent=parentInstance);updateInstance(child);invalidateInstance(child)}}function insertBefore(parentInstance,child,beforeChild){var added=!1;if(child){if(child.attachArray){var array=parentInstance[child.attachArray];is.arr(array)||(parentInstance[child.attachArray]=[]);array.splice(array.indexOf(beforeChild),0,child)}else{if(child.attachObject||\nchild.attach&&!is.fun(child.attach))return appendChild(parentInstance,child);child.isObject3D&&(child.parent=parentInstance,child.dispatchEvent({type:\"added\"}),added=parentInstance.children.filter(function(sibling){return sibling!==child}),beforeChild=added.indexOf(beforeChild),parentInstance.children=[].concat(_toConsumableArray(added.slice(0,beforeChild)),[child],_toConsumableArray(added.slice(beforeChild))),added=!0)}added||(parentInstance.__r3f.objects.push(child),child.parent=parentInstance);\nupdateInstance(child);invalidateInstance(child)}}function removeRecursive(array,parent){var dispose=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;array&&_toConsumableArray(array).forEach(function(child){return removeChild(parent,child,dispose)})}function removeChild(parentInstance,child,dispose){if(child){var _child$__r3f2;if(parentInstance.__r3f.objects){var oldLength=parentInstance.__r3f.objects.length;parentInstance.__r3f.objects=parentInstance.__r3f.objects.filter(function(x){return x!==\nchild});parentInstance.__r3f.objects.length<oldLength&&(child.parent=null)}if(child.attachArray)parentInstance[child.attachArray]=parentInstance[child.attachArray].filter(function(x){return x!==child});else if(child.attachObject)delete parentInstance[child.attachObject[0]][child.attachObject[1]];else if(child.attach&&!is.fun(child.attach))parentInstance[child.attach]=null;else if(is.arr(child.attachFns))if(oldLength=_slicedToArray(child.attachFns,2)[1],is.str(oldLength)&&is.fun(parentInstance[oldLength]))parentInstance[oldLength](child);\nelse is.fun(oldLength)&&oldLength(child,parentInstance);else if(child.isObject3D){var _child$__r3f;parentInstance.remove(child);null!=(_child$__r3f=child.__r3f)&&_child$__r3f.root&&removeInteractivity(child.__r3f.root,child)}oldLength=null==(_child$__r3f2=child.__r3f)?void 0:_child$__r3f2.instance;dispose=void 0===dispose?null!==child.dispose&&!oldLength:dispose;if(!oldLength){var _child$__r3f3;removeRecursive(null==(_child$__r3f3=child.__r3f)?void 0:_child$__r3f3.objects,child,dispose);removeRecursive(child.children,\nchild,dispose)}child.__r3f&&(delete child.__r3f.root,delete child.__r3f.objects,delete child.__r3f.handlers,delete child.__r3f.memoizedProps,oldLength||delete child.__r3f);dispose&&child.dispose&&\"Scene\"!==child.type&&(0,_scheduler.unstable_runWithPriority)(_scheduler.unstable_IdlePriority,function(){return child.dispose()});invalidateInstance(parentInstance)}}function switchInstance(instance,type,newProps,fiber$jscomp$0){var parent=instance.parent;if(parent){var newInstance=createInstance(type,newProps,\ninstance.__r3f.root);instance.children&&(instance.children.forEach(function(child){return appendChild(newInstance,child)}),instance.children=[]);instance.__r3f.objects.forEach(function(child){return appendChild(newInstance,child)});instance.__r3f.objects=[];removeChild(parent,instance);appendChild(parent,newInstance);[fiber$jscomp$0,fiber$jscomp$0.alternate].forEach(function(fiber){null!==fiber&&(fiber.stateNode=newInstance,fiber.ref&&(\"function\"===typeof fiber.ref?fiber.ref(newInstance):fiber.ref.current=\nnewInstance))})}}return{reconciler:(0,_reactReconciler[\"default\"])({now:_scheduler.unstable_now,createInstance,removeChild,appendChild,appendInitialChild:appendChild,insertBefore,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0,setTimeout:is.fun(setTimeout)?setTimeout:void 0,clearTimeout:is.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:function(parentInstance,\nchild){parentInstance=getContainer(parentInstance,child);var container=parentInstance.container;container.__r3f.root=parentInstance.root;appendChild(container,child)},removeChildFromContainer:function(parentInstance,child){parentInstance=getContainer(parentInstance,child).container;removeChild(parentInstance,child)},insertInContainerBefore:function(parentInstance,child,beforeChild){parentInstance=getContainer(parentInstance,child).container;insertBefore(parentInstance,child,beforeChild)},commitUpdate:function(instance,\nupdatePayload,type,oldProps,newProps,fiber){if(instance.__r3f.instance&&newProps.object&&newProps.object!==instance)switchInstance(instance,type,newProps,fiber);else{updatePayload=newProps.args;updatePayload=void 0===updatePayload?[]:updatePayload;var restNew=_objectWithoutProperties(newProps,[\"args\"]),_oldProps$args=oldProps.args,argsOld=void 0===_oldProps$args?[]:_oldProps$args;oldProps=_objectWithoutProperties(oldProps,[\"args\"]);updatePayload.some(function(value,index){return is.obj(value)?Object.entries(value).some(function(_ref8){_ref8=\n_slicedToArray(_ref8,2);return _ref8[1]!==argsOld[index][_ref8[0]]}):value!==argsOld[index]})?switchInstance(instance,type,newProps,fiber):applyProps(instance,restNew,oldProps,!0)}},hideInstance:function(instance){instance.isObject3D&&(instance.visible=!1,invalidateInstance(instance))},unhideInstance:function(instance,props){if(instance.isObject3D&&null==props.visible||props.visible)instance.visible=!0,invalidateInstance(instance)},hideTextInstance:function(){throw Error(\"Text is not allowed in the R3F tree.\");\n},getPublicInstance:function(instance){return instance},getRootHostContext:function(rootContainer){return EMPTY},getChildHostContext:function(parentHostContext){return EMPTY},createTextInstance:function(){},finalizeInitialChildren:function(instance){return!!instance.__r3f.handlers},commitMount:function(instance){instance.raycast&&instance.__r3f.handlers&&instance.__r3f.root.getState().internal.interaction.push(instance)},prepareUpdate:function(){return EMPTY},shouldDeprioritizeSubtree:function(){return!1},\nprepareForCommit:function(){return null},preparePortalMount:function(){},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1}}),applyProps}}();var reconciler=global.reconciler,applyProps=global.applyProps;exports.applyProps=applyProps;exports.reconciler=reconciler;exports.act=reconciler.act;var REACT_PORTAL_TYPE=is.fun(Symbol)&&Symbol[\"for\"]?Symbol[\"for\"](\"react.portal\"):60106;reconciler.injectIntoDevTools({bundleType:1,rendererPackageName:\"@react-three/fiber\",\nversion:\"17.0.2\"})}","~:source","shadow$provide[\"module$node_modules$$react_three$fiber$dist$react_three_fiber_esm\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPortal = createPortal;\nexports.dispose = dispose;\nexports.events = createPointerEvents;\nexports.render = render;\nexports.unmountComponentAtNode = unmountComponentAtNode;\nexports.useFrame = useFrame;\nexports.useGraph = useGraph;\nexports.useLoader = useLoader;\nexports.useThree = useThree;\nexports.reconciler = exports.invalidate = exports.extend = exports.context = exports.applyProps = exports.advance = exports.addTail = exports.addEffect = exports.addAfterEffect = exports.act = exports._roots = exports.ReactThreeFiber = exports.Canvas = void 0;\n\nvar THREE = _interopRequireWildcard(require(\"three\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _zustand = _interopRequireDefault(require(\"zustand\"));\n\nvar _shallow = _interopRequireDefault(require(\"zustand/shallow\"));\n\nvar _reactReconciler = _interopRequireDefault(require(\"react-reconciler\"));\n\nvar _scheduler = require(\"scheduler\");\n\nvar _useAsset = require(\"use-asset\");\n\nvar _reactMergeRefs = _interopRequireDefault(require(\"react-merge-refs\"));\n\nvar _reactUseMeasure = _interopRequireDefault(require(\"react-use-measure\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar threeTypes =\n/*#__PURE__*/\nObject.freeze({\n  __proto__: null\n});\nexports.ReactThreeFiber = threeTypes;\nvar is = {\n  obj: function obj(a) {\n    return a === Object(a) && !is.arr(a) && typeof a !== 'function';\n  },\n  fun: function fun(a) {\n    return typeof a === 'function';\n  },\n  str: function str(a) {\n    return typeof a === 'string';\n  },\n  num: function num(a) {\n    return typeof a === 'number';\n  },\n  und: function und(a) {\n    return a === void 0;\n  },\n  arr: function arr(a) {\n    return Array.isArray(a);\n  },\n  equ: function equ(a, b) {\n    // Wrong type or one of the two undefined, doesn't match\n    if (_typeof(a) !== _typeof(b) || !!a !== !!b) return false; // Atomic, just compare a against b\n\n    if (is.str(a) || is.num(a) || is.obj(a)) return a === b; // Array, shallow compare first to see if it's a match\n\n    if (is.arr(a) && a == b) return true; // Last resort, go through keys\n\n    var i;\n\n    for (i in a) {\n      if (!(i in b)) return false;\n    }\n\n    for (i in b) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return is.und(i) ? a === b : true;\n  }\n};\n\nfunction makeId(event) {\n  return (event.eventObject || event.object).uuid + '/' + event.index;\n}\n\nfunction removeInteractivity(store, object) {\n  var _store$getState = store.getState(),\n      internal = _store$getState.internal; // Removes every trace of an object from the data store\n\n\n  internal.interaction = internal.interaction.filter(function (o) {\n    return o !== object;\n  });\n  internal.initialHits = internal.initialHits.filter(function (o) {\n    return o !== object;\n  });\n  internal.hovered.forEach(function (value, key) {\n    if (value.eventObject === object || value.object === object) {\n      internal.hovered[\"delete\"](key);\n    }\n  });\n}\n\nfunction createEvents(store) {\n  var temp = new THREE.Vector3();\n  /** Sets up defaultRaycaster */\n\n  function prepareRay(event) {\n    var _raycaster$computeOff;\n\n    var state = store.getState();\n    var raycaster = state.raycaster,\n        mouse = state.mouse,\n        camera = state.camera,\n        size = state.size; // https://github.com/pmndrs/react-three-fiber/pull/782\n    // Events trigger outside of canvas when moved\n\n    var _ref2 = (_raycaster$computeOff = raycaster.computeOffsets == null ? void 0 : raycaster.computeOffsets(event, state)) != null ? _raycaster$computeOff : event,\n        offsetX = _ref2.offsetX,\n        offsetY = _ref2.offsetY;\n\n    var width = size.width,\n        height = size.height;\n    mouse.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\n    raycaster.setFromCamera(mouse, camera);\n  }\n  /** Calculates delta */\n\n\n  function calculateDistance(event) {\n    var _store$getState2 = store.getState(),\n        internal = _store$getState2.internal;\n\n    var dx = event.offsetX - internal.initialClick[0];\n    var dy = event.offsetY - internal.initialClick[1];\n    return Math.round(Math.sqrt(dx * dx + dy * dy));\n  }\n  /** Returns true if an instance has a valid pointer-event registered, this excludes scroll, clicks etc */\n\n\n  function filterPointerEvents(objects) {\n    return objects.filter(function (obj) {\n      return ['Move', 'Over', 'Enter', 'Out', 'Leave'].some(function (name) {\n        var _r3f$handlers;\n\n        return (_r3f$handlers = obj.__r3f.handlers) == null ? void 0 : _r3f$handlers['onPointer' + name];\n      });\n    });\n  }\n\n  function intersect(filter) {\n    var state = store.getState();\n    var raycaster = state.raycaster,\n        internal = state.internal; // Skip event handling when noEvents is set\n\n    if (!raycaster.enabled) return [];\n    var seen = new Set();\n    var intersections = []; // Allow callers to eliminate event objects\n\n    var eventsObjects = filter ? filter(internal.interaction) : internal.interaction; // Intersect known handler objects and filter against duplicates\n\n    var intersects = raycaster.intersectObjects(eventsObjects, true).filter(function (item) {\n      var id = makeId(item);\n      if (seen.has(id)) return false;\n      seen.add(id);\n      return true;\n    }); // https://github.com/mrdoob/three.js/issues/16031\n    // Allow custom userland intersect sort order\n\n    if (raycaster.filter) intersects = raycaster.filter(intersects, state);\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = intersects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var _intersect = _step.value;\n        var eventObject = _intersect.object; // Bubble event up\n\n        while (eventObject) {\n          var _r3f;\n\n          var handlers = (_r3f = eventObject.__r3f) == null ? void 0 : _r3f.handlers;\n          if (handlers) intersections.push(_objectSpread({}, _intersect, {\n            eventObject: eventObject\n          }));\n          eventObject = eventObject.parent;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return intersections;\n  }\n  /**  Creates filtered intersects and returns an array of positive hits */\n\n\n  function patchIntersects(intersections, event) {\n    var _store$getState3 = store.getState(),\n        internal = _store$getState3.internal; // If the interaction is captured, make all capturing targets  part of the\n    // intersect.\n\n\n    if ('pointerId' in event && internal.capturedMap.has(event.pointerId)) {\n      intersections.push.apply(intersections, _toConsumableArray(internal.capturedMap.get(event.pointerId).values()));\n    }\n\n    return intersections;\n  }\n  /**  Handles intersections by forwarding them to handlers */\n\n\n  function handleIntersects(intersections, event, callback) {\n    var _store$getState4 = store.getState(),\n        raycaster = _store$getState4.raycaster,\n        mouse = _store$getState4.mouse,\n        camera = _store$getState4.camera,\n        internal = _store$getState4.internal; // If anything has been found, forward it to the event listeners\n\n\n    if (intersections.length) {\n      (function () {\n        var unprojectedPoint = temp.set(mouse.x, mouse.y, 0).unproject(camera);\n        var delta = event.type === 'click' ? calculateDistance(event) : 0;\n\n        var releasePointerCapture = function releasePointerCapture(id) {\n          return event.target.releasePointerCapture(id);\n        };\n\n        var localState = {\n          stopped: false\n        };\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          var _loop = function _loop() {\n            var hit = _step2.value;\n\n            var hasPointerCapture = function hasPointerCapture(id) {\n              var _internal$capturedMap, _internal$capturedMap2;\n\n              return (_internal$capturedMap = (_internal$capturedMap2 = internal.capturedMap.get(id)) == null ? void 0 : _internal$capturedMap2.has(hit.eventObject)) != null ? _internal$capturedMap : false;\n            };\n\n            var setPointerCapture = function setPointerCapture(id) {\n              if (internal.capturedMap.has(id)) {\n                // if the pointerId was previously captured, we add the hit to the\n                // event capturedMap.\n                internal.capturedMap.get(id).set(hit.eventObject, hit);\n              } else {\n                // if the pointerId was not previously captured, we create a map\n                // containing the hitObject, and the hit. hitObject is used for\n                // faster access.\n                internal.capturedMap.set(id, new Map([[hit.eventObject, hit]]));\n              } // Call the original event now\n\n\n              event.target.setPointerCapture(id);\n            }; // Add native event props\n\n\n            var extractEventProps = {};\n\n            for (var prop in Object.getPrototypeOf(event)) {\n              var property = event[prop]; // Only copy over atomics, leave functions alone as these should be\n              // called as event.nativeEvent.fn()\n\n              if (typeof property !== 'function') extractEventProps[prop] = property;\n            }\n\n            var raycastEvent = _objectSpread({}, hit, {}, extractEventProps, {\n              spaceX: mouse.x,\n              spaceY: mouse.y,\n              intersections: intersections,\n              stopped: localState.stopped,\n              delta: delta,\n              unprojectedPoint: unprojectedPoint,\n              ray: raycaster.ray,\n              camera: camera,\n              // Hijack stopPropagation, which just sets a flag\n              stopPropagation: function stopPropagation() {\n                // https://github.com/pmndrs/react-three-fiber/issues/596\n                // Events are not allowed to stop propagation if the pointer has been captured\n                var capturesForPointer = 'pointerId' in event && internal.capturedMap.get(event.pointerId); // We only authorize stopPropagation...\n\n                if ( // ...if this pointer hasn't been captured\n                !capturesForPointer || // ... or if the hit object is capturing the pointer\n                capturesForPointer.has(hit.eventObject)) {\n                  raycastEvent.stopped = localState.stopped = true; // Propagation is stopped, remove all other hover records\n                  // An event handler is only allowed to flush other handlers if it is hovered itself\n\n                  if (internal.hovered.size && Array.from(internal.hovered.values()).find(function (i) {\n                    return i.eventObject === hit.eventObject;\n                  })) {\n                    // Objects cannot flush out higher up objects that have already caught the event\n                    var higher = intersections.slice(0, intersections.indexOf(hit));\n                    cancelPointer([].concat(_toConsumableArray(higher), [hit]));\n                  }\n                }\n              },\n              // there should be a distinction between target and currentTarget\n              target: {\n                hasPointerCapture: hasPointerCapture,\n                setPointerCapture: setPointerCapture,\n                releasePointerCapture: releasePointerCapture\n              },\n              currentTarget: {\n                hasPointerCapture: hasPointerCapture,\n                setPointerCapture: setPointerCapture,\n                releasePointerCapture: releasePointerCapture\n              },\n              sourceEvent: event,\n              // deprecated\n              nativeEvent: event\n            }); // Call subscribers\n\n\n            callback(raycastEvent); // Event bubbling may be interrupted by stopPropagation\n\n            if (localState.stopped === true) return \"break\";\n          };\n\n          for (var _iterator2 = intersections[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _ret = _loop();\n\n            if (_ret === \"break\") break;\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      })();\n    }\n\n    return intersections;\n  }\n\n  function cancelPointer(hits) {\n    var _store$getState5 = store.getState(),\n        internal = _store$getState5.internal;\n\n    Array.from(internal.hovered.values()).forEach(function (hoveredObj) {\n      // When no objects were hit or the the hovered object wasn't found underneath the cursor\n      // we call onPointerOut and delete the object from the hovered-elements map\n      if (!hits.length || !hits.find(function (hit) {\n        return hit.object === hoveredObj.object && hit.index === hoveredObj.index;\n      })) {\n        var eventObject = hoveredObj.eventObject;\n        var handlers = eventObject.__r3f.handlers;\n        internal.hovered[\"delete\"](makeId(hoveredObj));\n\n        if (handlers) {\n          // Clear out intersects, they are outdated by now\n          var data = _objectSpread({}, hoveredObj, {\n            intersections: hits || []\n          });\n\n          handlers.onPointerOut == null ? void 0 : handlers.onPointerOut(data);\n          handlers.onPointerLeave == null ? void 0 : handlers.onPointerLeave(data);\n        }\n      }\n    });\n  }\n\n  var handlePointer = function handlePointer(name) {\n    // Deal with cancelation\n    switch (name) {\n      case 'onPointerLeave':\n      case 'onPointerCancel':\n        return function () {\n          return cancelPointer([]);\n        };\n\n      case 'onLostPointerCapture':\n        return function (event) {\n          if ('pointerId' in event) {\n            // this will be a problem if one target releases the pointerId\n            // and another one is still keeping it, as the line below\n            // indifferently deletes all capturing references.\n            store.getState().internal.capturedMap[\"delete\"](event.pointerId);\n          }\n\n          cancelPointer([]);\n        };\n    } // Any other pointer goes here ...\n\n\n    return function (event) {\n      var _store$getState6 = store.getState(),\n          onPointerMissed = _store$getState6.onPointerMissed,\n          internal = _store$getState6.internal;\n\n      prepareRay(event); // Get fresh intersects\n\n      var isPointerMove = name === 'onPointerMove';\n      var filter = isPointerMove ? filterPointerEvents : undefined;\n      var hits = patchIntersects(intersect(filter), event); // Take care of unhover\n\n      if (isPointerMove) cancelPointer(hits);\n      handleIntersects(hits, event, function (data) {\n        var eventObject = data.eventObject;\n        var handlers = eventObject.__r3f.handlers; // Check presence of handlers\n\n        if (!handlers) return;\n\n        if (isPointerMove) {\n          // Move event ...\n          if (handlers.onPointerOver || handlers.onPointerEnter || handlers.onPointerOut || handlers.onPointerLeave) {\n            // When enter or out is present take care of hover-state\n            var id = makeId(data);\n            var hoveredItem = internal.hovered.get(id);\n\n            if (!hoveredItem) {\n              // If the object wasn't previously hovered, book it and call its handler\n              internal.hovered.set(id, data);\n              handlers.onPointerOver == null ? void 0 : handlers.onPointerOver(data);\n              handlers.onPointerEnter == null ? void 0 : handlers.onPointerEnter(data);\n            } else if (hoveredItem.stopped) {\n              // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\n              data.stopPropagation();\n            }\n          } // Call mouse move\n\n\n          handlers.onPointerMove == null ? void 0 : handlers.onPointerMove(data);\n        } else {\n          // All other events ...\n          var handler = handlers == null ? void 0 : handlers[name];\n\n          if (handler) {\n            // Forward all events back to their respective handlers with the exception of click events,\n            // which must use the initial target\n            if (name !== 'onClick' && name !== 'onContextMenu' && name !== 'onDoubleClick' || internal.initialHits.includes(eventObject)) {\n              handler(data);\n              pointerMissed(event, internal.interaction.filter(function (object) {\n                return object !== eventObject;\n              }));\n            }\n          }\n        }\n      }); // Save initial coordinates on pointer-down\n\n      if (name === 'onPointerDown') {\n        internal.initialClick = [event.offsetX, event.offsetY];\n        internal.initialHits = hits.map(function (hit) {\n          return hit.eventObject;\n        });\n      } // If a click yields no results, pass it back to the user as a miss\n\n\n      if ((name === 'onClick' || name === 'onContextMenu' || name === 'onDoubleClick') && !hits.length) {\n        if (calculateDistance(event) <= 2) {\n          pointerMissed(event, internal.interaction);\n          if (onPointerMissed) onPointerMissed(event);\n        }\n      }\n    };\n  };\n\n  function pointerMissed(event, objects) {\n    objects.forEach(function (object) {\n      var _r3f$handlers2;\n\n      return (_r3f$handlers2 = object.__r3f.handlers) == null ? void 0 : _r3f$handlers2.onPointerMissed == null ? void 0 : _r3f$handlers2.onPointerMissed(event);\n    });\n  }\n\n  return {\n    handlePointer: handlePointer\n  };\n} // Type guard to tell a store from a portal\n\n\nvar isStore = function isStore(def) {\n  return def && !!def.getState;\n};\n\nvar getContainer = function getContainer(container, child) {\n  var _container$__r3f$root, _container$__r3f;\n\n  return {\n    // If the container is not a root-store then it must be a THREE.Object3D into which part of the\n    // scene is portalled into. Now there can be two variants of this, either that object is part of\n    // the regular jsx tree, in which case it already has __r3f with a valid root attached, or it lies\n    // outside react, in which case we must take the root of the child that is about to be attached to it.\n    root: isStore(container) ? container : (_container$__r3f$root = (_container$__r3f = container.__r3f) == null ? void 0 : _container$__r3f.root) != null ? _container$__r3f$root : child.__r3f.root,\n    // The container is the eventual target into which objects are mounted, it has to be a THREE.Object3D\n    container: isStore(container) ? container.getState().scene : container\n  };\n};\n\nvar DEFAULT = '__default';\nvar EMPTY = {};\nvar FILTER = ['children', 'key', 'ref'];\nvar catalogue = {};\n\nvar extend = function extend(objects) {\n  return void (catalogue = _objectSpread({}, catalogue, {}, objects));\n}; // Each object in the scene carries a small LocalState descriptor\n\n\nexports.extend = extend;\n\nfunction prepare(object, state) {\n  var instance = object;\n\n  if (state != null && state.instance || !instance.__r3f) {\n    instance.__r3f = _objectSpread({\n      root: null,\n      memoizedProps: {},\n      objects: []\n    }, state);\n  }\n\n  return object;\n}\n\nfunction createRenderer(roots) {\n  function applyProps(instance, newProps) {\n    var oldProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var accumulative = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    var _instance$__r3f, _root$getState, _instance$__r3f2; // Filter equals, events and reserved props\n\n\n    var localState = (_instance$__r3f = instance == null ? void 0 : instance.__r3f) != null ? _instance$__r3f : {};\n    var root = localState.root;\n    var rootState = (_root$getState = root == null ? void 0 : root.getState == null ? void 0 : root.getState()) != null ? _root$getState : {};\n    var sameProps = [];\n    var handlers = [];\n    var newMemoizedProps = {};\n    var i = 0;\n    Object.entries(newProps).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          entry = _ref4[1];\n\n      // we don't want children, ref or key in the memoized props\n      if (FILTER.indexOf(key) === -1) {\n        newMemoizedProps[key] = entry;\n      }\n    });\n\n    if (localState.memoizedProps && localState.memoizedProps.args) {\n      newMemoizedProps.args = localState.memoizedProps.args;\n    }\n\n    if (localState.memoizedProps && localState.memoizedProps.attach) {\n      newMemoizedProps.attach = localState.memoizedProps.attach;\n    }\n\n    if (instance.__r3f) {\n      instance.__r3f.memoizedProps = newMemoizedProps;\n    }\n\n    var objectKeys = Object.keys(newProps);\n\n    for (i = 0; i < objectKeys.length; i++) {\n      if (is.equ(newProps[objectKeys[i]], oldProps[objectKeys[i]])) {\n        sameProps.push(objectKeys[i]);\n      } // Event-handlers ...\n      //   are functions, that\n      //   start with \"on\", and\n      //   contain the name \"Pointer\", \"Click\", \"DoubleClick\", \"ContextMenu\", or \"Wheel\"\n\n\n      if (is.fun(newProps[objectKeys[i]]) && /^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(objectKeys[i])) {\n        handlers.push(objectKeys[i]);\n      }\n    } // Catch props that existed, but now exist no more ...\n\n\n    var leftOvers = [];\n\n    if (accumulative) {\n      objectKeys = Object.keys(oldProps);\n\n      for (i = 0; i < objectKeys.length; i++) {\n        if (!newProps.hasOwnProperty(objectKeys[i])) {\n          leftOvers.push(objectKeys[i]);\n        }\n      }\n    }\n\n    var toFilter = [].concat(sameProps, FILTER); // Instances use \"object\" as a reserved identifier\n\n    if ((_instance$__r3f2 = instance.__r3f) != null && _instance$__r3f2.instance) toFilter.push('object');\n\n    var filteredProps = _objectSpread({}, newProps); // Removes sameProps and reserved props from newProps\n\n\n    objectKeys = Object.keys(filteredProps);\n\n    for (i = 0; i < objectKeys.length; i++) {\n      if (toFilter.indexOf(objectKeys[i]) > -1) {\n        delete filteredProps[objectKeys[i]];\n      }\n    } // Collect all new props\n\n\n    var filteredPropsEntries = Object.entries(filteredProps); // Prepend left-overs so they can be reset or removed\n    // Left-overs must come first!\n\n    for (i = 0; i < leftOvers.length; i++) {\n      if (leftOvers[i] !== 'children') {\n        filteredPropsEntries.unshift([leftOvers[i], DEFAULT + 'remove']);\n      }\n    }\n\n    if (filteredPropsEntries.length > 0) {\n      filteredPropsEntries.forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            key = _ref6[0],\n            value = _ref6[1];\n\n        if (!handlers.includes(key)) {\n          var currentInstance = instance;\n          var targetProp = currentInstance[key];\n\n          if (key.includes('-')) {\n            var entries = key.split('-');\n            targetProp = entries.reduce(function (acc, key) {\n              return acc[key];\n            }, instance); // If the target is atomic, it forces us to switch the root\n\n            if (!(targetProp && targetProp.set)) {\n              var _entries$reverse = entries.reverse(),\n                  _entries$reverse2 = _toArray(_entries$reverse),\n                  name = _entries$reverse2[0],\n                  reverseEntries = _entries$reverse2.slice(1);\n\n              currentInstance = reverseEntries.reverse().reduce(function (acc, key) {\n                return acc[key];\n              }, instance);\n              key = name;\n            }\n          } // https://github.com/mrdoob/three.js/issues/21209\n          // HMR/fast-refresh relies on the ability to cancel out props, but threejs\n          // has no means to do this. Hence we curate a small collection of value-classes\n          // with their respective constructor/set arguments\n          // For removed props, try to set default values, if possible\n\n\n          if (value === DEFAULT + 'remove') {\n            if (targetProp && targetProp.constructor) {\n              // use the prop constructor to find the default it should be\n              value = new targetProp.constructor(newMemoizedProps.args);\n            } else if (currentInstance.constructor) {\n              // create a blank slate of the instance and copy the particular parameter.\n              // @ts-ignore\n              var defaultClassCall = new currentInstance.constructor(currentInstance.__r3f.memoizedProps.args);\n              value = defaultClassCall[targetProp]; // destory the instance\n\n              if (defaultClassCall.dispose) {\n                defaultClassCall.dispose();\n              }\n            } else {\n              // instance does not have constructor, just set it to 0\n              value = 0;\n            }\n          } // Special treatment for objects with support for set/copy, and layers\n\n\n          if (targetProp && targetProp.set && (targetProp.copy || targetProp instanceof THREE.Layers)) {\n            // If value is an array\n            if (Array.isArray(value)) {\n              if (targetProp.fromArray) {\n                targetProp.fromArray(value);\n              } else {\n                var _targetProp;\n\n                (_targetProp = targetProp).set.apply(_targetProp, _toConsumableArray(value));\n              }\n            } // Test again target.copy(class) next ...\n            else if (targetProp.copy && value && value.constructor && targetProp.constructor.name === value.constructor.name) {\n                targetProp.copy(value);\n              } // If nothing else fits, just set the single value, ignore undefined\n              // https://github.com/react-spring/react-three-fiber/issues/274\n              else if (value !== undefined) {\n                  var isColor = targetProp instanceof THREE.Color; // Allow setting array scalars\n\n                  if (!isColor && targetProp.setScalar) targetProp.setScalar(value); // Layers have no copy function, we must therefore copy the mask property\n                  else if (targetProp instanceof THREE.Layers && value instanceof THREE.Layers) targetProp.mask = value.mask; // Otherwise just set ...\n                    else targetProp.set(value); // Auto-convert sRGB colors, for now ...\n                  // https://github.com/react-spring/react-three-fiber/issues/344\n\n                  if (!rootState.linear && isColor) targetProp.convertSRGBToLinear();\n                } // Else, just overwrite the value\n\n          } else {\n            currentInstance[key] = value; // Auto-convert sRGB textures, for now ...\n            // https://github.com/react-spring/react-three-fiber/issues/344\n\n            if (!rootState.linear && currentInstance[key] instanceof THREE.Texture) currentInstance[key].encoding = THREE.sRGBEncoding;\n          }\n\n          invalidateInstance(instance);\n        }\n      }); // Preemptively delete the instance from the containers interaction\n\n      if (accumulative && root && instance.raycast && localState.handlers) {\n        localState.handlers = undefined;\n        var index = rootState.internal.interaction.indexOf(instance);\n        if (index > -1) rootState.internal.interaction.splice(index, 1);\n      } // Prep interaction handlers\n\n\n      if (handlers.length) {\n        if (accumulative && root && instance.raycast) {\n          rootState.internal.interaction.push(instance);\n        } // Add handlers to the instances handler-map\n\n\n        localState.handlers = handlers.reduce(function (acc, key) {\n          return _objectSpread({}, acc, _defineProperty({}, key, newProps[key]));\n        }, {});\n      } // Call the update lifecycle when it is being updated, but only when it is part of the scene\n\n\n      if (instance.parent) updateInstance(instance);\n    }\n  }\n\n  function invalidateInstance(instance) {\n    var _instance$__r3f3, _instance$__r3f3$root;\n\n    var state = (_instance$__r3f3 = instance.__r3f) == null ? void 0 : (_instance$__r3f3$root = _instance$__r3f3.root) == null ? void 0 : _instance$__r3f3$root.getState == null ? void 0 : _instance$__r3f3$root.getState();\n    if (state && state.internal.frames === 0) state.invalidate();\n  }\n\n  function updateInstance(instance) {\n    instance.onUpdate == null ? void 0 : instance.onUpdate(instance);\n  }\n\n  function createInstance(type, _ref7, root, hostContext, internalInstanceHandle) {\n    var _ref7$args = _ref7.args,\n        args = _ref7$args === void 0 ? [] : _ref7$args,\n        props = _objectWithoutProperties(_ref7, [\"args\"]);\n\n    var name = \"\".concat(type[0].toUpperCase()).concat(type.slice(1));\n    var instance; // https://github.com/facebook/react/issues/17147\n    // Portals do not give us a root, they are themselves treated as a root by the reconciler\n    // In order to figure out the actual root we have to climb through fiber internals :(\n\n    if (!isStore(root) && internalInstanceHandle) {\n      var fn = function fn(node) {\n        if (!node[\"return\"]) return node.stateNode && node.stateNode.containerInfo;else return fn(node[\"return\"]);\n      };\n\n      root = fn(internalInstanceHandle);\n    } // Assert that by now we have a valid root\n\n\n    if (!root || !isStore(root)) throw \"No valid root for \".concat(name, \"!\");\n\n    if (type === 'primitive') {\n      if (props.object === undefined) throw \"Primitives without 'object' are invalid!\";\n      var object = props.object;\n      instance = prepare(object, {\n        root: root,\n        instance: true\n      });\n    } else {\n      var target = catalogue[name] || THREE[name];\n      if (!target) throw \"\".concat(name, \" is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively\");\n      var isArgsArr = is.arr(args); // Instanciate new object, link it to the root\n\n      instance = prepare(isArgsArr ? _construct(target, _toConsumableArray(args)) : new target(args), {\n        root: root,\n        // append memoized props with args so it's not forgotten\n        memoizedProps: {\n          args: isArgsArr && args.length === 0 ? null : args\n        }\n      });\n    } // Auto-attach geometries and materials\n\n\n    if (!('attachFns' in props)) {\n      if (name.endsWith('Geometry')) {\n        props = _objectSpread({\n          attach: 'geometry'\n        }, props);\n      } else if (name.endsWith('Material')) {\n        props = _objectSpread({\n          attach: 'material'\n        }, props);\n      }\n    } // It should NOT call onUpdate on object instanciation, because it hasn't been added to the\n    // view yet. If the callback relies on references for instance, they won't be ready yet, this is\n    // why it passes \"true\" here\n\n\n    applyProps(instance, props, {});\n    return instance;\n  }\n\n  function appendChild(parentInstance, child) {\n    var addedAsChild = false;\n\n    if (child) {\n      // The attach attribute implies that the object attaches itself on the parent\n      if (child.attachArray) {\n        if (!is.arr(parentInstance[child.attachArray])) parentInstance[child.attachArray] = [];\n        parentInstance[child.attachArray].push(child);\n      } else if (child.attachObject) {\n        if (!is.obj(parentInstance[child.attachObject[0]])) parentInstance[child.attachObject[0]] = {};\n        parentInstance[child.attachObject[0]][child.attachObject[1]] = child;\n      } else if (child.attach && !is.fun(child.attach)) {\n        parentInstance[child.attach] = child;\n      } else if (is.arr(child.attachFns)) {\n        var _child$attachFns = _slicedToArray(child.attachFns, 1),\n            attachFn = _child$attachFns[0];\n\n        if (is.str(attachFn) && is.fun(parentInstance[attachFn])) {\n          parentInstance[attachFn](child);\n        } else if (is.fun(attachFn)) {\n          attachFn(child, parentInstance);\n        }\n      } else if (child.isObject3D) {\n        // add in the usual parent-child way\n        parentInstance.add(child);\n        addedAsChild = true;\n      }\n\n      if (!addedAsChild) {\n        // This is for anything that used attach, and for non-Object3Ds that don't get attached to props;\n        // that is, anything that's a child in React but not a child in the scenegraph.\n        parentInstance.__r3f.objects.push(child);\n\n        child.parent = parentInstance;\n      }\n\n      updateInstance(child);\n      invalidateInstance(child);\n    }\n  }\n\n  function insertBefore(parentInstance, child, beforeChild) {\n    var added = false;\n\n    if (child) {\n      if (child.attachArray) {\n        var array = parentInstance[child.attachArray];\n        if (!is.arr(array)) parentInstance[child.attachArray] = [];\n        array.splice(array.indexOf(beforeChild), 0, child);\n      } else if (child.attachObject || child.attach && !is.fun(child.attach)) {\n        // attach and attachObject don't have an order anyway, so just append\n        return appendChild(parentInstance, child);\n      } else if (child.isObject3D) {\n        child.parent = parentInstance;\n        child.dispatchEvent({\n          type: 'added'\n        });\n        var restSiblings = parentInstance.children.filter(function (sibling) {\n          return sibling !== child;\n        });\n        var index = restSiblings.indexOf(beforeChild);\n        parentInstance.children = [].concat(_toConsumableArray(restSiblings.slice(0, index)), [child], _toConsumableArray(restSiblings.slice(index)));\n        added = true;\n      }\n\n      if (!added) {\n        parentInstance.__r3f.objects.push(child);\n\n        child.parent = parentInstance;\n      }\n\n      updateInstance(child);\n      invalidateInstance(child);\n    }\n  }\n\n  function removeRecursive(array, parent) {\n    var dispose = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (array) _toConsumableArray(array).forEach(function (child) {\n      return removeChild(parent, child, dispose);\n    });\n  }\n\n  function removeChild(parentInstance, child, dispose) {\n    if (child) {\n      var _child$__r3f2;\n\n      if (parentInstance.__r3f.objects) {\n        var oldLength = parentInstance.__r3f.objects.length;\n        parentInstance.__r3f.objects = parentInstance.__r3f.objects.filter(function (x) {\n          return x !== child;\n        });\n        var newLength = parentInstance.__r3f.objects.length; // was it in the list?\n\n        if (newLength < oldLength) {\n          // we had also set this, so we must clear it now\n          child.parent = null;\n        }\n      } // Remove attachment\n\n\n      if (child.attachArray) {\n        parentInstance[child.attachArray] = parentInstance[child.attachArray].filter(function (x) {\n          return x !== child;\n        });\n      } else if (child.attachObject) {\n        delete parentInstance[child.attachObject[0]][child.attachObject[1]];\n      } else if (child.attach && !is.fun(child.attach)) {\n        parentInstance[child.attach] = null;\n      } else if (is.arr(child.attachFns)) {\n        var _child$attachFns2 = _slicedToArray(child.attachFns, 2),\n            detachFn = _child$attachFns2[1];\n\n        if (is.str(detachFn) && is.fun(parentInstance[detachFn])) {\n          parentInstance[detachFn](child);\n        } else if (is.fun(detachFn)) {\n          detachFn(child, parentInstance);\n        }\n      } else if (child.isObject3D) {\n        var _child$__r3f;\n\n        parentInstance.remove(child); // Remove interactivity\n\n        if ((_child$__r3f = child.__r3f) != null && _child$__r3f.root) {\n          removeInteractivity(child.__r3f.root, child);\n        }\n      } // Allow objects to bail out of recursive dispose alltogether by passing dispose={null}\n      // Never dispose of primitives because their state may be kept outside of React!\n      // In order for an object to be able to dispose it has to have\n      //   - a dispose method,\n      //   - it cannot be an <instance object={...} />\n      //   - it cannot be a THREE.Scene, because three has broken it's own api\n      //\n      // Since disposal is recursive, we can check the optional dispose arg, which will be undefined\n      // when the reconciler calls it, but then carry our own check recursively\n\n\n      var isInstance = (_child$__r3f2 = child.__r3f) == null ? void 0 : _child$__r3f2.instance;\n      var shouldDispose = dispose === undefined ? child.dispose !== null && !isInstance : dispose; // Remove nested child objects. Primitives should not have objects and children that are\n      // attached to them declaratively ...\n\n      if (!isInstance) {\n        var _child$__r3f3;\n\n        removeRecursive((_child$__r3f3 = child.__r3f) == null ? void 0 : _child$__r3f3.objects, child, shouldDispose);\n        removeRecursive(child.children, child, shouldDispose);\n      } // Remove references\n\n\n      if (child.__r3f) {\n        delete child.__r3f.root;\n        delete child.__r3f.objects;\n        delete child.__r3f.handlers;\n        delete child.__r3f.memoizedProps;\n        if (!isInstance) delete child.__r3f;\n      } // Dispose item whenever the reconciler feels like it\n\n\n      if (shouldDispose && child.dispose && child.type !== 'Scene') {\n        (0, _scheduler.unstable_runWithPriority)(_scheduler.unstable_IdlePriority, function () {\n          return child.dispose();\n        });\n      }\n\n      invalidateInstance(parentInstance);\n    }\n  }\n\n  function switchInstance(instance, type, newProps, fiber) {\n    var parent = instance.parent;\n    if (!parent) return;\n    var newInstance = createInstance(type, newProps, instance.__r3f.root); // https://github.com/pmndrs/react-three-fiber/issues/1348\n    // When args change the instance has to be re-constructed, which then\n    // forces r3f to re-parent the children and non-scene objects\n\n    if (instance.children) {\n      instance.children.forEach(function (child) {\n        return appendChild(newInstance, child);\n      });\n      instance.children = [];\n    }\n\n    instance.__r3f.objects.forEach(function (child) {\n      return appendChild(newInstance, child);\n    });\n\n    instance.__r3f.objects = [];\n    removeChild(parent, instance);\n    appendChild(parent, newInstance) // This evil hack switches the react-internal fiber node\n    // https://github.com/facebook/react/issues/14983\n    // https://github.com/facebook/react/pull/15021\n    ;\n    [fiber, fiber.alternate].forEach(function (fiber) {\n      if (fiber !== null) {\n        fiber.stateNode = newInstance;\n\n        if (fiber.ref) {\n          if (typeof fiber.ref === 'function') fiber.ref(newInstance);else fiber.ref.current = newInstance;\n        }\n      }\n    });\n  }\n\n  var reconciler = (0, _reactReconciler[\"default\"])({\n    now: _scheduler.unstable_now,\n    createInstance: createInstance,\n    removeChild: removeChild,\n    appendChild: appendChild,\n    appendInitialChild: appendChild,\n    insertBefore: insertBefore,\n    warnsIfNotActing: true,\n    supportsMutation: true,\n    isPrimaryRenderer: false,\n    // @ts-ignore\n    scheduleTimeout: is.fun(setTimeout) ? setTimeout : undefined,\n    // @ts-ignore\n    cancelTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\n    // @ts-ignore\n    setTimeout: is.fun(setTimeout) ? setTimeout : undefined,\n    // @ts-ignore\n    clearTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\n    noTimeout: -1,\n    appendChildToContainer: function appendChildToContainer(parentInstance, child) {\n      var _getContainer = getContainer(parentInstance, child),\n          container = _getContainer.container,\n          root = _getContainer.root; // Link current root to the default scene\n\n\n      container.__r3f.root = root;\n      appendChild(container, child);\n    },\n    removeChildFromContainer: function removeChildFromContainer(parentInstance, child) {\n      var _getContainer2 = getContainer(parentInstance, child),\n          container = _getContainer2.container;\n\n      removeChild(container, child);\n    },\n    insertInContainerBefore: function insertInContainerBefore(parentInstance, child, beforeChild) {\n      var _getContainer3 = getContainer(parentInstance, child),\n          container = _getContainer3.container;\n\n      insertBefore(container, child, beforeChild);\n    },\n    commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps, fiber) {\n      if (instance.__r3f.instance && newProps.object && newProps.object !== instance) {\n        // <instance object={...} /> where the object reference has changed\n        switchInstance(instance, type, newProps, fiber);\n      } else {\n        // This is a data object, let's extract critical information about it\n        var _newProps$args = newProps.args,\n            argsNew = _newProps$args === void 0 ? [] : _newProps$args,\n            restNew = _objectWithoutProperties(newProps, [\"args\"]);\n\n        var _oldProps$args = oldProps.args,\n            argsOld = _oldProps$args === void 0 ? [] : _oldProps$args,\n            restOld = _objectWithoutProperties(oldProps, [\"args\"]); // If it has new props or arguments, then it needs to be re-instanciated\n\n\n        var hasNewArgs = argsNew.some(function (value, index) {\n          return is.obj(value) ? Object.entries(value).some(function (_ref8) {\n            var _ref9 = _slicedToArray(_ref8, 2),\n                key = _ref9[0],\n                val = _ref9[1];\n\n            return val !== argsOld[index][key];\n          }) : value !== argsOld[index];\n        });\n\n        if (hasNewArgs) {\n          // Next we create a new instance and append it again\n          switchInstance(instance, type, newProps, fiber);\n        } else {\n          // Otherwise just overwrite props\n          applyProps(instance, restNew, restOld, true);\n        }\n      }\n    },\n    hideInstance: function hideInstance(instance) {\n      if (instance.isObject3D) {\n        instance.visible = false;\n        invalidateInstance(instance);\n      }\n    },\n    unhideInstance: function unhideInstance(instance, props) {\n      if (instance.isObject3D && props.visible == null || props.visible) {\n        instance.visible = true;\n        invalidateInstance(instance);\n      }\n    },\n    hideTextInstance: function hideTextInstance() {\n      throw new Error('Text is not allowed in the R3F tree.');\n    },\n    getPublicInstance: function getPublicInstance(instance) {\n      // TODO: might fix switchInstance (?)\n      return instance;\n    },\n    getRootHostContext: function getRootHostContext(rootContainer) {\n      return EMPTY;\n    },\n    getChildHostContext: function getChildHostContext(parentHostContext) {\n      return EMPTY;\n    },\n    createTextInstance: function createTextInstance() {},\n    finalizeInitialChildren: function finalizeInitialChildren(instance) {\n      // https://github.com/facebook/react/issues/20271\n      // Returning true will trigger commitMount\n      return !!instance.__r3f.handlers;\n    },\n    commitMount: function commitMount(instance)\n    /*, type, props*/\n    {\n      // https://github.com/facebook/react/issues/20271\n      // This will make sure events are only added once to the central container\n      if (instance.raycast && instance.__r3f.handlers) instance.__r3f.root.getState().internal.interaction.push(instance);\n    },\n    prepareUpdate: function prepareUpdate() {\n      return EMPTY;\n    },\n    shouldDeprioritizeSubtree: function shouldDeprioritizeSubtree() {\n      return false;\n    },\n    prepareForCommit: function prepareForCommit() {\n      return null;\n    },\n    preparePortalMount: function preparePortalMount() {// noop\n    },\n    resetAfterCommit: function resetAfterCommit() {// noop\n    },\n    shouldSetTextContent: function shouldSetTextContent() {\n      return false;\n    },\n    clearContainer: function clearContainer() {\n      return false;\n    }\n  });\n  return {\n    reconciler: reconciler,\n    applyProps: applyProps\n  };\n}\n\nvar isRenderer = function isRenderer(def) {\n  return def && !!def.render;\n};\n\nvar isOrthographicCamera = function isOrthographicCamera(def) {\n  return def && def.isOrthographicCamera;\n};\n\nvar context =\n/*#__PURE__*/\nReact.createContext(null);\nexports.context = context;\n\nvar createStore = function createStore(applyProps, _invalidate, _advance, props) {\n  var gl = props.gl,\n      size = props.size,\n      _props$shadows = props.shadows,\n      shadows = _props$shadows === void 0 ? false : _props$shadows,\n      _props$linear = props.linear,\n      linear = _props$linear === void 0 ? false : _props$linear,\n      _props$flat = props.flat,\n      flat = _props$flat === void 0 ? false : _props$flat,\n      _props$vr = props.vr,\n      vr = _props$vr === void 0 ? false : _props$vr,\n      _props$orthographic = props.orthographic,\n      orthographic = _props$orthographic === void 0 ? false : _props$orthographic,\n      _props$frameloop = props.frameloop,\n      frameloop = _props$frameloop === void 0 ? 'always' : _props$frameloop,\n      _props$dpr = props.dpr,\n      dpr = _props$dpr === void 0 ? 1 : _props$dpr,\n      performance = props.performance,\n      _props$clock = props.clock,\n      clock = _props$clock === void 0 ? new THREE.Clock() : _props$clock,\n      raycastOptions = props.raycaster,\n      cameraOptions = props.camera,\n      onPointerMissed = props.onPointerMissed; // Set shadowmap\n\n  if (shadows) {\n    gl.shadowMap.enabled = true;\n    if (_typeof(shadows) === 'object') Object.assign(gl.shadowMap, shadows);else gl.shadowMap.type = THREE.PCFSoftShadowMap;\n  } // Set color management\n\n\n  if (!linear) {\n    if (!flat) gl.toneMapping = THREE.ACESFilmicToneMapping;\n    gl.outputEncoding = THREE.sRGBEncoding;\n  } // clock.elapsedTime is updated using advance(timestamp)\n\n\n  if (frameloop === 'never') {\n    clock.stop();\n    clock.elapsedTime = 0;\n  }\n\n  var rootState = (0, _zustand[\"default\"])(function (set, get) {\n    // Create custom raycaster\n    var raycaster = new THREE.Raycaster();\n\n    var _ref10 = raycastOptions || {},\n        params = _ref10.params,\n        options = _objectWithoutProperties(_ref10, [\"params\"]);\n\n    applyProps(raycaster, _objectSpread({\n      enabled: true\n    }, options, {\n      params: _objectSpread({}, raycaster.params, {}, params)\n    }), {}); // Create default camera\n\n    var isCamera = cameraOptions instanceof THREE.Camera;\n    var camera = isCamera ? cameraOptions : orthographic ? new THREE.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new THREE.PerspectiveCamera(75, 0, 0.1, 1000);\n\n    if (!isCamera) {\n      camera.position.z = 5;\n      if (cameraOptions) applyProps(camera, cameraOptions, {}); // Always look at center by default\n\n      camera.lookAt(0, 0, 0);\n    }\n\n    function _setDpr(dpr) {\n      return Array.isArray(dpr) ? Math.min(Math.max(dpr[0], window.devicePixelRatio), dpr[1]) : dpr;\n    }\n\n    var initialDpr = _setDpr(dpr);\n\n    var position = new THREE.Vector3();\n    var defaultTarget = new THREE.Vector3();\n\n    function getCurrentViewport() {\n      var camera = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : get().camera;\n      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultTarget;\n      var size = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : get().size;\n      var width = size.width,\n          height = size.height;\n      var aspect = width / height;\n      var distance = camera.getWorldPosition(position).distanceTo(target);\n\n      if (isOrthographicCamera(camera)) {\n        return {\n          width: width / camera.zoom,\n          height: height / camera.zoom,\n          factor: 1,\n          distance: distance,\n          aspect: aspect\n        };\n      } else {\n        var fov = camera.fov * Math.PI / 180; // convert vertical fov to radians\n\n        var h = 2 * Math.tan(fov / 2) * distance; // visible height\n\n        var w = h * (width / height);\n        return {\n          width: w,\n          height: h,\n          factor: width / w,\n          distance: distance,\n          aspect: aspect\n        };\n      }\n    }\n\n    var performanceTimeout = undefined;\n\n    var setPerformanceCurrent = function setPerformanceCurrent(current) {\n      return set(function (state) {\n        return {\n          performance: _objectSpread({}, state.performance, {\n            current: current\n          })\n        };\n      });\n    };\n\n    return {\n      gl: gl,\n      set: set,\n      get: get,\n      invalidate: function invalidate() {\n        return _invalidate(get());\n      },\n      advance: function advance(timestamp, runGlobalEffects) {\n        return _advance(timestamp, runGlobalEffects, get());\n      },\n      linear: linear,\n      flat: flat,\n      scene: prepare(new THREE.Scene()),\n      camera: camera,\n      controls: null,\n      raycaster: raycaster,\n      clock: clock,\n      mouse: new THREE.Vector2(),\n      vr: vr,\n      frameloop: frameloop,\n      onPointerMissed: onPointerMissed,\n      performance: _objectSpread({\n        current: 1,\n        min: 0.5,\n        max: 1,\n        debounce: 200\n      }, performance, {\n        regress: function regress() {\n          var state = get(); // Clear timeout\n\n          if (performanceTimeout) clearTimeout(performanceTimeout); // Set lower bound performance\n\n          if (state.performance.current !== state.performance.min) setPerformanceCurrent(state.performance.min); // Go back to upper bound performance after a while unless something regresses meanwhile\n\n          performanceTimeout = setTimeout(function () {\n            return setPerformanceCurrent(get().performance.max);\n          }, state.performance.debounce);\n        }\n      }),\n      size: {\n        width: 0,\n        height: 0\n      },\n      viewport: {\n        initialDpr: initialDpr,\n        dpr: initialDpr,\n        width: 0,\n        height: 0,\n        aspect: 0,\n        distance: 0,\n        factor: 0,\n        getCurrentViewport: getCurrentViewport\n      },\n      setSize: function setSize(width, height) {\n        var size = {\n          width: width,\n          height: height\n        };\n        set(function (state) {\n          return {\n            size: size,\n            viewport: _objectSpread({}, state.viewport, {}, getCurrentViewport(camera, defaultTarget, size))\n          };\n        });\n      },\n      setDpr: function setDpr(dpr) {\n        return set(function (state) {\n          return {\n            viewport: _objectSpread({}, state.viewport, {\n              dpr: _setDpr(dpr)\n            })\n          };\n        });\n      },\n      events: {\n        connected: false\n      },\n      internal: {\n        active: false,\n        priority: 0,\n        frames: 0,\n        lastProps: props,\n        interaction: [],\n        hovered: new Map(),\n        subscribers: [],\n        initialClick: [0, 0],\n        initialHits: [],\n        capturedMap: new Map(),\n        subscribe: function subscribe(ref) {\n          var priority = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          set(function (_ref11) {\n            var internal = _ref11.internal;\n            return {\n              internal: _objectSpread({}, internal, {\n                // If this subscription was given a priority, it takes rendering into its own hands\n                // For that reason we switch off automatic rendering and increase the manual flag\n                // As long as this flag is positive (there could be multiple render subscription)\n                // ..there can be no internal rendering at all\n                priority: internal.priority + (priority > 0 ? 1 : 0),\n                // Register subscriber and sort layers from lowest to highest, meaning,\n                // highest priority renders last (on top of the other frames)\n                subscribers: [].concat(_toConsumableArray(internal.subscribers), [{\n                  ref: ref,\n                  priority: priority\n                }]).sort(function (a, b) {\n                  return a.priority - b.priority;\n                })\n              })\n            };\n          });\n          return function () {\n            set(function (_ref12) {\n              var internal = _ref12.internal;\n              return {\n                internal: _objectSpread({}, internal, {\n                  // Decrease manual flag if this subscription had a priority\n                  priority: internal.priority - (priority > 0 ? 1 : 0),\n                  // Remove subscriber from list\n                  subscribers: internal.subscribers.filter(function (s) {\n                    return s.ref !== ref;\n                  })\n                })\n              };\n            });\n          };\n        }\n      }\n    };\n  }); // Resize camera and renderer on changes to size and pixelratio\n\n  rootState.subscribe(function () {\n    var _rootState$getState = rootState.getState(),\n        camera = _rootState$getState.camera,\n        size = _rootState$getState.size,\n        viewport = _rootState$getState.viewport,\n        internal = _rootState$getState.internal; // https://github.com/pmndrs/react-three-fiber/issues/92\n    // Do not mess with the camera if it belongs to the user\n\n\n    if (!(internal.lastProps.camera instanceof THREE.Camera)) {\n      if (isOrthographicCamera(camera)) {\n        camera.left = size.width / -2;\n        camera.right = size.width / 2;\n        camera.top = size.height / 2;\n        camera.bottom = size.height / -2;\n      } else {\n        camera.aspect = size.width / size.height;\n      }\n\n      camera.updateProjectionMatrix(); // https://github.com/pmndrs/react-three-fiber/issues/178\n      // Update matrix world since the renderer is a frame late\n\n      camera.updateMatrixWorld();\n    } // Update renderer\n\n\n    gl.setPixelRatio(viewport.dpr);\n    gl.setSize(size.width, size.height);\n  }, function (state) {\n    return [state.viewport.dpr, state.size];\n  }, _shallow[\"default\"]);\n  var state = rootState.getState(); // Update size\n\n  if (size) state.setSize(size.width, size.height); // Invalidate on any change\n\n  rootState.subscribe(function (state) {\n    return _invalidate(state);\n  }); // Return root state\n\n  return rootState;\n};\n\nfunction createSubs(callback, subs) {\n  var index = subs.length;\n  subs.push(callback);\n  return function () {\n    return void subs.splice(index, 1);\n  };\n}\n\nvar i;\nvar globalEffects = [];\nvar globalAfterEffects = [];\nvar globalTailEffects = [];\n\nvar addEffect = function addEffect(callback) {\n  return createSubs(callback, globalEffects);\n};\n\nexports.addEffect = addEffect;\n\nvar addAfterEffect = function addAfterEffect(callback) {\n  return createSubs(callback, globalAfterEffects);\n};\n\nexports.addAfterEffect = addAfterEffect;\n\nvar addTail = function addTail(callback) {\n  return createSubs(callback, globalTailEffects);\n};\n\nexports.addTail = addTail;\n\nfunction run(effects, timestamp) {\n  for (i = 0; i < effects.length; i++) {\n    effects[i](timestamp);\n  }\n}\n\nfunction render$1(timestamp, state) {\n  // Run local effects\n  var delta = state.clock.getDelta(); // In frameloop='never' mode, clock times are updated using the provided timestamp\n\n  if (state.frameloop === 'never' && typeof timestamp === 'number') {\n    delta = timestamp - state.clock.elapsedTime;\n    state.clock.oldTime = state.clock.elapsedTime;\n    state.clock.elapsedTime = timestamp;\n  } // Call subscribers (useFrame)\n\n\n  for (i = 0; i < state.internal.subscribers.length; i++) {\n    state.internal.subscribers[i].ref.current(state, delta);\n  } // Render content\n\n\n  if (!state.internal.priority && state.gl.render) state.gl.render(state.scene, state.camera); // Decrease frame count\n\n  state.internal.frames = Math.max(0, state.internal.frames - 1);\n  return state.frameloop === 'always' ? 1 : state.internal.frames;\n}\n\nfunction createLoop(roots) {\n  var running = false;\n  var repeat;\n\n  function loop(timestamp) {\n    running = true;\n    repeat = 0; // Run effects\n\n    run(globalEffects, timestamp); // Render all roots\n\n    roots.forEach(function (root) {\n      var state = root.store.getState(); // If the frameloop is invalidated, do not run another frame\n\n      if (state.internal.active && (state.frameloop === 'always' || state.internal.frames > 0)) repeat += render$1(timestamp, state);\n    }); // Run after-effects\n\n    run(globalAfterEffects, timestamp); // Keep on looping if anything invalidates the frameloop\n\n    if (repeat > 0) return requestAnimationFrame(loop); // Tail call effects, they are called when rendering stops\n    else run(globalTailEffects, timestamp); // Flag end of operation\n\n    running = false;\n  }\n\n  function invalidate(state) {\n    if (!state) return roots.forEach(function (root) {\n      return invalidate(root.store.getState());\n    });\n    if (state.vr || !state.internal.active || state.frameloop === 'never') return; // Increase frames, do not go higher than 60\n\n    state.internal.frames = Math.min(60, state.internal.frames + 1); // If the render-loop isn't active, start it\n\n    if (!running) {\n      running = true;\n      requestAnimationFrame(loop);\n    }\n  }\n\n  function advance(timestamp) {\n    var runGlobalEffects = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var state = arguments.length > 2 ? arguments[2] : undefined;\n    if (runGlobalEffects) run(globalEffects, timestamp);\n    if (!state) roots.forEach(function (root) {\n      return render$1(timestamp, root.store.getState());\n    });else render$1(timestamp, state);\n    if (runGlobalEffects) run(globalAfterEffects, timestamp);\n  }\n\n  return {\n    loop: loop,\n    invalidate: invalidate,\n    advance: advance\n  };\n}\n\nfunction createPointerEvents(store) {\n  var _createEvents = createEvents(store),\n      handlePointer = _createEvents.handlePointer;\n\n  var names = {\n    onClick: ['click', false],\n    onContextMenu: ['contextmenu', false],\n    onDoubleClick: ['dblclick', false],\n    onWheel: ['wheel', true],\n    onPointerDown: ['pointerdown', true],\n    onPointerUp: ['pointerup', true],\n    onPointerLeave: ['pointerleave', true],\n    onPointerMove: ['pointermove', true],\n    onPointerCancel: ['pointercancel', true],\n    onLostPointerCapture: ['lostpointercapture', true]\n  };\n  return {\n    connected: false,\n    handlers: Object.keys(names).reduce(function (acc, key) {\n      return _objectSpread({}, acc, _defineProperty({}, key, handlePointer(key)));\n    }, {}),\n    connect: function connect(target) {\n      var _events$handlers;\n\n      var _store$getState7 = store.getState(),\n          set = _store$getState7.set,\n          events = _store$getState7.events;\n\n      events.disconnect == null ? void 0 : events.disconnect();\n      set(function (state) {\n        return {\n          events: _objectSpread({}, state.events, {\n            connected: target\n          })\n        };\n      });\n      Object.entries((_events$handlers = events == null ? void 0 : events.handlers) != null ? _events$handlers : []).forEach(function (_ref13) {\n        var _ref14 = _slicedToArray(_ref13, 2),\n            name = _ref14[0],\n            event = _ref14[1];\n\n        var _names$name = _slicedToArray(names[name], 2),\n            eventName = _names$name[0],\n            passive = _names$name[1];\n\n        target.addEventListener(eventName, event, {\n          passive: passive\n        });\n      });\n    },\n    disconnect: function disconnect() {\n      var _store$getState8 = store.getState(),\n          set = _store$getState8.set,\n          events = _store$getState8.events;\n\n      if (events.connected) {\n        var _events$handlers2;\n\n        Object.entries((_events$handlers2 = events.handlers) != null ? _events$handlers2 : []).forEach(function (_ref15) {\n          var _ref16 = _slicedToArray(_ref15, 2),\n              name = _ref16[0],\n              event = _ref16[1];\n\n          if (events && events.connected instanceof HTMLElement) {\n            var _names$name2 = _slicedToArray(names[name], 1),\n                eventName = _names$name2[0];\n\n            events.connected.removeEventListener(eventName, event);\n          }\n        });\n        set(function (state) {\n          return {\n            events: _objectSpread({}, state.events, {\n              connected: false\n            })\n          };\n        });\n      }\n    }\n  };\n} // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\n\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\nfunction Block(_ref17) {\n  var set = _ref17.set;\n  useIsomorphicLayoutEffect(function () {\n    set(new Promise(function () {\n      return null;\n    }));\n    return function () {\n      return set(false);\n    };\n  }, []);\n  return null;\n}\n\nvar ErrorBoundary =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ErrorBoundary)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      error: false\n    };\n    return _this;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error) {\n      this.props.set(error);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.error ? null : this.props.children;\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nErrorBoundary.getDerivedStateFromError = function () {\n  return {\n    error: true\n  };\n};\n\nvar Canvas =\n/*#__PURE__*/\nReact.forwardRef(function Canvas(_ref18, forwardedRef) {\n  var children = _ref18.children,\n      fallback = _ref18.fallback,\n      tabIndex = _ref18.tabIndex,\n      resize = _ref18.resize,\n      id = _ref18.id,\n      style = _ref18.style,\n      className = _ref18.className,\n      events = _ref18.events,\n      props = _objectWithoutProperties(_ref18, [\"children\", \"fallback\", \"tabIndex\", \"resize\", \"id\", \"style\", \"className\", \"events\"]);\n\n  var _useMeasure = (0, _reactUseMeasure[\"default\"])(_objectSpread({\n    scroll: true,\n    debounce: {\n      scroll: 50,\n      resize: 0\n    }\n  }, resize)),\n      _useMeasure2 = _slicedToArray(_useMeasure, 2),\n      containerRef = _useMeasure2[0],\n      size = _useMeasure2[1];\n\n  var canvasRef = React.useRef(null);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      block = _React$useState2[0],\n      setBlock = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      error = _React$useState4[0],\n      setError = _React$useState4[1]; // Suspend this component if block is a promise (2nd run)\n\n\n  if (block) throw block; // Throw exception outwards if anything within canvas throws\n\n  if (error) throw error; // Execute JSX in the reconciler as a layout-effect\n\n  useIsomorphicLayoutEffect(function () {\n    if (size.width > 0 && size.height > 0) {\n      render(\n      /*#__PURE__*/\n      React.createElement(ErrorBoundary, {\n        set: setError\n      },\n      /*#__PURE__*/\n      React.createElement(React.Suspense, {\n        fallback:\n        /*#__PURE__*/\n        React.createElement(Block, {\n          set: setBlock\n        })\n      }, children)), canvasRef.current, _objectSpread({}, props, {\n        size: size,\n        events: events || createPointerEvents\n      }));\n    }\n  }, [size, children]);\n  useIsomorphicLayoutEffect(function () {\n    var container = canvasRef.current;\n    return function () {\n      return unmountComponentAtNode(container);\n    };\n  }, []);\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      ref: containerRef,\n      id: id,\n      className: className,\n      tabIndex: tabIndex,\n      style: _objectSpread({\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden'\n      }, style)\n    },\n    /*#__PURE__*/\n    React.createElement(\"canvas\", {\n      ref: (0, _reactMergeRefs[\"default\"])([canvasRef, forwardedRef]),\n      style: {\n        display: 'block'\n      }\n    }, fallback))\n  );\n});\nexports.Canvas = Canvas;\n\nfunction useThree() {\n  var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {\n    return state;\n  };\n  var equalityFn = arguments.length > 1 ? arguments[1] : undefined;\n  var useStore = React.useContext(context);\n  if (!useStore) throw \"R3F hooks can only be used within the Canvas component!\";\n  return useStore(selector, equalityFn);\n}\n\nfunction useFrame(callback) {\n  var renderPriority = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var subscribe = React.useContext(context).getState().internal.subscribe; // Update ref\n\n  var ref = React.useRef(callback);\n  React.useLayoutEffect(function () {\n    return void (ref.current = callback);\n  }, [callback]); // Subscribe/unsub\n\n  React.useLayoutEffect(function () {\n    var unsubscribe = subscribe(ref, renderPriority);\n    return function () {\n      return unsubscribe();\n    };\n  }, [renderPriority, subscribe]);\n  return null;\n}\n\nfunction buildGraph(object) {\n  var data = {\n    nodes: {},\n    materials: {}\n  };\n\n  if (object) {\n    object.traverse(function (obj) {\n      if (obj.name) {\n        data.nodes[obj.name] = obj;\n      }\n\n      if (obj.material && !data.materials[obj.material.name]) {\n        data.materials[obj.material.name] = obj.material;\n      }\n    });\n  }\n\n  return data;\n}\n\nfunction useGraph(object) {\n  return React.useMemo(function () {\n    return buildGraph(object);\n  }, [object]);\n}\n\nfunction loadingFn(extensions, onProgress) {\n  return function (Proto) {\n    // Construct new loader and run extensions\n    var loader = new Proto();\n    if (extensions) extensions(loader); // Go through the urls and load them\n\n    for (var _len2 = arguments.length, input = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      input[_key2 - 1] = arguments[_key2];\n    }\n\n    return Promise.all(input.map(function (input) {\n      return new Promise(function (res, reject) {\n        return loader.load(input, function (data) {\n          if (data.scene) Object.assign(data, buildGraph(data.scene));\n          res(data);\n        }, onProgress, function (error) {\n          return reject(\"Could not load \".concat(input, \": \").concat(error.message));\n        });\n      });\n    }));\n  };\n}\n\nfunction useLoader(Proto, input, extensions, onProgress) {\n  // Use suspense to load async assets\n  var keys = Array.isArray(input) ? input : [input];\n\n  var results = _useAsset.useAsset.apply(void 0, [loadingFn(extensions, onProgress), Proto].concat(_toConsumableArray(keys))); // Return the object/s\n\n\n  return Array.isArray(input) ? results : results[0];\n}\n\nuseLoader.preload = function (Proto, input, extensions) {\n  var keys = Array.isArray(input) ? input : [input];\n  return _useAsset.useAsset.preload.apply(_useAsset.useAsset, [loadingFn(extensions), Proto].concat(_toConsumableArray(keys)));\n};\n\nuseLoader.clear = function (Proto, input) {\n  var keys = Array.isArray(input) ? input : [input];\n  return _useAsset.useAsset.clear.apply(_useAsset.useAsset, [Proto].concat(_toConsumableArray(keys)));\n};\n\nvar roots = new Map();\nexports._roots = roots;\nvar modes = ['legacy', 'blocking', 'concurrent'];\n\nvar _createLoop = createLoop(roots),\n    invalidate = _createLoop.invalidate,\n    advance = _createLoop.advance;\n\nexports.advance = advance;\nexports.invalidate = invalidate;\n\nvar _createRenderer = createRenderer(),\n    reconciler = _createRenderer.reconciler,\n    applyProps = _createRenderer.applyProps;\n\nexports.applyProps = applyProps;\nexports.reconciler = reconciler;\n\nvar createRendererInstance = function createRendererInstance(gl, canvas) {\n  return isRenderer(gl) ? gl : new THREE.WebGLRenderer(_objectSpread({\n    powerPreference: 'high-performance',\n    canvas: canvas,\n    antialias: true,\n    alpha: true\n  }, gl));\n};\n\nfunction render(element, canvas) {\n  var _ref19 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      gl = _ref19.gl,\n      size = _ref19.size,\n      _ref19$mode = _ref19.mode,\n      mode = _ref19$mode === void 0 ? modes[1] : _ref19$mode,\n      events = _ref19.events,\n      onCreated = _ref19.onCreated,\n      props = _objectWithoutProperties(_ref19, [\"gl\", \"size\", \"mode\", \"events\", \"onCreated\"]);\n\n  var _store; // Allow size to take on container bounds initially\n\n\n  if (!size) {\n    var _canvas$parentElement, _canvas$parentElement2, _canvas$parentElement3, _canvas$parentElement4;\n\n    size = {\n      width: (_canvas$parentElement = (_canvas$parentElement2 = canvas.parentElement) == null ? void 0 : _canvas$parentElement2.clientWidth) != null ? _canvas$parentElement : 0,\n      height: (_canvas$parentElement3 = (_canvas$parentElement4 = canvas.parentElement) == null ? void 0 : _canvas$parentElement4.clientHeight) != null ? _canvas$parentElement3 : 0\n    };\n  }\n\n  var root = roots.get(canvas);\n  var fiber = root == null ? void 0 : root.fiber;\n  var store = root == null ? void 0 : root.store;\n  var state = (_store = store) == null ? void 0 : _store.getState();\n\n  if (fiber && state) {\n    var lastProps = state.internal.lastProps; // When a root was found, see if any fundamental props must be changed or exchanged\n    // Check pixelratio\n\n    if (props.dpr !== undefined && !is.equ(lastProps.dpr, props.dpr)) state.setDpr(props.dpr); // Check size\n\n    if (!is.equ(lastProps.size, size)) state.setSize(size.width, size.height); // For some props we want to reset the entire root\n    // Changes to the color-space\n\n    var linearChanged = props.linear !== lastProps.linear;\n\n    if (linearChanged) {\n      unmountComponentAtNode(canvas);\n      fiber = undefined;\n    }\n  }\n\n  if (!fiber) {\n    // If no root has been found, make one\n    // Create gl\n    var glRenderer = createRendererInstance(gl, canvas); // Enable VR if requested\n\n    if (props.vr) {\n      glRenderer.xr.enabled = true;\n      glRenderer.setAnimationLoop(function (timestamp) {\n        return advance(timestamp, true);\n      });\n    } // Create store\n\n\n    store = createStore(applyProps, invalidate, advance, _objectSpread({\n      gl: glRenderer,\n      size: size\n    }, props));\n\n    var _state = store.getState(); // Create renderer\n\n\n    fiber = reconciler.createContainer(store, modes.indexOf(mode), false, null); // Map it\n\n    roots.set(canvas, {\n      fiber: fiber,\n      store: store\n    }); // Store events internally\n\n    if (events) _state.set({\n      events: events(store)\n    });\n  }\n\n  if (store && fiber) {\n    reconciler.updateContainer(\n    /*#__PURE__*/\n    React.createElement(Provider, {\n      store: store,\n      element: element,\n      onCreated: onCreated,\n      target: canvas\n    }), fiber, null, function () {\n      return undefined;\n    });\n    return store;\n  } else {\n    throw 'Error creating root!';\n  }\n}\n\nfunction Provider(_ref20) {\n  var store = _ref20.store,\n      element = _ref20.element,\n      onCreated = _ref20.onCreated,\n      target = _ref20.target;\n  React.useEffect(function () {\n    var state = store.getState(); // Flag the canvas active, rendering will now begin\n\n    state.set(function (state) {\n      return {\n        internal: _objectSpread({}, state.internal, {\n          active: true\n        })\n      };\n    }); // Connect events\n\n    state.events.connect == null ? void 0 : state.events.connect(target); // Notifiy that init is completed, the scene graph exists, but nothing has yet rendered\n\n    if (onCreated) onCreated(state);\n  }, []);\n  return (\n    /*#__PURE__*/\n    React.createElement(context.Provider, {\n      value: store\n    }, element)\n  );\n}\n\nfunction unmountComponentAtNode(canvas, callback) {\n  var root = roots.get(canvas);\n  var fiber = root == null ? void 0 : root.fiber;\n\n  if (fiber) {\n    var state = root == null ? void 0 : root.store.getState();\n    if (state) state.internal.active = false;\n    reconciler.updateContainer(null, fiber, null, function () {\n      if (state) {\n        setTimeout(function () {\n          var _state$gl, _state$gl$renderLists, _state$gl2;\n\n          state.events.disconnect == null ? void 0 : state.events.disconnect();\n          (_state$gl = state.gl) == null ? void 0 : (_state$gl$renderLists = _state$gl.renderLists) == null ? void 0 : _state$gl$renderLists.dispose == null ? void 0 : _state$gl$renderLists.dispose();\n          (_state$gl2 = state.gl) == null ? void 0 : _state$gl2.forceContextLoss == null ? void 0 : _state$gl2.forceContextLoss();\n          dispose(state);\n          roots[\"delete\"](canvas);\n          if (callback) callback(canvas);\n        }, 500);\n      }\n    });\n  }\n}\n\nfunction dispose(obj) {\n  if (obj.dispose && obj.type !== 'Scene') obj.dispose();\n\n  for (var p in obj) {\n    var _dispose, _ref;\n\n    (_dispose = (_ref = p).dispose) == null ? void 0 : _dispose.call(_ref);\n    delete obj[p];\n  }\n}\n\nvar act = reconciler.act;\nexports.act = act;\nvar hasSymbol = is.fun(Symbol) && Symbol[\"for\"];\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol[\"for\"]('react.portal') : 0xeaca;\n\nfunction createPortal(children, container, implementation) {\n  var key = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: key == null ? null : '' + key,\n    children: children,\n    containerInfo: prepare(container),\n    implementation: implementation\n  };\n}\n\nreconciler.injectIntoDevTools({\n  bundleType: process.env.NODE_ENV === 'production' ? 0 : 1,\n  rendererPackageName: '@react-three/fiber',\n  version: '17.0.2'\n});\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$module$node_modules$zustand$index","~$module$node_modules$react$index","~$module$node_modules$react_reconciler$index","~$shadow.js","~$module$node_modules$scheduler$index","~$module$node_modules$zustand$shallow","~$module$node_modules$react_use_measure$dist$web","~$module$node_modules$use_asset$dist$index","~$module$node_modules$react_merge_refs$dist$react_merge_refs_esm"]],"~:properties",["^5",["addEffect","onDoubleClick","commitUpdate","z","und","spaceX","handlePointer","canvas","warnsIfNotActing","loop","min","width","insertInContainerBefore","mouse","removeChildFromContainer","hideTextInstance","debounce","right","dpr","passive","internal","priority","top","interaction","prepareForCommit","scheduleTimeout","Canvas","cancelTimeout","currentTarget","act","noTimeout","obj","viewport","advance","params","prototype","height","onWheel","createInstance","tabIndex","args","appendChild","handlers","supportsMutation","toneMapping","disconnect","className","str","scroll","ReactThreeFiber","releasePointerCapture","factor","delta","finalizeInitialChildren","key","parent","children","clearContainer","__esModule","resetAfterCommit","flat","max","frames","dispose","useLoader","error","setDpr","encoding","enabled","id","hovered","camera","root","objects","stateNode","fun","_roots","materials","onPointerCancel","arr","initialHits","containerInfo","ray","useGraph","memoizedProps","onPointerUp","rendererPackageName","element","useFrame","position","onContextMenu","insertBefore","elapsedTime","prepareUpdate","configurable","style","commitMount","attach","regress","value","antialias","visible","createPortal","connect","implementation","preload","enumerable","clearTimeout","linear","nativeEvent","context","__r3f","onCreated","preparePortalMount","stopPropagation","writable","setPointerCapture","hasPointerCapture","onLostPointerCapture","distance","current","fiber","getDerivedStateFromError","shouldSetTextContent","invalidate","instance","applyProps","$$typeof","stopped","intersections","vr","clock","events","onClick","nodes","connected","addAfterEffect","fallback","equ","type","overflow","render","powerPreference","gl","capturedMap","onPointerMove","state","ref","getPublicInstance","version","__proto__","setSize","controls","raycaster","target","appendChildToContainer","addTail","sourceEvent","extend","bundleType","alpha","frameloop","unmountComponentAtNode","display","subscribers","initialDpr","bottom","now","set","num","onPointerMissed","onPointerDown","appendInitialChild","setTimeout","resize","size","onPointerLeave","clear","active","unhideInstance","performance","createTextInstance","useThree","outputEncoding","removeChild","getRootHostContext","unprojectedPoint","aspect","subscribe","get","store","eventObject","getChildHostContext","mask","hideInstance","left","reconciler","lastProps","oldTime","container","initialClick","constructor","scene","getCurrentViewport","isPrimaryRenderer","shouldDeprioritizeSubtree","spaceY"]],"~:compiled-at",1630917515036,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$react_three$fiber$dist$react_three_fiber_esm.js\",\n\"lineCount\":97,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$react_three$fiber$dist$react_three_fiber_esm\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.createPortal = createPortal;\\nexports.dispose = dispose;\\nexports.events = createPointerEvents;\\nexports.render = render;\\nexports.unmountComponentAtNode = unmountComponentAtNode;\\nexports.useFrame = useFrame;\\nexports.useGraph = useGraph;\\nexports.useLoader = useLoader;\\nexports.useThree = useThree;\\nexports.reconciler = exports.invalidate = exports.extend = exports.context = exports.applyProps = exports.advance = exports.addTail = exports.addEffect = exports.addAfterEffect = exports.act = exports._roots = exports.ReactThreeFiber = exports.Canvas = void 0;\\n\\nvar THREE = _interopRequireWildcard(require(\\\"three\\\"));\\n\\nvar React = _interopRequireWildcard(require(\\\"react\\\"));\\n\\nvar _zustand = _interopRequireDefault(require(\\\"zustand\\\"));\\n\\nvar _shallow = _interopRequireDefault(require(\\\"zustand/shallow\\\"));\\n\\nvar _reactReconciler = _interopRequireDefault(require(\\\"react-reconciler\\\"));\\n\\nvar _scheduler = require(\\\"scheduler\\\");\\n\\nvar _useAsset = require(\\\"use-asset\\\");\\n\\nvar _reactMergeRefs = _interopRequireDefault(require(\\\"react-merge-refs\\\"));\\n\\nvar _reactUseMeasure = _interopRequireDefault(require(\\\"react-use-measure\\\"));\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \\\"default\\\": obj }; }\\n\\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \\\"function\\\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\\n\\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \\\"object\\\" && typeof obj !== \\\"function\\\") { return { \\\"default\\\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\\\"default\\\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction isNativeReflectConstruct() { if (typeof Reflect === \\\"undefined\\\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \\\"function\\\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\\n\\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\\n\\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\\n\\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest(); }\\n\\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\\n\\nfunction _nonIterableRest() { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); }\\n\\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \\\"[object Arguments]\\\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"] != null) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; }\\n\\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\\n\\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\\n\\nfunction _nonIterableSpread() { throw new TypeError(\\\"Invalid attempt to spread non-iterable instance\\\"); }\\n\\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \\\"[object Arguments]\\\") return Array.from(iter); }\\n\\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\\n\\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\\n\\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\\n\\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nvar threeTypes =\\n/*#__PURE__*/\\nObject.freeze({\\n  __proto__: null\\n});\\nexports.ReactThreeFiber = threeTypes;\\nvar is = {\\n  obj: function obj(a) {\\n    return a === Object(a) && !is.arr(a) && typeof a !== 'function';\\n  },\\n  fun: function fun(a) {\\n    return typeof a === 'function';\\n  },\\n  str: function str(a) {\\n    return typeof a === 'string';\\n  },\\n  num: function num(a) {\\n    return typeof a === 'number';\\n  },\\n  und: function und(a) {\\n    return a === void 0;\\n  },\\n  arr: function arr(a) {\\n    return Array.isArray(a);\\n  },\\n  equ: function equ(a, b) {\\n    // Wrong type or one of the two undefined, doesn't match\\n    if (_typeof(a) !== _typeof(b) || !!a !== !!b) return false; // Atomic, just compare a against b\\n\\n    if (is.str(a) || is.num(a) || is.obj(a)) return a === b; // Array, shallow compare first to see if it's a match\\n\\n    if (is.arr(a) && a == b) return true; // Last resort, go through keys\\n\\n    var i;\\n\\n    for (i in a) {\\n      if (!(i in b)) return false;\\n    }\\n\\n    for (i in b) {\\n      if (a[i] !== b[i]) return false;\\n    }\\n\\n    return is.und(i) ? a === b : true;\\n  }\\n};\\n\\nfunction makeId(event) {\\n  return (event.eventObject || event.object).uuid + '/' + event.index;\\n}\\n\\nfunction removeInteractivity(store, object) {\\n  var _store$getState = store.getState(),\\n      internal = _store$getState.internal; // Removes every trace of an object from the data store\\n\\n\\n  internal.interaction = internal.interaction.filter(function (o) {\\n    return o !== object;\\n  });\\n  internal.initialHits = internal.initialHits.filter(function (o) {\\n    return o !== object;\\n  });\\n  internal.hovered.forEach(function (value, key) {\\n    if (value.eventObject === object || value.object === object) {\\n      internal.hovered[\\\"delete\\\"](key);\\n    }\\n  });\\n}\\n\\nfunction createEvents(store) {\\n  var temp = new THREE.Vector3();\\n  /** Sets up defaultRaycaster */\\n\\n  function prepareRay(event) {\\n    var _raycaster$computeOff;\\n\\n    var state = store.getState();\\n    var raycaster = state.raycaster,\\n        mouse = state.mouse,\\n        camera = state.camera,\\n        size = state.size; // https://github.com/pmndrs/react-three-fiber/pull/782\\n    // Events trigger outside of canvas when moved\\n\\n    var _ref2 = (_raycaster$computeOff = raycaster.computeOffsets == null ? void 0 : raycaster.computeOffsets(event, state)) != null ? _raycaster$computeOff : event,\\n        offsetX = _ref2.offsetX,\\n        offsetY = _ref2.offsetY;\\n\\n    var width = size.width,\\n        height = size.height;\\n    mouse.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\\n    raycaster.setFromCamera(mouse, camera);\\n  }\\n  /** Calculates delta */\\n\\n\\n  function calculateDistance(event) {\\n    var _store$getState2 = store.getState(),\\n        internal = _store$getState2.internal;\\n\\n    var dx = event.offsetX - internal.initialClick[0];\\n    var dy = event.offsetY - internal.initialClick[1];\\n    return Math.round(Math.sqrt(dx * dx + dy * dy));\\n  }\\n  /** Returns true if an instance has a valid pointer-event registered, this excludes scroll, clicks etc */\\n\\n\\n  function filterPointerEvents(objects) {\\n    return objects.filter(function (obj) {\\n      return ['Move', 'Over', 'Enter', 'Out', 'Leave'].some(function (name) {\\n        var _r3f$handlers;\\n\\n        return (_r3f$handlers = obj.__r3f.handlers) == null ? void 0 : _r3f$handlers['onPointer' + name];\\n      });\\n    });\\n  }\\n\\n  function intersect(filter) {\\n    var state = store.getState();\\n    var raycaster = state.raycaster,\\n        internal = state.internal; // Skip event handling when noEvents is set\\n\\n    if (!raycaster.enabled) return [];\\n    var seen = new Set();\\n    var intersections = []; // Allow callers to eliminate event objects\\n\\n    var eventsObjects = filter ? filter(internal.interaction) : internal.interaction; // Intersect known handler objects and filter against duplicates\\n\\n    var intersects = raycaster.intersectObjects(eventsObjects, true).filter(function (item) {\\n      var id = makeId(item);\\n      if (seen.has(id)) return false;\\n      seen.add(id);\\n      return true;\\n    }); // https://github.com/mrdoob/three.js/issues/16031\\n    // Allow custom userland intersect sort order\\n\\n    if (raycaster.filter) intersects = raycaster.filter(intersects, state);\\n    var _iteratorNormalCompletion = true;\\n    var _didIteratorError = false;\\n    var _iteratorError = undefined;\\n\\n    try {\\n      for (var _iterator = intersects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\\n        var _intersect = _step.value;\\n        var eventObject = _intersect.object; // Bubble event up\\n\\n        while (eventObject) {\\n          var _r3f;\\n\\n          var handlers = (_r3f = eventObject.__r3f) == null ? void 0 : _r3f.handlers;\\n          if (handlers) intersections.push(_objectSpread({}, _intersect, {\\n            eventObject: eventObject\\n          }));\\n          eventObject = eventObject.parent;\\n        }\\n      }\\n    } catch (err) {\\n      _didIteratorError = true;\\n      _iteratorError = err;\\n    } finally {\\n      try {\\n        if (!_iteratorNormalCompletion && _iterator[\\\"return\\\"] != null) {\\n          _iterator[\\\"return\\\"]();\\n        }\\n      } finally {\\n        if (_didIteratorError) {\\n          throw _iteratorError;\\n        }\\n      }\\n    }\\n\\n    return intersections;\\n  }\\n  /**  Creates filtered intersects and returns an array of positive hits */\\n\\n\\n  function patchIntersects(intersections, event) {\\n    var _store$getState3 = store.getState(),\\n        internal = _store$getState3.internal; // If the interaction is captured, make all capturing targets  part of the\\n    // intersect.\\n\\n\\n    if ('pointerId' in event && internal.capturedMap.has(event.pointerId)) {\\n      intersections.push.apply(intersections, _toConsumableArray(internal.capturedMap.get(event.pointerId).values()));\\n    }\\n\\n    return intersections;\\n  }\\n  /**  Handles intersections by forwarding them to handlers */\\n\\n\\n  function handleIntersects(intersections, event, callback) {\\n    var _store$getState4 = store.getState(),\\n        raycaster = _store$getState4.raycaster,\\n        mouse = _store$getState4.mouse,\\n        camera = _store$getState4.camera,\\n        internal = _store$getState4.internal; // If anything has been found, forward it to the event listeners\\n\\n\\n    if (intersections.length) {\\n      (function () {\\n        var unprojectedPoint = temp.set(mouse.x, mouse.y, 0).unproject(camera);\\n        var delta = event.type === 'click' ? calculateDistance(event) : 0;\\n\\n        var releasePointerCapture = function releasePointerCapture(id) {\\n          return event.target.releasePointerCapture(id);\\n        };\\n\\n        var localState = {\\n          stopped: false\\n        };\\n        var _iteratorNormalCompletion2 = true;\\n        var _didIteratorError2 = false;\\n        var _iteratorError2 = undefined;\\n\\n        try {\\n          var _loop = function _loop() {\\n            var hit = _step2.value;\\n\\n            var hasPointerCapture = function hasPointerCapture(id) {\\n              var _internal$capturedMap, _internal$capturedMap2;\\n\\n              return (_internal$capturedMap = (_internal$capturedMap2 = internal.capturedMap.get(id)) == null ? void 0 : _internal$capturedMap2.has(hit.eventObject)) != null ? _internal$capturedMap : false;\\n            };\\n\\n            var setPointerCapture = function setPointerCapture(id) {\\n              if (internal.capturedMap.has(id)) {\\n                // if the pointerId was previously captured, we add the hit to the\\n                // event capturedMap.\\n                internal.capturedMap.get(id).set(hit.eventObject, hit);\\n              } else {\\n                // if the pointerId was not previously captured, we create a map\\n                // containing the hitObject, and the hit. hitObject is used for\\n                // faster access.\\n                internal.capturedMap.set(id, new Map([[hit.eventObject, hit]]));\\n              } // Call the original event now\\n\\n\\n              event.target.setPointerCapture(id);\\n            }; // Add native event props\\n\\n\\n            var extractEventProps = {};\\n\\n            for (var prop in Object.getPrototypeOf(event)) {\\n              var property = event[prop]; // Only copy over atomics, leave functions alone as these should be\\n              // called as event.nativeEvent.fn()\\n\\n              if (typeof property !== 'function') extractEventProps[prop] = property;\\n            }\\n\\n            var raycastEvent = _objectSpread({}, hit, {}, extractEventProps, {\\n              spaceX: mouse.x,\\n              spaceY: mouse.y,\\n              intersections: intersections,\\n              stopped: localState.stopped,\\n              delta: delta,\\n              unprojectedPoint: unprojectedPoint,\\n              ray: raycaster.ray,\\n              camera: camera,\\n              // Hijack stopPropagation, which just sets a flag\\n              stopPropagation: function stopPropagation() {\\n                // https://github.com/pmndrs/react-three-fiber/issues/596\\n                // Events are not allowed to stop propagation if the pointer has been captured\\n                var capturesForPointer = 'pointerId' in event && internal.capturedMap.get(event.pointerId); // We only authorize stopPropagation...\\n\\n                if ( // ...if this pointer hasn't been captured\\n                !capturesForPointer || // ... or if the hit object is capturing the pointer\\n                capturesForPointer.has(hit.eventObject)) {\\n                  raycastEvent.stopped = localState.stopped = true; // Propagation is stopped, remove all other hover records\\n                  // An event handler is only allowed to flush other handlers if it is hovered itself\\n\\n                  if (internal.hovered.size && Array.from(internal.hovered.values()).find(function (i) {\\n                    return i.eventObject === hit.eventObject;\\n                  })) {\\n                    // Objects cannot flush out higher up objects that have already caught the event\\n                    var higher = intersections.slice(0, intersections.indexOf(hit));\\n                    cancelPointer([].concat(_toConsumableArray(higher), [hit]));\\n                  }\\n                }\\n              },\\n              // there should be a distinction between target and currentTarget\\n              target: {\\n                hasPointerCapture: hasPointerCapture,\\n                setPointerCapture: setPointerCapture,\\n                releasePointerCapture: releasePointerCapture\\n              },\\n              currentTarget: {\\n                hasPointerCapture: hasPointerCapture,\\n                setPointerCapture: setPointerCapture,\\n                releasePointerCapture: releasePointerCapture\\n              },\\n              sourceEvent: event,\\n              // deprecated\\n              nativeEvent: event\\n            }); // Call subscribers\\n\\n\\n            callback(raycastEvent); // Event bubbling may be interrupted by stopPropagation\\n\\n            if (localState.stopped === true) return \\\"break\\\";\\n          };\\n\\n          for (var _iterator2 = intersections[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\\n            var _ret = _loop();\\n\\n            if (_ret === \\\"break\\\") break;\\n          }\\n        } catch (err) {\\n          _didIteratorError2 = true;\\n          _iteratorError2 = err;\\n        } finally {\\n          try {\\n            if (!_iteratorNormalCompletion2 && _iterator2[\\\"return\\\"] != null) {\\n              _iterator2[\\\"return\\\"]();\\n            }\\n          } finally {\\n            if (_didIteratorError2) {\\n              throw _iteratorError2;\\n            }\\n          }\\n        }\\n      })();\\n    }\\n\\n    return intersections;\\n  }\\n\\n  function cancelPointer(hits) {\\n    var _store$getState5 = store.getState(),\\n        internal = _store$getState5.internal;\\n\\n    Array.from(internal.hovered.values()).forEach(function (hoveredObj) {\\n      // When no objects were hit or the the hovered object wasn't found underneath the cursor\\n      // we call onPointerOut and delete the object from the hovered-elements map\\n      if (!hits.length || !hits.find(function (hit) {\\n        return hit.object === hoveredObj.object && hit.index === hoveredObj.index;\\n      })) {\\n        var eventObject = hoveredObj.eventObject;\\n        var handlers = eventObject.__r3f.handlers;\\n        internal.hovered[\\\"delete\\\"](makeId(hoveredObj));\\n\\n        if (handlers) {\\n          // Clear out intersects, they are outdated by now\\n          var data = _objectSpread({}, hoveredObj, {\\n            intersections: hits || []\\n          });\\n\\n          handlers.onPointerOut == null ? void 0 : handlers.onPointerOut(data);\\n          handlers.onPointerLeave == null ? void 0 : handlers.onPointerLeave(data);\\n        }\\n      }\\n    });\\n  }\\n\\n  var handlePointer = function handlePointer(name) {\\n    // Deal with cancelation\\n    switch (name) {\\n      case 'onPointerLeave':\\n      case 'onPointerCancel':\\n        return function () {\\n          return cancelPointer([]);\\n        };\\n\\n      case 'onLostPointerCapture':\\n        return function (event) {\\n          if ('pointerId' in event) {\\n            // this will be a problem if one target releases the pointerId\\n            // and another one is still keeping it, as the line below\\n            // indifferently deletes all capturing references.\\n            store.getState().internal.capturedMap[\\\"delete\\\"](event.pointerId);\\n          }\\n\\n          cancelPointer([]);\\n        };\\n    } // Any other pointer goes here ...\\n\\n\\n    return function (event) {\\n      var _store$getState6 = store.getState(),\\n          onPointerMissed = _store$getState6.onPointerMissed,\\n          internal = _store$getState6.internal;\\n\\n      prepareRay(event); // Get fresh intersects\\n\\n      var isPointerMove = name === 'onPointerMove';\\n      var filter = isPointerMove ? filterPointerEvents : undefined;\\n      var hits = patchIntersects(intersect(filter), event); // Take care of unhover\\n\\n      if (isPointerMove) cancelPointer(hits);\\n      handleIntersects(hits, event, function (data) {\\n        var eventObject = data.eventObject;\\n        var handlers = eventObject.__r3f.handlers; // Check presence of handlers\\n\\n        if (!handlers) return;\\n\\n        if (isPointerMove) {\\n          // Move event ...\\n          if (handlers.onPointerOver || handlers.onPointerEnter || handlers.onPointerOut || handlers.onPointerLeave) {\\n            // When enter or out is present take care of hover-state\\n            var id = makeId(data);\\n            var hoveredItem = internal.hovered.get(id);\\n\\n            if (!hoveredItem) {\\n              // If the object wasn't previously hovered, book it and call its handler\\n              internal.hovered.set(id, data);\\n              handlers.onPointerOver == null ? void 0 : handlers.onPointerOver(data);\\n              handlers.onPointerEnter == null ? void 0 : handlers.onPointerEnter(data);\\n            } else if (hoveredItem.stopped) {\\n              // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\\n              data.stopPropagation();\\n            }\\n          } // Call mouse move\\n\\n\\n          handlers.onPointerMove == null ? void 0 : handlers.onPointerMove(data);\\n        } else {\\n          // All other events ...\\n          var handler = handlers == null ? void 0 : handlers[name];\\n\\n          if (handler) {\\n            // Forward all events back to their respective handlers with the exception of click events,\\n            // which must use the initial target\\n            if (name !== 'onClick' && name !== 'onContextMenu' && name !== 'onDoubleClick' || internal.initialHits.includes(eventObject)) {\\n              handler(data);\\n              pointerMissed(event, internal.interaction.filter(function (object) {\\n                return object !== eventObject;\\n              }));\\n            }\\n          }\\n        }\\n      }); // Save initial coordinates on pointer-down\\n\\n      if (name === 'onPointerDown') {\\n        internal.initialClick = [event.offsetX, event.offsetY];\\n        internal.initialHits = hits.map(function (hit) {\\n          return hit.eventObject;\\n        });\\n      } // If a click yields no results, pass it back to the user as a miss\\n\\n\\n      if ((name === 'onClick' || name === 'onContextMenu' || name === 'onDoubleClick') && !hits.length) {\\n        if (calculateDistance(event) <= 2) {\\n          pointerMissed(event, internal.interaction);\\n          if (onPointerMissed) onPointerMissed(event);\\n        }\\n      }\\n    };\\n  };\\n\\n  function pointerMissed(event, objects) {\\n    objects.forEach(function (object) {\\n      var _r3f$handlers2;\\n\\n      return (_r3f$handlers2 = object.__r3f.handlers) == null ? void 0 : _r3f$handlers2.onPointerMissed == null ? void 0 : _r3f$handlers2.onPointerMissed(event);\\n    });\\n  }\\n\\n  return {\\n    handlePointer: handlePointer\\n  };\\n} // Type guard to tell a store from a portal\\n\\n\\nvar isStore = function isStore(def) {\\n  return def && !!def.getState;\\n};\\n\\nvar getContainer = function getContainer(container, child) {\\n  var _container$__r3f$root, _container$__r3f;\\n\\n  return {\\n    // If the container is not a root-store then it must be a THREE.Object3D into which part of the\\n    // scene is portalled into. Now there can be two variants of this, either that object is part of\\n    // the regular jsx tree, in which case it already has __r3f with a valid root attached, or it lies\\n    // outside react, in which case we must take the root of the child that is about to be attached to it.\\n    root: isStore(container) ? container : (_container$__r3f$root = (_container$__r3f = container.__r3f) == null ? void 0 : _container$__r3f.root) != null ? _container$__r3f$root : child.__r3f.root,\\n    // The container is the eventual target into which objects are mounted, it has to be a THREE.Object3D\\n    container: isStore(container) ? container.getState().scene : container\\n  };\\n};\\n\\nvar DEFAULT = '__default';\\nvar EMPTY = {};\\nvar FILTER = ['children', 'key', 'ref'];\\nvar catalogue = {};\\n\\nvar extend = function extend(objects) {\\n  return void (catalogue = _objectSpread({}, catalogue, {}, objects));\\n}; // Each object in the scene carries a small LocalState descriptor\\n\\n\\nexports.extend = extend;\\n\\nfunction prepare(object, state) {\\n  var instance = object;\\n\\n  if (state != null && state.instance || !instance.__r3f) {\\n    instance.__r3f = _objectSpread({\\n      root: null,\\n      memoizedProps: {},\\n      objects: []\\n    }, state);\\n  }\\n\\n  return object;\\n}\\n\\nfunction createRenderer(roots) {\\n  function applyProps(instance, newProps) {\\n    var oldProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\\n    var accumulative = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\\n\\n    var _instance$__r3f, _root$getState, _instance$__r3f2; // Filter equals, events and reserved props\\n\\n\\n    var localState = (_instance$__r3f = instance == null ? void 0 : instance.__r3f) != null ? _instance$__r3f : {};\\n    var root = localState.root;\\n    var rootState = (_root$getState = root == null ? void 0 : root.getState == null ? void 0 : root.getState()) != null ? _root$getState : {};\\n    var sameProps = [];\\n    var handlers = [];\\n    var newMemoizedProps = {};\\n    var i = 0;\\n    Object.entries(newProps).forEach(function (_ref3) {\\n      var _ref4 = _slicedToArray(_ref3, 2),\\n          key = _ref4[0],\\n          entry = _ref4[1];\\n\\n      // we don't want children, ref or key in the memoized props\\n      if (FILTER.indexOf(key) === -1) {\\n        newMemoizedProps[key] = entry;\\n      }\\n    });\\n\\n    if (localState.memoizedProps && localState.memoizedProps.args) {\\n      newMemoizedProps.args = localState.memoizedProps.args;\\n    }\\n\\n    if (localState.memoizedProps && localState.memoizedProps.attach) {\\n      newMemoizedProps.attach = localState.memoizedProps.attach;\\n    }\\n\\n    if (instance.__r3f) {\\n      instance.__r3f.memoizedProps = newMemoizedProps;\\n    }\\n\\n    var objectKeys = Object.keys(newProps);\\n\\n    for (i = 0; i < objectKeys.length; i++) {\\n      if (is.equ(newProps[objectKeys[i]], oldProps[objectKeys[i]])) {\\n        sameProps.push(objectKeys[i]);\\n      } // Event-handlers ...\\n      //   are functions, that\\n      //   start with \\\"on\\\", and\\n      //   contain the name \\\"Pointer\\\", \\\"Click\\\", \\\"DoubleClick\\\", \\\"ContextMenu\\\", or \\\"Wheel\\\"\\n\\n\\n      if (is.fun(newProps[objectKeys[i]]) && /^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(objectKeys[i])) {\\n        handlers.push(objectKeys[i]);\\n      }\\n    } // Catch props that existed, but now exist no more ...\\n\\n\\n    var leftOvers = [];\\n\\n    if (accumulative) {\\n      objectKeys = Object.keys(oldProps);\\n\\n      for (i = 0; i < objectKeys.length; i++) {\\n        if (!newProps.hasOwnProperty(objectKeys[i])) {\\n          leftOvers.push(objectKeys[i]);\\n        }\\n      }\\n    }\\n\\n    var toFilter = [].concat(sameProps, FILTER); // Instances use \\\"object\\\" as a reserved identifier\\n\\n    if ((_instance$__r3f2 = instance.__r3f) != null && _instance$__r3f2.instance) toFilter.push('object');\\n\\n    var filteredProps = _objectSpread({}, newProps); // Removes sameProps and reserved props from newProps\\n\\n\\n    objectKeys = Object.keys(filteredProps);\\n\\n    for (i = 0; i < objectKeys.length; i++) {\\n      if (toFilter.indexOf(objectKeys[i]) > -1) {\\n        delete filteredProps[objectKeys[i]];\\n      }\\n    } // Collect all new props\\n\\n\\n    var filteredPropsEntries = Object.entries(filteredProps); // Prepend left-overs so they can be reset or removed\\n    // Left-overs must come first!\\n\\n    for (i = 0; i < leftOvers.length; i++) {\\n      if (leftOvers[i] !== 'children') {\\n        filteredPropsEntries.unshift([leftOvers[i], DEFAULT + 'remove']);\\n      }\\n    }\\n\\n    if (filteredPropsEntries.length > 0) {\\n      filteredPropsEntries.forEach(function (_ref5) {\\n        var _ref6 = _slicedToArray(_ref5, 2),\\n            key = _ref6[0],\\n            value = _ref6[1];\\n\\n        if (!handlers.includes(key)) {\\n          var currentInstance = instance;\\n          var targetProp = currentInstance[key];\\n\\n          if (key.includes('-')) {\\n            var entries = key.split('-');\\n            targetProp = entries.reduce(function (acc, key) {\\n              return acc[key];\\n            }, instance); // If the target is atomic, it forces us to switch the root\\n\\n            if (!(targetProp && targetProp.set)) {\\n              var _entries$reverse = entries.reverse(),\\n                  _entries$reverse2 = _toArray(_entries$reverse),\\n                  name = _entries$reverse2[0],\\n                  reverseEntries = _entries$reverse2.slice(1);\\n\\n              currentInstance = reverseEntries.reverse().reduce(function (acc, key) {\\n                return acc[key];\\n              }, instance);\\n              key = name;\\n            }\\n          } // https://github.com/mrdoob/three.js/issues/21209\\n          // HMR/fast-refresh relies on the ability to cancel out props, but threejs\\n          // has no means to do this. Hence we curate a small collection of value-classes\\n          // with their respective constructor/set arguments\\n          // For removed props, try to set default values, if possible\\n\\n\\n          if (value === DEFAULT + 'remove') {\\n            if (targetProp && targetProp.constructor) {\\n              // use the prop constructor to find the default it should be\\n              value = new targetProp.constructor(newMemoizedProps.args);\\n            } else if (currentInstance.constructor) {\\n              // create a blank slate of the instance and copy the particular parameter.\\n              // @ts-ignore\\n              var defaultClassCall = new currentInstance.constructor(currentInstance.__r3f.memoizedProps.args);\\n              value = defaultClassCall[targetProp]; // destory the instance\\n\\n              if (defaultClassCall.dispose) {\\n                defaultClassCall.dispose();\\n              }\\n            } else {\\n              // instance does not have constructor, just set it to 0\\n              value = 0;\\n            }\\n          } // Special treatment for objects with support for set/copy, and layers\\n\\n\\n          if (targetProp && targetProp.set && (targetProp.copy || targetProp instanceof THREE.Layers)) {\\n            // If value is an array\\n            if (Array.isArray(value)) {\\n              if (targetProp.fromArray) {\\n                targetProp.fromArray(value);\\n              } else {\\n                var _targetProp;\\n\\n                (_targetProp = targetProp).set.apply(_targetProp, _toConsumableArray(value));\\n              }\\n            } // Test again target.copy(class) next ...\\n            else if (targetProp.copy && value && value.constructor && targetProp.constructor.name === value.constructor.name) {\\n                targetProp.copy(value);\\n              } // If nothing else fits, just set the single value, ignore undefined\\n              // https://github.com/react-spring/react-three-fiber/issues/274\\n              else if (value !== undefined) {\\n                  var isColor = targetProp instanceof THREE.Color; // Allow setting array scalars\\n\\n                  if (!isColor && targetProp.setScalar) targetProp.setScalar(value); // Layers have no copy function, we must therefore copy the mask property\\n                  else if (targetProp instanceof THREE.Layers && value instanceof THREE.Layers) targetProp.mask = value.mask; // Otherwise just set ...\\n                    else targetProp.set(value); // Auto-convert sRGB colors, for now ...\\n                  // https://github.com/react-spring/react-three-fiber/issues/344\\n\\n                  if (!rootState.linear && isColor) targetProp.convertSRGBToLinear();\\n                } // Else, just overwrite the value\\n\\n          } else {\\n            currentInstance[key] = value; // Auto-convert sRGB textures, for now ...\\n            // https://github.com/react-spring/react-three-fiber/issues/344\\n\\n            if (!rootState.linear && currentInstance[key] instanceof THREE.Texture) currentInstance[key].encoding = THREE.sRGBEncoding;\\n          }\\n\\n          invalidateInstance(instance);\\n        }\\n      }); // Preemptively delete the instance from the containers interaction\\n\\n      if (accumulative && root && instance.raycast && localState.handlers) {\\n        localState.handlers = undefined;\\n        var index = rootState.internal.interaction.indexOf(instance);\\n        if (index > -1) rootState.internal.interaction.splice(index, 1);\\n      } // Prep interaction handlers\\n\\n\\n      if (handlers.length) {\\n        if (accumulative && root && instance.raycast) {\\n          rootState.internal.interaction.push(instance);\\n        } // Add handlers to the instances handler-map\\n\\n\\n        localState.handlers = handlers.reduce(function (acc, key) {\\n          return _objectSpread({}, acc, _defineProperty({}, key, newProps[key]));\\n        }, {});\\n      } // Call the update lifecycle when it is being updated, but only when it is part of the scene\\n\\n\\n      if (instance.parent) updateInstance(instance);\\n    }\\n  }\\n\\n  function invalidateInstance(instance) {\\n    var _instance$__r3f3, _instance$__r3f3$root;\\n\\n    var state = (_instance$__r3f3 = instance.__r3f) == null ? void 0 : (_instance$__r3f3$root = _instance$__r3f3.root) == null ? void 0 : _instance$__r3f3$root.getState == null ? void 0 : _instance$__r3f3$root.getState();\\n    if (state && state.internal.frames === 0) state.invalidate();\\n  }\\n\\n  function updateInstance(instance) {\\n    instance.onUpdate == null ? void 0 : instance.onUpdate(instance);\\n  }\\n\\n  function createInstance(type, _ref7, root, hostContext, internalInstanceHandle) {\\n    var _ref7$args = _ref7.args,\\n        args = _ref7$args === void 0 ? [] : _ref7$args,\\n        props = _objectWithoutProperties(_ref7, [\\\"args\\\"]);\\n\\n    var name = \\\"\\\".concat(type[0].toUpperCase()).concat(type.slice(1));\\n    var instance; // https://github.com/facebook/react/issues/17147\\n    // Portals do not give us a root, they are themselves treated as a root by the reconciler\\n    // In order to figure out the actual root we have to climb through fiber internals :(\\n\\n    if (!isStore(root) && internalInstanceHandle) {\\n      var fn = function fn(node) {\\n        if (!node[\\\"return\\\"]) return node.stateNode && node.stateNode.containerInfo;else return fn(node[\\\"return\\\"]);\\n      };\\n\\n      root = fn(internalInstanceHandle);\\n    } // Assert that by now we have a valid root\\n\\n\\n    if (!root || !isStore(root)) throw \\\"No valid root for \\\".concat(name, \\\"!\\\");\\n\\n    if (type === 'primitive') {\\n      if (props.object === undefined) throw \\\"Primitives without 'object' are invalid!\\\";\\n      var object = props.object;\\n      instance = prepare(object, {\\n        root: root,\\n        instance: true\\n      });\\n    } else {\\n      var target = catalogue[name] || THREE[name];\\n      if (!target) throw \\\"\\\".concat(name, \\\" is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively\\\");\\n      var isArgsArr = is.arr(args); // Instanciate new object, link it to the root\\n\\n      instance = prepare(isArgsArr ? _construct(target, _toConsumableArray(args)) : new target(args), {\\n        root: root,\\n        // append memoized props with args so it's not forgotten\\n        memoizedProps: {\\n          args: isArgsArr && args.length === 0 ? null : args\\n        }\\n      });\\n    } // Auto-attach geometries and materials\\n\\n\\n    if (!('attachFns' in props)) {\\n      if (name.endsWith('Geometry')) {\\n        props = _objectSpread({\\n          attach: 'geometry'\\n        }, props);\\n      } else if (name.endsWith('Material')) {\\n        props = _objectSpread({\\n          attach: 'material'\\n        }, props);\\n      }\\n    } // It should NOT call onUpdate on object instanciation, because it hasn't been added to the\\n    // view yet. If the callback relies on references for instance, they won't be ready yet, this is\\n    // why it passes \\\"true\\\" here\\n\\n\\n    applyProps(instance, props, {});\\n    return instance;\\n  }\\n\\n  function appendChild(parentInstance, child) {\\n    var addedAsChild = false;\\n\\n    if (child) {\\n      // The attach attribute implies that the object attaches itself on the parent\\n      if (child.attachArray) {\\n        if (!is.arr(parentInstance[child.attachArray])) parentInstance[child.attachArray] = [];\\n        parentInstance[child.attachArray].push(child);\\n      } else if (child.attachObject) {\\n        if (!is.obj(parentInstance[child.attachObject[0]])) parentInstance[child.attachObject[0]] = {};\\n        parentInstance[child.attachObject[0]][child.attachObject[1]] = child;\\n      } else if (child.attach && !is.fun(child.attach)) {\\n        parentInstance[child.attach] = child;\\n      } else if (is.arr(child.attachFns)) {\\n        var _child$attachFns = _slicedToArray(child.attachFns, 1),\\n            attachFn = _child$attachFns[0];\\n\\n        if (is.str(attachFn) && is.fun(parentInstance[attachFn])) {\\n          parentInstance[attachFn](child);\\n        } else if (is.fun(attachFn)) {\\n          attachFn(child, parentInstance);\\n        }\\n      } else if (child.isObject3D) {\\n        // add in the usual parent-child way\\n        parentInstance.add(child);\\n        addedAsChild = true;\\n      }\\n\\n      if (!addedAsChild) {\\n        // This is for anything that used attach, and for non-Object3Ds that don't get attached to props;\\n        // that is, anything that's a child in React but not a child in the scenegraph.\\n        parentInstance.__r3f.objects.push(child);\\n\\n        child.parent = parentInstance;\\n      }\\n\\n      updateInstance(child);\\n      invalidateInstance(child);\\n    }\\n  }\\n\\n  function insertBefore(parentInstance, child, beforeChild) {\\n    var added = false;\\n\\n    if (child) {\\n      if (child.attachArray) {\\n        var array = parentInstance[child.attachArray];\\n        if (!is.arr(array)) parentInstance[child.attachArray] = [];\\n        array.splice(array.indexOf(beforeChild), 0, child);\\n      } else if (child.attachObject || child.attach && !is.fun(child.attach)) {\\n        // attach and attachObject don't have an order anyway, so just append\\n        return appendChild(parentInstance, child);\\n      } else if (child.isObject3D) {\\n        child.parent = parentInstance;\\n        child.dispatchEvent({\\n          type: 'added'\\n        });\\n        var restSiblings = parentInstance.children.filter(function (sibling) {\\n          return sibling !== child;\\n        });\\n        var index = restSiblings.indexOf(beforeChild);\\n        parentInstance.children = [].concat(_toConsumableArray(restSiblings.slice(0, index)), [child], _toConsumableArray(restSiblings.slice(index)));\\n        added = true;\\n      }\\n\\n      if (!added) {\\n        parentInstance.__r3f.objects.push(child);\\n\\n        child.parent = parentInstance;\\n      }\\n\\n      updateInstance(child);\\n      invalidateInstance(child);\\n    }\\n  }\\n\\n  function removeRecursive(array, parent) {\\n    var dispose = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\\n    if (array) _toConsumableArray(array).forEach(function (child) {\\n      return removeChild(parent, child, dispose);\\n    });\\n  }\\n\\n  function removeChild(parentInstance, child, dispose) {\\n    if (child) {\\n      var _child$__r3f2;\\n\\n      if (parentInstance.__r3f.objects) {\\n        var oldLength = parentInstance.__r3f.objects.length;\\n        parentInstance.__r3f.objects = parentInstance.__r3f.objects.filter(function (x) {\\n          return x !== child;\\n        });\\n        var newLength = parentInstance.__r3f.objects.length; // was it in the list?\\n\\n        if (newLength < oldLength) {\\n          // we had also set this, so we must clear it now\\n          child.parent = null;\\n        }\\n      } // Remove attachment\\n\\n\\n      if (child.attachArray) {\\n        parentInstance[child.attachArray] = parentInstance[child.attachArray].filter(function (x) {\\n          return x !== child;\\n        });\\n      } else if (child.attachObject) {\\n        delete parentInstance[child.attachObject[0]][child.attachObject[1]];\\n      } else if (child.attach && !is.fun(child.attach)) {\\n        parentInstance[child.attach] = null;\\n      } else if (is.arr(child.attachFns)) {\\n        var _child$attachFns2 = _slicedToArray(child.attachFns, 2),\\n            detachFn = _child$attachFns2[1];\\n\\n        if (is.str(detachFn) && is.fun(parentInstance[detachFn])) {\\n          parentInstance[detachFn](child);\\n        } else if (is.fun(detachFn)) {\\n          detachFn(child, parentInstance);\\n        }\\n      } else if (child.isObject3D) {\\n        var _child$__r3f;\\n\\n        parentInstance.remove(child); // Remove interactivity\\n\\n        if ((_child$__r3f = child.__r3f) != null && _child$__r3f.root) {\\n          removeInteractivity(child.__r3f.root, child);\\n        }\\n      } // Allow objects to bail out of recursive dispose alltogether by passing dispose={null}\\n      // Never dispose of primitives because their state may be kept outside of React!\\n      // In order for an object to be able to dispose it has to have\\n      //   - a dispose method,\\n      //   - it cannot be an <instance object={...} />\\n      //   - it cannot be a THREE.Scene, because three has broken it's own api\\n      //\\n      // Since disposal is recursive, we can check the optional dispose arg, which will be undefined\\n      // when the reconciler calls it, but then carry our own check recursively\\n\\n\\n      var isInstance = (_child$__r3f2 = child.__r3f) == null ? void 0 : _child$__r3f2.instance;\\n      var shouldDispose = dispose === undefined ? child.dispose !== null && !isInstance : dispose; // Remove nested child objects. Primitives should not have objects and children that are\\n      // attached to them declaratively ...\\n\\n      if (!isInstance) {\\n        var _child$__r3f3;\\n\\n        removeRecursive((_child$__r3f3 = child.__r3f) == null ? void 0 : _child$__r3f3.objects, child, shouldDispose);\\n        removeRecursive(child.children, child, shouldDispose);\\n      } // Remove references\\n\\n\\n      if (child.__r3f) {\\n        delete child.__r3f.root;\\n        delete child.__r3f.objects;\\n        delete child.__r3f.handlers;\\n        delete child.__r3f.memoizedProps;\\n        if (!isInstance) delete child.__r3f;\\n      } // Dispose item whenever the reconciler feels like it\\n\\n\\n      if (shouldDispose && child.dispose && child.type !== 'Scene') {\\n        (0, _scheduler.unstable_runWithPriority)(_scheduler.unstable_IdlePriority, function () {\\n          return child.dispose();\\n        });\\n      }\\n\\n      invalidateInstance(parentInstance);\\n    }\\n  }\\n\\n  function switchInstance(instance, type, newProps, fiber) {\\n    var parent = instance.parent;\\n    if (!parent) return;\\n    var newInstance = createInstance(type, newProps, instance.__r3f.root); // https://github.com/pmndrs/react-three-fiber/issues/1348\\n    // When args change the instance has to be re-constructed, which then\\n    // forces r3f to re-parent the children and non-scene objects\\n\\n    if (instance.children) {\\n      instance.children.forEach(function (child) {\\n        return appendChild(newInstance, child);\\n      });\\n      instance.children = [];\\n    }\\n\\n    instance.__r3f.objects.forEach(function (child) {\\n      return appendChild(newInstance, child);\\n    });\\n\\n    instance.__r3f.objects = [];\\n    removeChild(parent, instance);\\n    appendChild(parent, newInstance) // This evil hack switches the react-internal fiber node\\n    // https://github.com/facebook/react/issues/14983\\n    // https://github.com/facebook/react/pull/15021\\n    ;\\n    [fiber, fiber.alternate].forEach(function (fiber) {\\n      if (fiber !== null) {\\n        fiber.stateNode = newInstance;\\n\\n        if (fiber.ref) {\\n          if (typeof fiber.ref === 'function') fiber.ref(newInstance);else fiber.ref.current = newInstance;\\n        }\\n      }\\n    });\\n  }\\n\\n  var reconciler = (0, _reactReconciler[\\\"default\\\"])({\\n    now: _scheduler.unstable_now,\\n    createInstance: createInstance,\\n    removeChild: removeChild,\\n    appendChild: appendChild,\\n    appendInitialChild: appendChild,\\n    insertBefore: insertBefore,\\n    warnsIfNotActing: true,\\n    supportsMutation: true,\\n    isPrimaryRenderer: false,\\n    // @ts-ignore\\n    scheduleTimeout: is.fun(setTimeout) ? setTimeout : undefined,\\n    // @ts-ignore\\n    cancelTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\\n    // @ts-ignore\\n    setTimeout: is.fun(setTimeout) ? setTimeout : undefined,\\n    // @ts-ignore\\n    clearTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\\n    noTimeout: -1,\\n    appendChildToContainer: function appendChildToContainer(parentInstance, child) {\\n      var _getContainer = getContainer(parentInstance, child),\\n          container = _getContainer.container,\\n          root = _getContainer.root; // Link current root to the default scene\\n\\n\\n      container.__r3f.root = root;\\n      appendChild(container, child);\\n    },\\n    removeChildFromContainer: function removeChildFromContainer(parentInstance, child) {\\n      var _getContainer2 = getContainer(parentInstance, child),\\n          container = _getContainer2.container;\\n\\n      removeChild(container, child);\\n    },\\n    insertInContainerBefore: function insertInContainerBefore(parentInstance, child, beforeChild) {\\n      var _getContainer3 = getContainer(parentInstance, child),\\n          container = _getContainer3.container;\\n\\n      insertBefore(container, child, beforeChild);\\n    },\\n    commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps, fiber) {\\n      if (instance.__r3f.instance && newProps.object && newProps.object !== instance) {\\n        // <instance object={...} /> where the object reference has changed\\n        switchInstance(instance, type, newProps, fiber);\\n      } else {\\n        // This is a data object, let's extract critical information about it\\n        var _newProps$args = newProps.args,\\n            argsNew = _newProps$args === void 0 ? [] : _newProps$args,\\n            restNew = _objectWithoutProperties(newProps, [\\\"args\\\"]);\\n\\n        var _oldProps$args = oldProps.args,\\n            argsOld = _oldProps$args === void 0 ? [] : _oldProps$args,\\n            restOld = _objectWithoutProperties(oldProps, [\\\"args\\\"]); // If it has new props or arguments, then it needs to be re-instanciated\\n\\n\\n        var hasNewArgs = argsNew.some(function (value, index) {\\n          return is.obj(value) ? Object.entries(value).some(function (_ref8) {\\n            var _ref9 = _slicedToArray(_ref8, 2),\\n                key = _ref9[0],\\n                val = _ref9[1];\\n\\n            return val !== argsOld[index][key];\\n          }) : value !== argsOld[index];\\n        });\\n\\n        if (hasNewArgs) {\\n          // Next we create a new instance and append it again\\n          switchInstance(instance, type, newProps, fiber);\\n        } else {\\n          // Otherwise just overwrite props\\n          applyProps(instance, restNew, restOld, true);\\n        }\\n      }\\n    },\\n    hideInstance: function hideInstance(instance) {\\n      if (instance.isObject3D) {\\n        instance.visible = false;\\n        invalidateInstance(instance);\\n      }\\n    },\\n    unhideInstance: function unhideInstance(instance, props) {\\n      if (instance.isObject3D && props.visible == null || props.visible) {\\n        instance.visible = true;\\n        invalidateInstance(instance);\\n      }\\n    },\\n    hideTextInstance: function hideTextInstance() {\\n      throw new Error('Text is not allowed in the R3F tree.');\\n    },\\n    getPublicInstance: function getPublicInstance(instance) {\\n      // TODO: might fix switchInstance (?)\\n      return instance;\\n    },\\n    getRootHostContext: function getRootHostContext(rootContainer) {\\n      return EMPTY;\\n    },\\n    getChildHostContext: function getChildHostContext(parentHostContext) {\\n      return EMPTY;\\n    },\\n    createTextInstance: function createTextInstance() {},\\n    finalizeInitialChildren: function finalizeInitialChildren(instance) {\\n      // https://github.com/facebook/react/issues/20271\\n      // Returning true will trigger commitMount\\n      return !!instance.__r3f.handlers;\\n    },\\n    commitMount: function commitMount(instance)\\n    /*, type, props*/\\n    {\\n      // https://github.com/facebook/react/issues/20271\\n      // This will make sure events are only added once to the central container\\n      if (instance.raycast && instance.__r3f.handlers) instance.__r3f.root.getState().internal.interaction.push(instance);\\n    },\\n    prepareUpdate: function prepareUpdate() {\\n      return EMPTY;\\n    },\\n    shouldDeprioritizeSubtree: function shouldDeprioritizeSubtree() {\\n      return false;\\n    },\\n    prepareForCommit: function prepareForCommit() {\\n      return null;\\n    },\\n    preparePortalMount: function preparePortalMount() {// noop\\n    },\\n    resetAfterCommit: function resetAfterCommit() {// noop\\n    },\\n    shouldSetTextContent: function shouldSetTextContent() {\\n      return false;\\n    },\\n    clearContainer: function clearContainer() {\\n      return false;\\n    }\\n  });\\n  return {\\n    reconciler: reconciler,\\n    applyProps: applyProps\\n  };\\n}\\n\\nvar isRenderer = function isRenderer(def) {\\n  return def && !!def.render;\\n};\\n\\nvar isOrthographicCamera = function isOrthographicCamera(def) {\\n  return def && def.isOrthographicCamera;\\n};\\n\\nvar context =\\n/*#__PURE__*/\\nReact.createContext(null);\\nexports.context = context;\\n\\nvar createStore = function createStore(applyProps, _invalidate, _advance, props) {\\n  var gl = props.gl,\\n      size = props.size,\\n      _props$shadows = props.shadows,\\n      shadows = _props$shadows === void 0 ? false : _props$shadows,\\n      _props$linear = props.linear,\\n      linear = _props$linear === void 0 ? false : _props$linear,\\n      _props$flat = props.flat,\\n      flat = _props$flat === void 0 ? false : _props$flat,\\n      _props$vr = props.vr,\\n      vr = _props$vr === void 0 ? false : _props$vr,\\n      _props$orthographic = props.orthographic,\\n      orthographic = _props$orthographic === void 0 ? false : _props$orthographic,\\n      _props$frameloop = props.frameloop,\\n      frameloop = _props$frameloop === void 0 ? 'always' : _props$frameloop,\\n      _props$dpr = props.dpr,\\n      dpr = _props$dpr === void 0 ? 1 : _props$dpr,\\n      performance = props.performance,\\n      _props$clock = props.clock,\\n      clock = _props$clock === void 0 ? new THREE.Clock() : _props$clock,\\n      raycastOptions = props.raycaster,\\n      cameraOptions = props.camera,\\n      onPointerMissed = props.onPointerMissed; // Set shadowmap\\n\\n  if (shadows) {\\n    gl.shadowMap.enabled = true;\\n    if (_typeof(shadows) === 'object') Object.assign(gl.shadowMap, shadows);else gl.shadowMap.type = THREE.PCFSoftShadowMap;\\n  } // Set color management\\n\\n\\n  if (!linear) {\\n    if (!flat) gl.toneMapping = THREE.ACESFilmicToneMapping;\\n    gl.outputEncoding = THREE.sRGBEncoding;\\n  } // clock.elapsedTime is updated using advance(timestamp)\\n\\n\\n  if (frameloop === 'never') {\\n    clock.stop();\\n    clock.elapsedTime = 0;\\n  }\\n\\n  var rootState = (0, _zustand[\\\"default\\\"])(function (set, get) {\\n    // Create custom raycaster\\n    var raycaster = new THREE.Raycaster();\\n\\n    var _ref10 = raycastOptions || {},\\n        params = _ref10.params,\\n        options = _objectWithoutProperties(_ref10, [\\\"params\\\"]);\\n\\n    applyProps(raycaster, _objectSpread({\\n      enabled: true\\n    }, options, {\\n      params: _objectSpread({}, raycaster.params, {}, params)\\n    }), {}); // Create default camera\\n\\n    var isCamera = cameraOptions instanceof THREE.Camera;\\n    var camera = isCamera ? cameraOptions : orthographic ? new THREE.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new THREE.PerspectiveCamera(75, 0, 0.1, 1000);\\n\\n    if (!isCamera) {\\n      camera.position.z = 5;\\n      if (cameraOptions) applyProps(camera, cameraOptions, {}); // Always look at center by default\\n\\n      camera.lookAt(0, 0, 0);\\n    }\\n\\n    function _setDpr(dpr) {\\n      return Array.isArray(dpr) ? Math.min(Math.max(dpr[0], window.devicePixelRatio), dpr[1]) : dpr;\\n    }\\n\\n    var initialDpr = _setDpr(dpr);\\n\\n    var position = new THREE.Vector3();\\n    var defaultTarget = new THREE.Vector3();\\n\\n    function getCurrentViewport() {\\n      var camera = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : get().camera;\\n      var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultTarget;\\n      var size = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : get().size;\\n      var width = size.width,\\n          height = size.height;\\n      var aspect = width / height;\\n      var distance = camera.getWorldPosition(position).distanceTo(target);\\n\\n      if (isOrthographicCamera(camera)) {\\n        return {\\n          width: width / camera.zoom,\\n          height: height / camera.zoom,\\n          factor: 1,\\n          distance: distance,\\n          aspect: aspect\\n        };\\n      } else {\\n        var fov = camera.fov * Math.PI / 180; // convert vertical fov to radians\\n\\n        var h = 2 * Math.tan(fov / 2) * distance; // visible height\\n\\n        var w = h * (width / height);\\n        return {\\n          width: w,\\n          height: h,\\n          factor: width / w,\\n          distance: distance,\\n          aspect: aspect\\n        };\\n      }\\n    }\\n\\n    var performanceTimeout = undefined;\\n\\n    var setPerformanceCurrent = function setPerformanceCurrent(current) {\\n      return set(function (state) {\\n        return {\\n          performance: _objectSpread({}, state.performance, {\\n            current: current\\n          })\\n        };\\n      });\\n    };\\n\\n    return {\\n      gl: gl,\\n      set: set,\\n      get: get,\\n      invalidate: function invalidate() {\\n        return _invalidate(get());\\n      },\\n      advance: function advance(timestamp, runGlobalEffects) {\\n        return _advance(timestamp, runGlobalEffects, get());\\n      },\\n      linear: linear,\\n      flat: flat,\\n      scene: prepare(new THREE.Scene()),\\n      camera: camera,\\n      controls: null,\\n      raycaster: raycaster,\\n      clock: clock,\\n      mouse: new THREE.Vector2(),\\n      vr: vr,\\n      frameloop: frameloop,\\n      onPointerMissed: onPointerMissed,\\n      performance: _objectSpread({\\n        current: 1,\\n        min: 0.5,\\n        max: 1,\\n        debounce: 200\\n      }, performance, {\\n        regress: function regress() {\\n          var state = get(); // Clear timeout\\n\\n          if (performanceTimeout) clearTimeout(performanceTimeout); // Set lower bound performance\\n\\n          if (state.performance.current !== state.performance.min) setPerformanceCurrent(state.performance.min); // Go back to upper bound performance after a while unless something regresses meanwhile\\n\\n          performanceTimeout = setTimeout(function () {\\n            return setPerformanceCurrent(get().performance.max);\\n          }, state.performance.debounce);\\n        }\\n      }),\\n      size: {\\n        width: 0,\\n        height: 0\\n      },\\n      viewport: {\\n        initialDpr: initialDpr,\\n        dpr: initialDpr,\\n        width: 0,\\n        height: 0,\\n        aspect: 0,\\n        distance: 0,\\n        factor: 0,\\n        getCurrentViewport: getCurrentViewport\\n      },\\n      setSize: function setSize(width, height) {\\n        var size = {\\n          width: width,\\n          height: height\\n        };\\n        set(function (state) {\\n          return {\\n            size: size,\\n            viewport: _objectSpread({}, state.viewport, {}, getCurrentViewport(camera, defaultTarget, size))\\n          };\\n        });\\n      },\\n      setDpr: function setDpr(dpr) {\\n        return set(function (state) {\\n          return {\\n            viewport: _objectSpread({}, state.viewport, {\\n              dpr: _setDpr(dpr)\\n            })\\n          };\\n        });\\n      },\\n      events: {\\n        connected: false\\n      },\\n      internal: {\\n        active: false,\\n        priority: 0,\\n        frames: 0,\\n        lastProps: props,\\n        interaction: [],\\n        hovered: new Map(),\\n        subscribers: [],\\n        initialClick: [0, 0],\\n        initialHits: [],\\n        capturedMap: new Map(),\\n        subscribe: function subscribe(ref) {\\n          var priority = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\\n          set(function (_ref11) {\\n            var internal = _ref11.internal;\\n            return {\\n              internal: _objectSpread({}, internal, {\\n                // If this subscription was given a priority, it takes rendering into its own hands\\n                // For that reason we switch off automatic rendering and increase the manual flag\\n                // As long as this flag is positive (there could be multiple render subscription)\\n                // ..there can be no internal rendering at all\\n                priority: internal.priority + (priority > 0 ? 1 : 0),\\n                // Register subscriber and sort layers from lowest to highest, meaning,\\n                // highest priority renders last (on top of the other frames)\\n                subscribers: [].concat(_toConsumableArray(internal.subscribers), [{\\n                  ref: ref,\\n                  priority: priority\\n                }]).sort(function (a, b) {\\n                  return a.priority - b.priority;\\n                })\\n              })\\n            };\\n          });\\n          return function () {\\n            set(function (_ref12) {\\n              var internal = _ref12.internal;\\n              return {\\n                internal: _objectSpread({}, internal, {\\n                  // Decrease manual flag if this subscription had a priority\\n                  priority: internal.priority - (priority > 0 ? 1 : 0),\\n                  // Remove subscriber from list\\n                  subscribers: internal.subscribers.filter(function (s) {\\n                    return s.ref !== ref;\\n                  })\\n                })\\n              };\\n            });\\n          };\\n        }\\n      }\\n    };\\n  }); // Resize camera and renderer on changes to size and pixelratio\\n\\n  rootState.subscribe(function () {\\n    var _rootState$getState = rootState.getState(),\\n        camera = _rootState$getState.camera,\\n        size = _rootState$getState.size,\\n        viewport = _rootState$getState.viewport,\\n        internal = _rootState$getState.internal; // https://github.com/pmndrs/react-three-fiber/issues/92\\n    // Do not mess with the camera if it belongs to the user\\n\\n\\n    if (!(internal.lastProps.camera instanceof THREE.Camera)) {\\n      if (isOrthographicCamera(camera)) {\\n        camera.left = size.width / -2;\\n        camera.right = size.width / 2;\\n        camera.top = size.height / 2;\\n        camera.bottom = size.height / -2;\\n      } else {\\n        camera.aspect = size.width / size.height;\\n      }\\n\\n      camera.updateProjectionMatrix(); // https://github.com/pmndrs/react-three-fiber/issues/178\\n      // Update matrix world since the renderer is a frame late\\n\\n      camera.updateMatrixWorld();\\n    } // Update renderer\\n\\n\\n    gl.setPixelRatio(viewport.dpr);\\n    gl.setSize(size.width, size.height);\\n  }, function (state) {\\n    return [state.viewport.dpr, state.size];\\n  }, _shallow[\\\"default\\\"]);\\n  var state = rootState.getState(); // Update size\\n\\n  if (size) state.setSize(size.width, size.height); // Invalidate on any change\\n\\n  rootState.subscribe(function (state) {\\n    return _invalidate(state);\\n  }); // Return root state\\n\\n  return rootState;\\n};\\n\\nfunction createSubs(callback, subs) {\\n  var index = subs.length;\\n  subs.push(callback);\\n  return function () {\\n    return void subs.splice(index, 1);\\n  };\\n}\\n\\nvar i;\\nvar globalEffects = [];\\nvar globalAfterEffects = [];\\nvar globalTailEffects = [];\\n\\nvar addEffect = function addEffect(callback) {\\n  return createSubs(callback, globalEffects);\\n};\\n\\nexports.addEffect = addEffect;\\n\\nvar addAfterEffect = function addAfterEffect(callback) {\\n  return createSubs(callback, globalAfterEffects);\\n};\\n\\nexports.addAfterEffect = addAfterEffect;\\n\\nvar addTail = function addTail(callback) {\\n  return createSubs(callback, globalTailEffects);\\n};\\n\\nexports.addTail = addTail;\\n\\nfunction run(effects, timestamp) {\\n  for (i = 0; i < effects.length; i++) {\\n    effects[i](timestamp);\\n  }\\n}\\n\\nfunction render$1(timestamp, state) {\\n  // Run local effects\\n  var delta = state.clock.getDelta(); // In frameloop='never' mode, clock times are updated using the provided timestamp\\n\\n  if (state.frameloop === 'never' && typeof timestamp === 'number') {\\n    delta = timestamp - state.clock.elapsedTime;\\n    state.clock.oldTime = state.clock.elapsedTime;\\n    state.clock.elapsedTime = timestamp;\\n  } // Call subscribers (useFrame)\\n\\n\\n  for (i = 0; i < state.internal.subscribers.length; i++) {\\n    state.internal.subscribers[i].ref.current(state, delta);\\n  } // Render content\\n\\n\\n  if (!state.internal.priority && state.gl.render) state.gl.render(state.scene, state.camera); // Decrease frame count\\n\\n  state.internal.frames = Math.max(0, state.internal.frames - 1);\\n  return state.frameloop === 'always' ? 1 : state.internal.frames;\\n}\\n\\nfunction createLoop(roots) {\\n  var running = false;\\n  var repeat;\\n\\n  function loop(timestamp) {\\n    running = true;\\n    repeat = 0; // Run effects\\n\\n    run(globalEffects, timestamp); // Render all roots\\n\\n    roots.forEach(function (root) {\\n      var state = root.store.getState(); // If the frameloop is invalidated, do not run another frame\\n\\n      if (state.internal.active && (state.frameloop === 'always' || state.internal.frames > 0)) repeat += render$1(timestamp, state);\\n    }); // Run after-effects\\n\\n    run(globalAfterEffects, timestamp); // Keep on looping if anything invalidates the frameloop\\n\\n    if (repeat > 0) return requestAnimationFrame(loop); // Tail call effects, they are called when rendering stops\\n    else run(globalTailEffects, timestamp); // Flag end of operation\\n\\n    running = false;\\n  }\\n\\n  function invalidate(state) {\\n    if (!state) return roots.forEach(function (root) {\\n      return invalidate(root.store.getState());\\n    });\\n    if (state.vr || !state.internal.active || state.frameloop === 'never') return; // Increase frames, do not go higher than 60\\n\\n    state.internal.frames = Math.min(60, state.internal.frames + 1); // If the render-loop isn't active, start it\\n\\n    if (!running) {\\n      running = true;\\n      requestAnimationFrame(loop);\\n    }\\n  }\\n\\n  function advance(timestamp) {\\n    var runGlobalEffects = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\\n    var state = arguments.length > 2 ? arguments[2] : undefined;\\n    if (runGlobalEffects) run(globalEffects, timestamp);\\n    if (!state) roots.forEach(function (root) {\\n      return render$1(timestamp, root.store.getState());\\n    });else render$1(timestamp, state);\\n    if (runGlobalEffects) run(globalAfterEffects, timestamp);\\n  }\\n\\n  return {\\n    loop: loop,\\n    invalidate: invalidate,\\n    advance: advance\\n  };\\n}\\n\\nfunction createPointerEvents(store) {\\n  var _createEvents = createEvents(store),\\n      handlePointer = _createEvents.handlePointer;\\n\\n  var names = {\\n    onClick: ['click', false],\\n    onContextMenu: ['contextmenu', false],\\n    onDoubleClick: ['dblclick', false],\\n    onWheel: ['wheel', true],\\n    onPointerDown: ['pointerdown', true],\\n    onPointerUp: ['pointerup', true],\\n    onPointerLeave: ['pointerleave', true],\\n    onPointerMove: ['pointermove', true],\\n    onPointerCancel: ['pointercancel', true],\\n    onLostPointerCapture: ['lostpointercapture', true]\\n  };\\n  return {\\n    connected: false,\\n    handlers: Object.keys(names).reduce(function (acc, key) {\\n      return _objectSpread({}, acc, _defineProperty({}, key, handlePointer(key)));\\n    }, {}),\\n    connect: function connect(target) {\\n      var _events$handlers;\\n\\n      var _store$getState7 = store.getState(),\\n          set = _store$getState7.set,\\n          events = _store$getState7.events;\\n\\n      events.disconnect == null ? void 0 : events.disconnect();\\n      set(function (state) {\\n        return {\\n          events: _objectSpread({}, state.events, {\\n            connected: target\\n          })\\n        };\\n      });\\n      Object.entries((_events$handlers = events == null ? void 0 : events.handlers) != null ? _events$handlers : []).forEach(function (_ref13) {\\n        var _ref14 = _slicedToArray(_ref13, 2),\\n            name = _ref14[0],\\n            event = _ref14[1];\\n\\n        var _names$name = _slicedToArray(names[name], 2),\\n            eventName = _names$name[0],\\n            passive = _names$name[1];\\n\\n        target.addEventListener(eventName, event, {\\n          passive: passive\\n        });\\n      });\\n    },\\n    disconnect: function disconnect() {\\n      var _store$getState8 = store.getState(),\\n          set = _store$getState8.set,\\n          events = _store$getState8.events;\\n\\n      if (events.connected) {\\n        var _events$handlers2;\\n\\n        Object.entries((_events$handlers2 = events.handlers) != null ? _events$handlers2 : []).forEach(function (_ref15) {\\n          var _ref16 = _slicedToArray(_ref15, 2),\\n              name = _ref16[0],\\n              event = _ref16[1];\\n\\n          if (events && events.connected instanceof HTMLElement) {\\n            var _names$name2 = _slicedToArray(names[name], 1),\\n                eventName = _names$name2[0];\\n\\n            events.connected.removeEventListener(eventName, event);\\n          }\\n        });\\n        set(function (state) {\\n          return {\\n            events: _objectSpread({}, state.events, {\\n              connected: false\\n            })\\n          };\\n        });\\n      }\\n    }\\n  };\\n} // React currently throws a warning when using useLayoutEffect on the server.\\n// To get around it, we can conditionally useEffect on the server (no-op) and\\n// useLayoutEffect in the browser.\\n\\n\\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\\n\\nfunction Block(_ref17) {\\n  var set = _ref17.set;\\n  useIsomorphicLayoutEffect(function () {\\n    set(new Promise(function () {\\n      return null;\\n    }));\\n    return function () {\\n      return set(false);\\n    };\\n  }, []);\\n  return null;\\n}\\n\\nvar ErrorBoundary =\\n/*#__PURE__*/\\nfunction (_React$Component) {\\n  _inherits(ErrorBoundary, _React$Component);\\n\\n  function ErrorBoundary() {\\n    var _getPrototypeOf2;\\n\\n    var _this;\\n\\n    _classCallCheck(this, ErrorBoundary);\\n\\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\\n      args[_key] = arguments[_key];\\n    }\\n\\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ErrorBoundary)).call.apply(_getPrototypeOf2, [this].concat(args)));\\n    _this.state = {\\n      error: false\\n    };\\n    return _this;\\n  }\\n\\n  _createClass(ErrorBoundary, [{\\n    key: \\\"componentDidCatch\\\",\\n    value: function componentDidCatch(error) {\\n      this.props.set(error);\\n    }\\n  }, {\\n    key: \\\"render\\\",\\n    value: function render() {\\n      return this.state.error ? null : this.props.children;\\n    }\\n  }]);\\n\\n  return ErrorBoundary;\\n}(React.Component);\\n\\nErrorBoundary.getDerivedStateFromError = function () {\\n  return {\\n    error: true\\n  };\\n};\\n\\nvar Canvas =\\n/*#__PURE__*/\\nReact.forwardRef(function Canvas(_ref18, forwardedRef) {\\n  var children = _ref18.children,\\n      fallback = _ref18.fallback,\\n      tabIndex = _ref18.tabIndex,\\n      resize = _ref18.resize,\\n      id = _ref18.id,\\n      style = _ref18.style,\\n      className = _ref18.className,\\n      events = _ref18.events,\\n      props = _objectWithoutProperties(_ref18, [\\\"children\\\", \\\"fallback\\\", \\\"tabIndex\\\", \\\"resize\\\", \\\"id\\\", \\\"style\\\", \\\"className\\\", \\\"events\\\"]);\\n\\n  var _useMeasure = (0, _reactUseMeasure[\\\"default\\\"])(_objectSpread({\\n    scroll: true,\\n    debounce: {\\n      scroll: 50,\\n      resize: 0\\n    }\\n  }, resize)),\\n      _useMeasure2 = _slicedToArray(_useMeasure, 2),\\n      containerRef = _useMeasure2[0],\\n      size = _useMeasure2[1];\\n\\n  var canvasRef = React.useRef(null);\\n\\n  var _React$useState = React.useState(false),\\n      _React$useState2 = _slicedToArray(_React$useState, 2),\\n      block = _React$useState2[0],\\n      setBlock = _React$useState2[1];\\n\\n  var _React$useState3 = React.useState(false),\\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\\n      error = _React$useState4[0],\\n      setError = _React$useState4[1]; // Suspend this component if block is a promise (2nd run)\\n\\n\\n  if (block) throw block; // Throw exception outwards if anything within canvas throws\\n\\n  if (error) throw error; // Execute JSX in the reconciler as a layout-effect\\n\\n  useIsomorphicLayoutEffect(function () {\\n    if (size.width > 0 && size.height > 0) {\\n      render(\\n      /*#__PURE__*/\\n      React.createElement(ErrorBoundary, {\\n        set: setError\\n      },\\n      /*#__PURE__*/\\n      React.createElement(React.Suspense, {\\n        fallback:\\n        /*#__PURE__*/\\n        React.createElement(Block, {\\n          set: setBlock\\n        })\\n      }, children)), canvasRef.current, _objectSpread({}, props, {\\n        size: size,\\n        events: events || createPointerEvents\\n      }));\\n    }\\n  }, [size, children]);\\n  useIsomorphicLayoutEffect(function () {\\n    var container = canvasRef.current;\\n    return function () {\\n      return unmountComponentAtNode(container);\\n    };\\n  }, []);\\n  return (\\n    /*#__PURE__*/\\n    React.createElement(\\\"div\\\", {\\n      ref: containerRef,\\n      id: id,\\n      className: className,\\n      tabIndex: tabIndex,\\n      style: _objectSpread({\\n        position: 'relative',\\n        width: '100%',\\n        height: '100%',\\n        overflow: 'hidden'\\n      }, style)\\n    },\\n    /*#__PURE__*/\\n    React.createElement(\\\"canvas\\\", {\\n      ref: (0, _reactMergeRefs[\\\"default\\\"])([canvasRef, forwardedRef]),\\n      style: {\\n        display: 'block'\\n      }\\n    }, fallback))\\n  );\\n});\\nexports.Canvas = Canvas;\\n\\nfunction useThree() {\\n  var selector = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (state) {\\n    return state;\\n  };\\n  var equalityFn = arguments.length > 1 ? arguments[1] : undefined;\\n  var useStore = React.useContext(context);\\n  if (!useStore) throw \\\"R3F hooks can only be used within the Canvas component!\\\";\\n  return useStore(selector, equalityFn);\\n}\\n\\nfunction useFrame(callback) {\\n  var renderPriority = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\\n  var subscribe = React.useContext(context).getState().internal.subscribe; // Update ref\\n\\n  var ref = React.useRef(callback);\\n  React.useLayoutEffect(function () {\\n    return void (ref.current = callback);\\n  }, [callback]); // Subscribe/unsub\\n\\n  React.useLayoutEffect(function () {\\n    var unsubscribe = subscribe(ref, renderPriority);\\n    return function () {\\n      return unsubscribe();\\n    };\\n  }, [renderPriority, subscribe]);\\n  return null;\\n}\\n\\nfunction buildGraph(object) {\\n  var data = {\\n    nodes: {},\\n    materials: {}\\n  };\\n\\n  if (object) {\\n    object.traverse(function (obj) {\\n      if (obj.name) {\\n        data.nodes[obj.name] = obj;\\n      }\\n\\n      if (obj.material && !data.materials[obj.material.name]) {\\n        data.materials[obj.material.name] = obj.material;\\n      }\\n    });\\n  }\\n\\n  return data;\\n}\\n\\nfunction useGraph(object) {\\n  return React.useMemo(function () {\\n    return buildGraph(object);\\n  }, [object]);\\n}\\n\\nfunction loadingFn(extensions, onProgress) {\\n  return function (Proto) {\\n    // Construct new loader and run extensions\\n    var loader = new Proto();\\n    if (extensions) extensions(loader); // Go through the urls and load them\\n\\n    for (var _len2 = arguments.length, input = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\\n      input[_key2 - 1] = arguments[_key2];\\n    }\\n\\n    return Promise.all(input.map(function (input) {\\n      return new Promise(function (res, reject) {\\n        return loader.load(input, function (data) {\\n          if (data.scene) Object.assign(data, buildGraph(data.scene));\\n          res(data);\\n        }, onProgress, function (error) {\\n          return reject(\\\"Could not load \\\".concat(input, \\\": \\\").concat(error.message));\\n        });\\n      });\\n    }));\\n  };\\n}\\n\\nfunction useLoader(Proto, input, extensions, onProgress) {\\n  // Use suspense to load async assets\\n  var keys = Array.isArray(input) ? input : [input];\\n\\n  var results = _useAsset.useAsset.apply(void 0, [loadingFn(extensions, onProgress), Proto].concat(_toConsumableArray(keys))); // Return the object/s\\n\\n\\n  return Array.isArray(input) ? results : results[0];\\n}\\n\\nuseLoader.preload = function (Proto, input, extensions) {\\n  var keys = Array.isArray(input) ? input : [input];\\n  return _useAsset.useAsset.preload.apply(_useAsset.useAsset, [loadingFn(extensions), Proto].concat(_toConsumableArray(keys)));\\n};\\n\\nuseLoader.clear = function (Proto, input) {\\n  var keys = Array.isArray(input) ? input : [input];\\n  return _useAsset.useAsset.clear.apply(_useAsset.useAsset, [Proto].concat(_toConsumableArray(keys)));\\n};\\n\\nvar roots = new Map();\\nexports._roots = roots;\\nvar modes = ['legacy', 'blocking', 'concurrent'];\\n\\nvar _createLoop = createLoop(roots),\\n    invalidate = _createLoop.invalidate,\\n    advance = _createLoop.advance;\\n\\nexports.advance = advance;\\nexports.invalidate = invalidate;\\n\\nvar _createRenderer = createRenderer(),\\n    reconciler = _createRenderer.reconciler,\\n    applyProps = _createRenderer.applyProps;\\n\\nexports.applyProps = applyProps;\\nexports.reconciler = reconciler;\\n\\nvar createRendererInstance = function createRendererInstance(gl, canvas) {\\n  return isRenderer(gl) ? gl : new THREE.WebGLRenderer(_objectSpread({\\n    powerPreference: 'high-performance',\\n    canvas: canvas,\\n    antialias: true,\\n    alpha: true\\n  }, gl));\\n};\\n\\nfunction render(element, canvas) {\\n  var _ref19 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\\n      gl = _ref19.gl,\\n      size = _ref19.size,\\n      _ref19$mode = _ref19.mode,\\n      mode = _ref19$mode === void 0 ? modes[1] : _ref19$mode,\\n      events = _ref19.events,\\n      onCreated = _ref19.onCreated,\\n      props = _objectWithoutProperties(_ref19, [\\\"gl\\\", \\\"size\\\", \\\"mode\\\", \\\"events\\\", \\\"onCreated\\\"]);\\n\\n  var _store; // Allow size to take on container bounds initially\\n\\n\\n  if (!size) {\\n    var _canvas$parentElement, _canvas$parentElement2, _canvas$parentElement3, _canvas$parentElement4;\\n\\n    size = {\\n      width: (_canvas$parentElement = (_canvas$parentElement2 = canvas.parentElement) == null ? void 0 : _canvas$parentElement2.clientWidth) != null ? _canvas$parentElement : 0,\\n      height: (_canvas$parentElement3 = (_canvas$parentElement4 = canvas.parentElement) == null ? void 0 : _canvas$parentElement4.clientHeight) != null ? _canvas$parentElement3 : 0\\n    };\\n  }\\n\\n  var root = roots.get(canvas);\\n  var fiber = root == null ? void 0 : root.fiber;\\n  var store = root == null ? void 0 : root.store;\\n  var state = (_store = store) == null ? void 0 : _store.getState();\\n\\n  if (fiber && state) {\\n    var lastProps = state.internal.lastProps; // When a root was found, see if any fundamental props must be changed or exchanged\\n    // Check pixelratio\\n\\n    if (props.dpr !== undefined && !is.equ(lastProps.dpr, props.dpr)) state.setDpr(props.dpr); // Check size\\n\\n    if (!is.equ(lastProps.size, size)) state.setSize(size.width, size.height); // For some props we want to reset the entire root\\n    // Changes to the color-space\\n\\n    var linearChanged = props.linear !== lastProps.linear;\\n\\n    if (linearChanged) {\\n      unmountComponentAtNode(canvas);\\n      fiber = undefined;\\n    }\\n  }\\n\\n  if (!fiber) {\\n    // If no root has been found, make one\\n    // Create gl\\n    var glRenderer = createRendererInstance(gl, canvas); // Enable VR if requested\\n\\n    if (props.vr) {\\n      glRenderer.xr.enabled = true;\\n      glRenderer.setAnimationLoop(function (timestamp) {\\n        return advance(timestamp, true);\\n      });\\n    } // Create store\\n\\n\\n    store = createStore(applyProps, invalidate, advance, _objectSpread({\\n      gl: glRenderer,\\n      size: size\\n    }, props));\\n\\n    var _state = store.getState(); // Create renderer\\n\\n\\n    fiber = reconciler.createContainer(store, modes.indexOf(mode), false, null); // Map it\\n\\n    roots.set(canvas, {\\n      fiber: fiber,\\n      store: store\\n    }); // Store events internally\\n\\n    if (events) _state.set({\\n      events: events(store)\\n    });\\n  }\\n\\n  if (store && fiber) {\\n    reconciler.updateContainer(\\n    /*#__PURE__*/\\n    React.createElement(Provider, {\\n      store: store,\\n      element: element,\\n      onCreated: onCreated,\\n      target: canvas\\n    }), fiber, null, function () {\\n      return undefined;\\n    });\\n    return store;\\n  } else {\\n    throw 'Error creating root!';\\n  }\\n}\\n\\nfunction Provider(_ref20) {\\n  var store = _ref20.store,\\n      element = _ref20.element,\\n      onCreated = _ref20.onCreated,\\n      target = _ref20.target;\\n  React.useEffect(function () {\\n    var state = store.getState(); // Flag the canvas active, rendering will now begin\\n\\n    state.set(function (state) {\\n      return {\\n        internal: _objectSpread({}, state.internal, {\\n          active: true\\n        })\\n      };\\n    }); // Connect events\\n\\n    state.events.connect == null ? void 0 : state.events.connect(target); // Notifiy that init is completed, the scene graph exists, but nothing has yet rendered\\n\\n    if (onCreated) onCreated(state);\\n  }, []);\\n  return (\\n    /*#__PURE__*/\\n    React.createElement(context.Provider, {\\n      value: store\\n    }, element)\\n  );\\n}\\n\\nfunction unmountComponentAtNode(canvas, callback) {\\n  var root = roots.get(canvas);\\n  var fiber = root == null ? void 0 : root.fiber;\\n\\n  if (fiber) {\\n    var state = root == null ? void 0 : root.store.getState();\\n    if (state) state.internal.active = false;\\n    reconciler.updateContainer(null, fiber, null, function () {\\n      if (state) {\\n        setTimeout(function () {\\n          var _state$gl, _state$gl$renderLists, _state$gl2;\\n\\n          state.events.disconnect == null ? void 0 : state.events.disconnect();\\n          (_state$gl = state.gl) == null ? void 0 : (_state$gl$renderLists = _state$gl.renderLists) == null ? void 0 : _state$gl$renderLists.dispose == null ? void 0 : _state$gl$renderLists.dispose();\\n          (_state$gl2 = state.gl) == null ? void 0 : _state$gl2.forceContextLoss == null ? void 0 : _state$gl2.forceContextLoss();\\n          dispose(state);\\n          roots[\\\"delete\\\"](canvas);\\n          if (callback) callback(canvas);\\n        }, 500);\\n      }\\n    });\\n  }\\n}\\n\\nfunction dispose(obj) {\\n  if (obj.dispose && obj.type !== 'Scene') obj.dispose();\\n\\n  for (var p in obj) {\\n    var _dispose, _ref;\\n\\n    (_dispose = (_ref = p).dispose) == null ? void 0 : _dispose.call(_ref);\\n    delete obj[p];\\n  }\\n}\\n\\nvar act = reconciler.act;\\nexports.act = act;\\nvar hasSymbol = is.fun(Symbol) && Symbol[\\\"for\\\"];\\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol[\\\"for\\\"]('react.portal') : 0xeaca;\\n\\nfunction createPortal(children, container, implementation) {\\n  var key = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\\n  return {\\n    $$typeof: REACT_PORTAL_TYPE,\\n    key: key == null ? null : '' + key,\\n    children: children,\\n    containerInfo: prepare(container),\\n    implementation: implementation\\n  };\\n}\\n\\nreconciler.injectIntoDevTools({\\n  bundleType: process.env.NODE_ENV === 'production' ? 0 : 1,\\n  rendererPackageName: '@react-three/fiber',\\n  version: '17.0.2'\\n});\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_interopRequireDefault\",\"obj\",\"__esModule\",\"_getRequireWildcardCache\",\"WeakMap\",\"cache\",\"_interopRequireWildcard\",\"_typeof\",\"has\",\"get\",\"newObj\",\"hasPropertyDescriptor\",\"Object\",\"defineProperty\",\"getOwnPropertyDescriptor\",\"key\",\"prototype\",\"hasOwnProperty\",\"call\",\"desc\",\"set\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"_createClass\",\"Constructor\",\"protoProps\",\"staticProps\",\"_getPrototypeOf\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_inherits\",\"subClass\",\"superClass\",\"TypeError\",\"create\",\"constructor\",\"value\",\"_setPrototypeOf\",\"isNativeReflectConstruct\",\"Reflect\",\"construct\",\"sham\",\"Proxy\",\"Date\",\"toString\",\"e\",\"_construct\",\"Parent\",\"args\",\"Class\",\"a\",\"push\",\"apply\",\"instance\",\"Function\",\"bind\",\"arguments\",\"p\",\"_objectWithoutProperties\",\"source\",\"excluded\",\"sourceKeys\",\"keys\",\"indexOf\",\"getOwnPropertySymbols\",\"sourceSymbolKeys\",\"propertyIsEnumerable\",\"_toArray\",\"arr\",\"_arrayWithHoles\",\"_iterableToArray\",\"_nonIterableRest\",\"_slicedToArray\",\"Symbol\",\"iterator\",\"_arr\",\"_n\",\"_d\",\"_e\",\"undefined\",\"_i\",\"_s\",\"done\",\"next\",\"err\",\"Array\",\"isArray\",\"_toConsumableArray\",\"arr2\",\"iter\",\"from\",\"ownKeys\",\"object\",\"enumerableOnly\",\"symbols\",\"filter\",\"sym\",\"_objectSpread\",\"forEach\",\"_defineProperty\",\"getOwnPropertyDescriptors\",\"defineProperties\",\"makeId\",\"event\",\"uuid\",\"eventObject\",\"index\",\"removeInteractivity\",\"store\",\"internal\",\"getState\",\"_store$getState\",\"interaction\",\"initialHits\",\"hovered\",\"createEvents\",\"prepareRay\",\"_raycaster$computeOff\",\"state\",\"raycaster\",\"mouse\",\"camera\",\"size\",\"_ref2\",\"computeOffsets\",\"offsetX\",\"width\",\"offsetY\",\"height\",\"setFromCamera\",\"calculateDistance\",\"_store$getState2\",\"dx\",\"initialClick\",\"dy\",\"Math\",\"round\",\"sqrt\",\"filterPointerEvents\",\"objects\",\"some\",\"name\",\"_r3f$handlers\",\"__r3f\",\"handlers\",\"intersect\",\"enabled\",\"seen\",\"Set\",\"intersections\",\"eventsObjects\",\"intersects\",\"intersectObjects\",\"item\",\"id\",\"add\",\"_iteratorNormalCompletion\",\"_didIteratorError\",\"_iteratorError\",\"_iterator\",\"_step\",\"_intersect\",\"_r3f\",\"parent\",\"patchIntersects\",\"_store$getState3\",\"capturedMap\",\"pointerId\",\"values\",\"handleIntersects\",\"callback\",\"_store$getState4\",\"unprojectedPoint\",\"temp\",\"x\",\"y\",\"unproject\",\"delta\",\"type\",\"releasePointerCapture\",\"_iteratorNormalCompletion2\",\"_didIteratorError2\",\"_iteratorError2\",\"_loop\",\"hit\",\"_step2\",\"hasPointerCapture\",\"_internal$capturedMap\",\"_internal$capturedMap2\",\"setPointerCapture\",\"Map\",\"extractEventProps\",\"prop\",\"property\",\"raycastEvent\",\"spaceX\",\"spaceY\",\"stopped\",\"ray\",\"stopPropagation\",\"capturesForPointer\",\"find\",\"higher\",\"slice\",\"cancelPointer\",\"concat\",\"currentTarget\",\"sourceEvent\",\"nativeEvent\",\"_iterator2\",\"_ret\",\"hits\",\"_store$getState5\",\"hoveredObj\",\"data\",\"onPointerOut\",\"onPointerLeave\",\"pointerMissed\",\"_r3f$handlers2\",\"onPointerMissed\",\"THREE\",\"Vector3\",\"handlePointer\",\"_store$getState6\",\"isPointerMove\",\"onPointerOver\",\"onPointerEnter\",\"hoveredItem\",\"onPointerMove\",\"handler\",\"includes\",\"map\",\"prepare\",\"root\",\"memoizedProps\",\"createSubs\",\"subs\",\"splice\",\"run\",\"effects\",\"timestamp\",\"render$1\",\"clock\",\"getDelta\",\"frameloop\",\"elapsedTime\",\"oldTime\",\"subscribers\",\"ref\",\"current\",\"priority\",\"gl\",\"render\",\"scene\",\"frames\",\"max\",\"createPointerEvents\",\"_createEvents\",\"names\",\"onClick\",\"onContextMenu\",\"onDoubleClick\",\"onWheel\",\"onPointerDown\",\"onPointerUp\",\"onPointerCancel\",\"onLostPointerCapture\",\"connected\",\"reduce\",\"acc\",\"connect\",\"_events$handlers\",\"_store$getState7\",\"events\",\"disconnect\",\"entries\",\"_ref13\",\"_ref14\",\"_names$name\",\"addEventListener\",\"eventName\",\"passive\",\"_store$getState8\",\"_events$handlers2\",\"_ref15\",\"_ref16\",\"HTMLElement\",\"_names$name2\",\"removeEventListener\",\"Block\",\"_ref17\",\"useIsomorphicLayoutEffect\",\"Promise\",\"buildGraph\",\"nodes\",\"materials\",\"traverse\",\"material\",\"loadingFn\",\"extensions\",\"onProgress\",\"Proto\",\"loader\",\"_len2\",\"input\",\"_key2\",\"all\",\"res\",\"reject\",\"load\",\"assign\",\"error\",\"message\",\"useLoader\",\"results\",\"_useAsset\",\"useAsset\",\"element\",\"canvas\",\"_ref19\",\"_ref19$mode\",\"mode\",\"modes\",\"onCreated\",\"_store\",\"_canvas$parentElement\",\"_canvas$parentElement2\",\"_canvas$parentElement3\",\"_canvas$parentElement4\",\"parentElement\",\"clientWidth\",\"clientHeight\",\"roots\",\"fiber\",\"lastProps\",\"dpr\",\"is\",\"equ\",\"setDpr\",\"setSize\",\"linear\",\"unmountComponentAtNode\",\"glRenderer\",\"WebGLRenderer\",\"powerPreference\",\"antialias\",\"alpha\",\"vr\",\"xr\",\"setAnimationLoop\",\"advance\",\"createStore\",\"applyProps\",\"invalidate\",\"_state\",\"reconciler\",\"createContainer\",\"updateContainer\",\"React\",\"createElement\",\"Provider\",\"_ref20\",\"useEffect\",\"active\",\"context\",\"setTimeout\",\"_state$gl\",\"_state$gl$renderLists\",\"_state$gl2\",\"renderLists\",\"dispose\",\"forceContextLoss\",\"_dispose\",\"_ref\",\"createPortal\",\"children\",\"container\",\"implementation\",\"$$typeof\",\"REACT_PORTAL_TYPE\",\"containerInfo\",\"useFrame\",\"renderPriority\",\"subscribe\",\"useContext\",\"useRef\",\"useLayoutEffect\",\"unsubscribe\",\"useGraph\",\"useMemo\",\"useThree\",\"selector\",\"equalityFn\",\"useStore\",\"extend\",\"addTail\",\"addEffect\",\"addAfterEffect\",\"act\",\"_roots\",\"ReactThreeFiber\",\"Canvas\",\"_zustand\",\"_shallow\",\"_reactReconciler\",\"_scheduler\",\"_reactMergeRefs\",\"_reactUseMeasure\",\"threeTypes\",\"freeze\",\"fun\",\"str\",\"num\",\"und\",\"b\",\"getContainer\",\"child\",\"_container$__r3f$root\",\"_container$__r3f\",\"EMPTY\",\"FILTER\",\"catalogue\",\"createContext\",\"_invalidate\",\"_advance\",\"_props$shadows\",\"shadows\",\"_props$linear\",\"_props$flat\",\"flat\",\"_props$vr\",\"_props$orthographic\",\"orthographic\",\"_props$frameloop\",\"_props$dpr\",\"performance\",\"_props$clock\",\"Clock\",\"raycastOptions\",\"cameraOptions\",\"shadowMap\",\"PCFSoftShadowMap\",\"toneMapping\",\"ACESFilmicToneMapping\",\"outputEncoding\",\"sRGBEncoding\",\"stop\",\"rootState\",\"_setDpr\",\"min\",\"window\",\"devicePixelRatio\",\"getCurrentViewport\",\"defaultTarget\",\"aspect\",\"distance\",\"getWorldPosition\",\"position\",\"distanceTo\",\"isOrthographicCamera\",\"zoom\",\"factor\",\"h\",\"tan\",\"fov\",\"PI\",\"w\",\"Raycaster\",\"_ref10\",\"params\",\"options\",\"isCamera\",\"Camera\",\"OrthographicCamera\",\"PerspectiveCamera\",\"z\",\"lookAt\",\"initialDpr\",\"performanceTimeout\",\"setPerformanceCurrent\",\"runGlobalEffects\",\"Scene\",\"controls\",\"Vector2\",\"debounce\",\"regress\",\"clearTimeout\",\"viewport\",\"_ref11\",\"sort\",\"_ref12\",\"s\",\"_rootState$getState\",\"left\",\"right\",\"top\",\"bottom\",\"updateProjectionMatrix\",\"updateMatrixWorld\",\"setPixelRatio\",\"globalEffects\",\"globalAfterEffects\",\"globalTailEffects\",\"ErrorBoundary\",\"_React$Component\",\"_getPrototypeOf2\",\"_len\",\"_key\",\"self\",\"ReferenceError\",\"_this\",\"componentDidCatch\",\"Component\",\"getDerivedStateFromError\",\"ErrorBoundary.getDerivedStateFromError\",\"forwardRef\",\"_ref18\",\"forwardedRef\",\"fallback\",\"tabIndex\",\"resize\",\"style\",\"className\",\"_useMeasure\",\"scroll\",\"_useMeasure2\",\"containerRef\",\"canvasRef\",\"_React$useState\",\"useState\",\"_React$useState2\",\"block\",\"setBlock\",\"_React$useState3\",\"_React$useState4\",\"setError\",\"Suspense\",\"overflow\",\"display\",\"preload\",\"useLoader.preload\",\"clear\",\"useLoader.clear\",\"_createLoop\",\"createLoop\",\"loop\",\"running\",\"repeat\",\"requestAnimationFrame\",\"_createRenderer\",\"createRenderer\",\"newProps\",\"oldProps\",\"accumulative\",\"_instance$__r3f\",\"_root$getState\",\"_instance$__r3f2\",\"localState\",\"sameProps\",\"newMemoizedProps\",\"_ref3\",\"_ref4\",\"entry\",\"attach\",\"objectKeys\",\"test\",\"leftOvers\",\"toFilter\",\"filteredProps\",\"filteredPropsEntries\",\"unshift\",\"_ref5\",\"_ref6\",\"currentInstance\",\"targetProp\",\"split\",\"_entries$reverse\",\"reverse\",\"_entries$reverse2\",\"reverseEntries\",\"defaultClassCall\",\"copy\",\"Layers\",\"fromArray\",\"_targetProp\",\"isColor\",\"Color\",\"setScalar\",\"mask\",\"convertSRGBToLinear\",\"Texture\",\"encoding\",\"invalidateInstance\",\"raycast\",\"updateInstance\",\"_instance$__r3f3\",\"_instance$__r3f3$root\",\"onUpdate\",\"createInstance\",\"_ref7\",\"hostContext\",\"internalInstanceHandle\",\"_ref7$args\",\"toUpperCase\",\"fn\",\"node\",\"stateNode\",\"isArgsArr\",\"endsWith\",\"appendChild\",\"parentInstance\",\"addedAsChild\",\"attachArray\",\"attachObject\",\"attachFns\",\"attachFn\",\"_child$attachFns\",\"isObject3D\",\"insertBefore\",\"beforeChild\",\"added\",\"array\",\"dispatchEvent\",\"restSiblings\",\"sibling\",\"removeRecursive\",\"removeChild\",\"_child$__r3f2\",\"oldLength\",\"detachFn\",\"_child$attachFns2\",\"_child$__r3f\",\"remove\",\"isInstance\",\"shouldDispose\",\"_child$__r3f3\",\"unstable_runWithPriority\",\"unstable_IdlePriority\",\"switchInstance\",\"newInstance\",\"alternate\",\"now\",\"unstable_now\",\"appendInitialChild\",\"warnsIfNotActing\",\"supportsMutation\",\"isPrimaryRenderer\",\"scheduleTimeout\",\"cancelTimeout\",\"noTimeout\",\"appendChildToContainer\",\"_getContainer\",\"removeChildFromContainer\",\"_getContainer2\",\"insertInContainerBefore\",\"_getContainer3\",\"commitUpdate\",\"updatePayload\",\"_newProps$args\",\"argsNew\",\"restNew\",\"_oldProps$args\",\"argsOld\",\"restOld\",\"hasNewArgs\",\"_ref8\",\"_ref9\",\"val\",\"hideInstance\",\"visible\",\"unhideInstance\",\"hideTextInstance\",\"Error\",\"getPublicInstance\",\"getRootHostContext\",\"rootContainer\",\"getChildHostContext\",\"parentHostContext\",\"createTextInstance\",\"finalizeInitialChildren\",\"commitMount\",\"prepareUpdate\",\"shouldDeprioritizeSubtree\",\"prepareForCommit\",\"preparePortalMount\",\"resetAfterCommit\",\"shouldSetTextContent\",\"clearContainer\",\"injectIntoDevTools\",\"bundleType\",\"rendererPackageName\",\"version\"]\n}\n"]