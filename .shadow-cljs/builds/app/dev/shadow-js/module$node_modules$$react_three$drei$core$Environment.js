["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@react-three/drei/core/Environment.js"],"~:js","shadow$provide.module$node_modules$$react_three$drei$core$Environment=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _getRequireWildcardCache(){if(\"function\"!==typeof WeakMap)return null;var cache=new WeakMap;_getRequireWildcardCache=\nfunction(){return cache};return cache}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.Environment=function(_ref){var _ref$background=_ref.background,background=void 0===_ref$background?!1:_ref$background;_ref$background=_ref.files;_ref$background=void 0===_ref$background?\"/px.png /nx.png /py.png /ny.png /pz.png /nz.png\".split(\" \"):_ref$background;var _ref$path=_ref.path,path=void 0===_ref$path?\"\":_ref$path;_ref$path=_ref.preset;_ref$path=void 0===_ref$path?void 0:_ref$path;var scene=\n_ref.scene,extensions=_ref.extensions;if(_ref$path){if(!(_ref$path in _environmentAssets.presetsObj))throw Error(\"Preset must be one of: \"+Object.keys(_environmentAssets.presetsObj).join(\", \"));_ref$background=_environmentAssets.presetsObj[_ref$path];path=CUBEMAP_ROOT+\"/hdri/\"}var defaultScene=(0,_fiber.useThree)(function(_ref2){return _ref2.scene}),gl=(0,_fiber.useThree)(function(_ref3){return _ref3.gl}),isCubeMap=Array.isArray(_ref$background);_ref=isCubeMap?_three.CubeTextureLoader:_threeStdlib.RGBELoader;\n_ref=(0,_fiber.useLoader)(_ref,isCubeMap?[_ref$background]:_ref$background,function(loader){loader.setPath(path);extensions&&extensions(loader)});var map=isCubeMap?_ref[0]:_ref,texture$jscomp$0=(0,_useAsset.useAsset)(function(){return new Promise(function(res){var gen=new _three.PMREMGenerator(gl);if(isCubeMap){gen.compileEquirectangularShader();var texture=gen.fromCubemap(map).texture}else texture=gen.fromEquirectangular(map).texture;gen.dispose();res(texture)})},map);React.useLayoutEffect(function(){var oldbg=\nscene?scene.background:defaultScene.background,oldenv=scene?scene.environment:defaultScene.environment;scene?(scene.environment=texture$jscomp$0,background&&(scene.background=texture$jscomp$0)):(defaultScene.environment=texture$jscomp$0,background&&(defaultScene.background=texture$jscomp$0));return function(){scene?(scene.environment=oldenv,scene.background=oldbg):(defaultScene.environment=oldenv,defaultScene.background=oldbg);_useAsset.useAsset.clear(map);texture$jscomp$0.dispose()}},[texture$jscomp$0,\nbackground,scene]);return null};var React=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||\"object\"!==_typeof(obj)&&\"function\"!==typeof obj)return{\"default\":obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&\n(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj[\"default\"]=obj;cache&&cache.set(obj,newObj);return newObj}(require(\"module$node_modules$react$index\")),_fiber=require(\"module$node_modules$$react_three$fiber$dist$react_three_fiber_esm\"),_three=require(\"module$node_modules$three$build$three_module\"),_threeStdlib=require(\"module$node_modules$three_stdlib$index\"),_useAsset=require(\"module$node_modules$use_asset$dist$index\"),_environmentAssets=require(\"module$node_modules$$react_three$drei$helpers$environment_assets\"),\nCUBEMAP_ROOT=\"https://rawcdn.githack.com/pmndrs/drei-assets/aa3600359ba664d546d05821bcbca42013587df2\"}","~:source","shadow$provide[\"module$node_modules$$react_three$drei$core$Environment\"] = function(global,require,module,exports) {\n\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Environment = Environment;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _fiber = require(\"@react-three/fiber\");\n\nvar _three = require(\"three\");\n\nvar _threeStdlib = require(\"three-stdlib\");\n\nvar _useAsset = require(\"use-asset\");\n\nvar _environmentAssets = require(\"../helpers/environment-assets.js\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction getTexture(texture, gen, isCubeMap) {\n  if (isCubeMap) {\n    gen.compileEquirectangularShader();\n    return gen.fromCubemap(texture).texture;\n  }\n\n  return gen.fromEquirectangular(texture).texture;\n}\n\nvar CUBEMAP_ROOT = 'https://rawcdn.githack.com/pmndrs/drei-assets/aa3600359ba664d546d05821bcbca42013587df2';\n\nfunction Environment(_ref) {\n  var _ref$background = _ref.background,\n      background = _ref$background === void 0 ? false : _ref$background,\n      _ref$files = _ref.files,\n      files = _ref$files === void 0 ? ['/px.png', '/nx.png', '/py.png', '/ny.png', '/pz.png', '/nz.png'] : _ref$files,\n      _ref$path = _ref.path,\n      path = _ref$path === void 0 ? '' : _ref$path,\n      _ref$preset = _ref.preset,\n      preset = _ref$preset === void 0 ? undefined : _ref$preset,\n      scene = _ref.scene,\n      extensions = _ref.extensions;\n\n  if (preset) {\n    if (!(preset in _environmentAssets.presetsObj)) {\n      throw new Error('Preset must be one of: ' + Object.keys(_environmentAssets.presetsObj).join(', '));\n    }\n\n    files = _environmentAssets.presetsObj[preset];\n    path = CUBEMAP_ROOT + '/hdri/';\n  }\n\n  var defaultScene = (0, _fiber.useThree)(function (_ref2) {\n    var scene = _ref2.scene;\n    return scene;\n  });\n  var gl = (0, _fiber.useThree)(function (_ref3) {\n    var gl = _ref3.gl;\n    return gl;\n  });\n  var isCubeMap = Array.isArray(files);\n  var loader = isCubeMap ? _three.CubeTextureLoader : _threeStdlib.RGBELoader; // @ts-expect-error\n\n  var loaderResult = (0, _fiber.useLoader)(loader, isCubeMap ? [files] : files, function (loader) {\n    loader.setPath(path);\n    if (extensions) extensions(loader);\n  });\n  var map = isCubeMap ? loaderResult[0] : loaderResult; // PMREMGenerator takes its sweet time to generate the env-map,\n  // Let's make this part of suspense, or else it just yields a frame-skip\n\n  var texture = (0, _useAsset.useAsset)(function () {\n    return new Promise(function (res) {\n      var gen = new _three.PMREMGenerator(gl);\n      var texture = getTexture(map, gen, isCubeMap);\n      gen.dispose();\n      res(texture);\n    });\n  }, map);\n  React.useLayoutEffect(function () {\n    var oldbg = scene ? scene.background : defaultScene.background;\n    var oldenv = scene ? scene.environment : defaultScene.environment;\n\n    if (scene) {\n      scene.environment = texture;\n      if (background) scene.background = texture;\n    } else {\n      defaultScene.environment = texture;\n      if (background) defaultScene.background = texture;\n    }\n\n    return function () {\n      if (scene) {\n        scene.environment = oldenv;\n        scene.background = oldbg;\n      } else {\n        defaultScene.environment = oldenv;\n        defaultScene.background = oldbg;\n      } // Environment textures are volatile, better dispose and uncache them\n\n\n      _useAsset.useAsset.clear(map);\n\n      texture.dispose();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [texture, background, scene]);\n  return null;\n}\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$module$node_modules$$react_three$fiber$dist$react_three_fiber_esm","~$module$node_modules$react$index","~$shadow.js","~$module$node_modules$$react_three$drei$helpers$environment_assets","~$module$node_modules$use_asset$dist$index","~$module$node_modules$three_stdlib$index"]],"~:properties",["^5",["__esModule","value","Environment","environment","background"]],"~:compiled-at",1630917516128,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$react_three$drei$core$Environment.js\",\n\"lineCount\":8,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@react-three/drei/core/Environment.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$react_three$drei$core$Environment\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.Environment = Environment;\\n\\nvar React = _interopRequireWildcard(require(\\\"react\\\"));\\n\\nvar _fiber = require(\\\"@react-three/fiber\\\");\\n\\nvar _three = require(\\\"three\\\");\\n\\nvar _threeStdlib = require(\\\"three-stdlib\\\");\\n\\nvar _useAsset = require(\\\"use-asset\\\");\\n\\nvar _environmentAssets = require(\\\"../helpers/environment-assets.js\\\");\\n\\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \\\"function\\\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\\n\\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \\\"object\\\" && typeof obj !== \\\"function\\\") { return { \\\"default\\\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\\\"default\\\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\\n\\nfunction getTexture(texture, gen, isCubeMap) {\\n  if (isCubeMap) {\\n    gen.compileEquirectangularShader();\\n    return gen.fromCubemap(texture).texture;\\n  }\\n\\n  return gen.fromEquirectangular(texture).texture;\\n}\\n\\nvar CUBEMAP_ROOT = 'https://rawcdn.githack.com/pmndrs/drei-assets/aa3600359ba664d546d05821bcbca42013587df2';\\n\\nfunction Environment(_ref) {\\n  var _ref$background = _ref.background,\\n      background = _ref$background === void 0 ? false : _ref$background,\\n      _ref$files = _ref.files,\\n      files = _ref$files === void 0 ? ['/px.png', '/nx.png', '/py.png', '/ny.png', '/pz.png', '/nz.png'] : _ref$files,\\n      _ref$path = _ref.path,\\n      path = _ref$path === void 0 ? '' : _ref$path,\\n      _ref$preset = _ref.preset,\\n      preset = _ref$preset === void 0 ? undefined : _ref$preset,\\n      scene = _ref.scene,\\n      extensions = _ref.extensions;\\n\\n  if (preset) {\\n    if (!(preset in _environmentAssets.presetsObj)) {\\n      throw new Error('Preset must be one of: ' + Object.keys(_environmentAssets.presetsObj).join(', '));\\n    }\\n\\n    files = _environmentAssets.presetsObj[preset];\\n    path = CUBEMAP_ROOT + '/hdri/';\\n  }\\n\\n  var defaultScene = (0, _fiber.useThree)(function (_ref2) {\\n    var scene = _ref2.scene;\\n    return scene;\\n  });\\n  var gl = (0, _fiber.useThree)(function (_ref3) {\\n    var gl = _ref3.gl;\\n    return gl;\\n  });\\n  var isCubeMap = Array.isArray(files);\\n  var loader = isCubeMap ? _three.CubeTextureLoader : _threeStdlib.RGBELoader; // @ts-expect-error\\n\\n  var loaderResult = (0, _fiber.useLoader)(loader, isCubeMap ? [files] : files, function (loader) {\\n    loader.setPath(path);\\n    if (extensions) extensions(loader);\\n  });\\n  var map = isCubeMap ? loaderResult[0] : loaderResult; // PMREMGenerator takes its sweet time to generate the env-map,\\n  // Let's make this part of suspense, or else it just yields a frame-skip\\n\\n  var texture = (0, _useAsset.useAsset)(function () {\\n    return new Promise(function (res) {\\n      var gen = new _three.PMREMGenerator(gl);\\n      var texture = getTexture(map, gen, isCubeMap);\\n      gen.dispose();\\n      res(texture);\\n    });\\n  }, map);\\n  React.useLayoutEffect(function () {\\n    var oldbg = scene ? scene.background : defaultScene.background;\\n    var oldenv = scene ? scene.environment : defaultScene.environment;\\n\\n    if (scene) {\\n      scene.environment = texture;\\n      if (background) scene.background = texture;\\n    } else {\\n      defaultScene.environment = texture;\\n      if (background) defaultScene.background = texture;\\n    }\\n\\n    return function () {\\n      if (scene) {\\n        scene.environment = oldenv;\\n        scene.background = oldbg;\\n      } else {\\n        defaultScene.environment = oldenv;\\n        defaultScene.background = oldbg;\\n      } // Environment textures are volatile, better dispose and uncache them\\n\\n\\n      _useAsset.useAsset.clear(map);\\n\\n      texture.dispose();\\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\\n  }, [texture, background, scene]);\\n  return null;\\n}\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_getRequireWildcardCache\",\"WeakMap\",\"cache\",\"Object\",\"defineProperty\",\"value\",\"Environment\",\"_ref\",\"_ref$background\",\"background\",\"_ref$files\",\"files\",\"_ref$path\",\"path\",\"_ref$preset\",\"preset\",\"undefined\",\"scene\",\"extensions\",\"_environmentAssets\",\"presetsObj\",\"Error\",\"keys\",\"join\",\"CUBEMAP_ROOT\",\"defaultScene\",\"_fiber\",\"useThree\",\"_ref2\",\"gl\",\"_ref3\",\"isCubeMap\",\"Array\",\"isArray\",\"loader\",\"_three\",\"CubeTextureLoader\",\"_threeStdlib\",\"RGBELoader\",\"loaderResult\",\"useLoader\",\"setPath\",\"map\",\"texture\",\"_useAsset\",\"useAsset\",\"Promise\",\"res\",\"gen\",\"PMREMGenerator\",\"compileEquirectangularShader\",\"fromCubemap\",\"fromEquirectangular\",\"dispose\",\"React\",\"useLayoutEffect\",\"oldbg\",\"oldenv\",\"environment\",\"clear\",\"_interopRequireWildcard\",\"__esModule\",\"has\",\"get\",\"newObj\",\"hasPropertyDescriptor\",\"getOwnPropertyDescriptor\",\"key\",\"hasOwnProperty\",\"call\",\"desc\",\"set\"]\n}\n"]