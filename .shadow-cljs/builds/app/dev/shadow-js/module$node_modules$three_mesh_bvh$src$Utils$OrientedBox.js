["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-mesh-bvh/src/Utils/OrientedBox.js"],"~:js","shadow$provide.module$node_modules$three_mesh_bvh$src$Utils$OrientedBox=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=\ndescriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(\"object\"===_typeof(call)||\"function\"===typeof call))return call;if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\nreturn self}function _get(target$jscomp$0,property$jscomp$0,receiver$jscomp$0){_get=\"undefined\"!==typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){for(;!Object.prototype.hasOwnProperty.call(target,property)&&(target=_getPrototypeOf(target),null!==target););if(target)return property=Object.getOwnPropertyDescriptor(target,property),property.get?property.get.call(receiver):property.value};return _get(target$jscomp$0,property$jscomp$0,receiver$jscomp$0||target$jscomp$0)}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=\nObject.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,\np$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.OrientedBox=void 0;var _three=require(\"module$node_modules$three$build$three_module\"),_SeparatingAxisBounds=require(\"module$node_modules$three_mesh_bvh$src$Utils$SeparatingAxisBounds\"),_SeparatingAxisTriangle=require(\"module$node_modules$three_mesh_bvh$src$Utils$SeparatingAxisTriangle\"),_MathUtilities=\nrequire(\"module$node_modules$three_mesh_bvh$src$Utils$MathUtilities\");global=function(_Box){function OrientedBox(){var _getPrototypeOf2;if(!(this instanceof OrientedBox))throw new TypeError(\"Cannot call a class as a function\");var _this=arguments.length;for(var args=Array(_this),_key=0;_key<_this;_key++)args[_key]=arguments[_key];_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(OrientedBox)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.isOrientedBox=!0;_this.matrix=\nnew _three.Matrix4;_this.invMatrix=new _three.Matrix4;_this.points=Array(8).fill().map(function(){return new _three.Vector3});_this.satAxes=Array(3).fill().map(function(){return new _three.Vector3});_this.satBounds=Array(3).fill().map(function(){return new _SeparatingAxisBounds.SeparatingAxisBounds});_this.alignedSatBounds=Array(3).fill().map(function(){return new _SeparatingAxisBounds.SeparatingAxisBounds});_this.sphere=new _three.Sphere;_this.needsUpdate=!1;return _this}_inherits(OrientedBox,_Box);\n_createClass(OrientedBox,[{key:\"set\",value:function(min,max,matrix){_get(_getPrototypeOf(OrientedBox.prototype),\"set\",this).call(this,min,max);this.matrix=matrix;this.needsUpdate=!0}},{key:\"copy\",value:function(other){_get(_getPrototypeOf(OrientedBox.prototype),\"copy\",this).call(this,other);this.matrix.copy(other.matrix);this.needsUpdate=!0}}]);return OrientedBox}(_three.Box3);exports.OrientedBox=global;global.prototype.update=function(){return function(){for(var matrix=this.matrix,min=this.min,max=\nthis.max,points=this.points,x=0;1>=x;x++)for(var y=0;1>=y;y++)for(var z=0;1>=z;z++){var v=points[1*x|2*y|4*z];v.x=x?max.x:min.x;v.y=y?max.y:min.y;v.z=z?max.z:min.z;v.applyMatrix4(matrix)}this.sphere.setFromPoints(this.points);matrix=this.satBounds;min=this.satAxes;max=points[0];for(x=0;3>x;x++)y=min[x],z=matrix[x],y.subVectors(max,points[1<<x]),z.setFromPoints(y,points);matrix=this.alignedSatBounds;matrix[0].setFromPointsField(points,\"x\");matrix[1].setFromPointsField(points,\"y\");matrix[2].setFromPointsField(points,\n\"z\");this.invMatrix.copy(this.matrix).invert();this.needsUpdate=!1}}();global.prototype.intersectsBox=function(){var aabbBounds=new _SeparatingAxisBounds.SeparatingAxisBounds;return function(box){this.needsUpdate&&this.update();if(!box.intersectsSphere(this.sphere))return!1;var min=box.min,max=box.max,satBounds=this.satBounds,satAxes=this.satAxes,alignedSatBounds=this.alignedSatBounds;aabbBounds.min=min.x;aabbBounds.max=max.x;if(alignedSatBounds[0].isSeparated(aabbBounds))return!1;aabbBounds.min=\nmin.y;aabbBounds.max=max.y;if(alignedSatBounds[1].isSeparated(aabbBounds))return!1;aabbBounds.min=min.z;aabbBounds.max=max.z;if(alignedSatBounds[2].isSeparated(aabbBounds))return!1;for(min=0;3>min;min++)if(max=satBounds[min],aabbBounds.setFromBox(satAxes[min],box),max.isSeparated(aabbBounds))return!1;return!0}}();global.prototype.intersectsTriangle=function(){var saTri=new _SeparatingAxisTriangle.SeparatingAxisTriangle,pointsArr=Array(3),cachedSatBounds=new _SeparatingAxisBounds.SeparatingAxisBounds,\ncachedSatBounds2=new _SeparatingAxisBounds.SeparatingAxisBounds,cachedAxis=new _three.Vector3;return function(triangle){this.needsUpdate&&this.update();triangle.isSeparatingAxisTriangle?triangle.needsUpdate&&triangle.update():(saTri.copy(triangle),saTri.update(),triangle=saTri);var satBounds=this.satBounds,satAxes=this.satAxes;pointsArr[0]=triangle.a;pointsArr[1]=triangle.b;pointsArr[2]=triangle.c;for(var i=0;3>i;i++){var sb=satBounds[i];cachedSatBounds.setFromPoints(satAxes[i],pointsArr);if(sb.isSeparated(cachedSatBounds))return!1}i=\ntriangle.satBounds;triangle=triangle.satAxes;satBounds=this.points;for(sb=0;3>sb;sb++){var _sb=i[sb];cachedSatBounds.setFromPoints(triangle[sb],satBounds);if(_sb.isSeparated(cachedSatBounds))return!1}for(i=0;3>i;i++)for(sb=satAxes[i],_sb=0;4>_sb;_sb++)if(cachedAxis.crossVectors(sb,triangle[_sb]),cachedSatBounds.setFromPoints(cachedAxis,pointsArr),cachedSatBounds2.setFromPoints(cachedAxis,satBounds),cachedSatBounds.isSeparated(cachedSatBounds2))return!1;return!0}}();global.prototype.closestPointToPoint=\nfunction(){return function(point,target1){this.needsUpdate&&this.update();target1.copy(point).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix);return target1}}();global.prototype.distanceToPoint=function(){var target=new _three.Vector3;return function(point){this.closestPointToPoint(point,target);return point.distanceTo(target)}}();global.prototype.distanceToBox=function(){var xyzFields=[\"x\",\"y\",\"z\"],segments1=Array(12).fill().map(function(){return new _three.Line3}),\nsegments2=Array(12).fill().map(function(){return new _three.Line3}),point1=new _three.Vector3,point2=new _three.Vector3;return function(box){var threshold=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,target1=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,target2=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this.needsUpdate&&this.update();if(this.intersectsBox(box)){if(target1||target2)box.getCenter(point2),this.closestPointToPoint(point2,point1),box.closestPointToPoint(point1,\npoint2),target1&&target1.copy(point1),target2&&target2.copy(point2);return 0}threshold*=threshold;for(var min=box.min,max=box.max,points=this.points,closestDistanceSq=Infinity,i=0;8>i;i++){var p=points[i];point2.copy(p).clamp(min,max);var dist=p.distanceToSquared(point2);if(dist<closestDistanceSq&&(closestDistanceSq=dist,target1&&target1.copy(p),target2&&target2.copy(point2),dist<threshold))return Math.sqrt(dist)}for(p=i=0;3>p;p++)for(dist=0;1>=dist;dist++)for(var i2=0;1>=i2;i2++){var nextIndex=(p+\n1)%3,nextIndex2=(p+2)%3;segments1[i].set(points[dist<<nextIndex|i2<<nextIndex2],points[1<<p|dist<<nextIndex|i2<<nextIndex2]);var f1=xyzFields[p];nextIndex=xyzFields[nextIndex];nextIndex2=xyzFields[nextIndex2];var line2=segments2[i],start=line2.start;line2=line2.end;start[f1]=min[f1];start[nextIndex]=dist?min[nextIndex]:max[nextIndex];start[nextIndex2]=i2?min[nextIndex2]:max[nextIndex];line2[f1]=max[f1];line2[nextIndex]=dist?min[nextIndex]:max[nextIndex];line2[nextIndex2]=i2?min[nextIndex2]:max[nextIndex];\ni++}for(points=0;1>=points;points++)for(i=0;1>=i;i++)for(p=0;1>=p;p++)if(point2.x=points?max.x:min.x,point2.y=i?max.y:min.y,point2.z=p?max.z:min.z,this.closestPointToPoint(point2,point1),dist=point2.distanceToSquared(point1),dist<closestDistanceSq&&(closestDistanceSq=dist,target1&&target1.copy(point1),target2&&target2.copy(point2),dist<threshold))return Math.sqrt(dist);for(min=0;12>min;min++)for(max=segments1[min],points=0;12>points;points++)if(i=segments2[points],(0,_MathUtilities.closestPointsSegmentToSegment)(max,\ni,point1,point2),i=point1.distanceToSquared(point2),i<closestDistanceSq&&(closestDistanceSq=i,target1&&target1.copy(point1),target2&&target2.copy(point2),i<threshold))return Math.sqrt(i);return Math.sqrt(closestDistanceSq)}}()}","~:source","shadow$provide[\"module$node_modules$three_mesh_bvh$src$Utils$OrientedBox\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OrientedBox = void 0;\n\nvar _three = require(\"three\");\n\nvar _SeparatingAxisBounds = require(\"./SeparatingAxisBounds.js\");\n\nvar _SeparatingAxisTriangle = require(\"./SeparatingAxisTriangle.js\");\n\nvar _MathUtilities = require(\"./MathUtilities.js\");\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar OrientedBox =\n/*#__PURE__*/\nfunction (_Box) {\n  _inherits(OrientedBox, _Box);\n\n  function OrientedBox() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, OrientedBox);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(OrientedBox)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.isOrientedBox = true;\n    _this.matrix = new _three.Matrix4();\n    _this.invMatrix = new _three.Matrix4();\n    _this.points = new Array(8).fill().map(function () {\n      return new _three.Vector3();\n    });\n    _this.satAxes = new Array(3).fill().map(function () {\n      return new _three.Vector3();\n    });\n    _this.satBounds = new Array(3).fill().map(function () {\n      return new _SeparatingAxisBounds.SeparatingAxisBounds();\n    });\n    _this.alignedSatBounds = new Array(3).fill().map(function () {\n      return new _SeparatingAxisBounds.SeparatingAxisBounds();\n    });\n    _this.sphere = new _three.Sphere();\n    _this.needsUpdate = false;\n    return _this;\n  }\n\n  _createClass(OrientedBox, [{\n    key: \"set\",\n    value: function set(min, max, matrix) {\n      _get(_getPrototypeOf(OrientedBox.prototype), \"set\", this).call(this, min, max);\n\n      this.matrix = matrix;\n      this.needsUpdate = true;\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(other) {\n      _get(_getPrototypeOf(OrientedBox.prototype), \"copy\", this).call(this, other);\n\n      this.matrix.copy(other.matrix);\n      this.needsUpdate = true;\n    }\n  }]);\n\n  return OrientedBox;\n}(_three.Box3);\n\nexports.OrientedBox = OrientedBox;\n\nOrientedBox.prototype.update = function () {\n  return function update() {\n    var matrix = this.matrix;\n    var min = this.min;\n    var max = this.max;\n    var points = this.points;\n\n    for (var x = 0; x <= 1; x++) {\n      for (var y = 0; y <= 1; y++) {\n        for (var z = 0; z <= 1; z++) {\n          var i = (1 << 0) * x | (1 << 1) * y | (1 << 2) * z;\n          var v = points[i];\n          v.x = x ? max.x : min.x;\n          v.y = y ? max.y : min.y;\n          v.z = z ? max.z : min.z;\n          v.applyMatrix4(matrix);\n        }\n      }\n    }\n\n    this.sphere.setFromPoints(this.points);\n    var satBounds = this.satBounds;\n    var satAxes = this.satAxes;\n    var minVec = points[0];\n\n    for (var _i = 0; _i < 3; _i++) {\n      var axis = satAxes[_i];\n      var sb = satBounds[_i];\n      var index = 1 << _i;\n      var pi = points[index];\n      axis.subVectors(minVec, pi);\n      sb.setFromPoints(axis, points);\n    }\n\n    var alignedSatBounds = this.alignedSatBounds;\n    alignedSatBounds[0].setFromPointsField(points, 'x');\n    alignedSatBounds[1].setFromPointsField(points, 'y');\n    alignedSatBounds[2].setFromPointsField(points, 'z');\n    this.invMatrix.copy(this.matrix).invert();\n    this.needsUpdate = false;\n  };\n}();\n\nOrientedBox.prototype.intersectsBox = function () {\n  var aabbBounds = new _SeparatingAxisBounds.SeparatingAxisBounds();\n  return function intersectsBox(box) {\n    if (this.needsUpdate) {\n      this.update();\n    }\n\n    if (!box.intersectsSphere(this.sphere)) return false;\n    var min = box.min;\n    var max = box.max;\n    var satBounds = this.satBounds;\n    var satAxes = this.satAxes;\n    var alignedSatBounds = this.alignedSatBounds;\n    aabbBounds.min = min.x;\n    aabbBounds.max = max.x;\n    if (alignedSatBounds[0].isSeparated(aabbBounds)) return false;\n    aabbBounds.min = min.y;\n    aabbBounds.max = max.y;\n    if (alignedSatBounds[1].isSeparated(aabbBounds)) return false;\n    aabbBounds.min = min.z;\n    aabbBounds.max = max.z;\n    if (alignedSatBounds[2].isSeparated(aabbBounds)) return false;\n\n    for (var i = 0; i < 3; i++) {\n      var axis = satAxes[i];\n      var sb = satBounds[i];\n      aabbBounds.setFromBox(axis, box);\n      if (sb.isSeparated(aabbBounds)) return false;\n    }\n\n    return true;\n  };\n}();\n\nOrientedBox.prototype.intersectsTriangle = function () {\n  var saTri = new _SeparatingAxisTriangle.SeparatingAxisTriangle();\n  var pointsArr = new Array(3);\n  var cachedSatBounds = new _SeparatingAxisBounds.SeparatingAxisBounds();\n  var cachedSatBounds2 = new _SeparatingAxisBounds.SeparatingAxisBounds();\n  var cachedAxis = new _three.Vector3();\n  return function intersectsTriangle(triangle) {\n    if (this.needsUpdate) {\n      this.update();\n    }\n\n    if (!triangle.isSeparatingAxisTriangle) {\n      saTri.copy(triangle);\n      saTri.update();\n      triangle = saTri;\n    } else if (triangle.needsUpdate) {\n      triangle.update();\n    }\n\n    var satBounds = this.satBounds;\n    var satAxes = this.satAxes;\n    pointsArr[0] = triangle.a;\n    pointsArr[1] = triangle.b;\n    pointsArr[2] = triangle.c;\n\n    for (var i = 0; i < 3; i++) {\n      var sb = satBounds[i];\n      var sa = satAxes[i];\n      cachedSatBounds.setFromPoints(sa, pointsArr);\n      if (sb.isSeparated(cachedSatBounds)) return false;\n    }\n\n    var triSatBounds = triangle.satBounds;\n    var triSatAxes = triangle.satAxes;\n    var points = this.points;\n\n    for (var _i2 = 0; _i2 < 3; _i2++) {\n      var _sb = triSatBounds[_i2];\n      var _sa = triSatAxes[_i2];\n      cachedSatBounds.setFromPoints(_sa, points);\n      if (_sb.isSeparated(cachedSatBounds)) return false;\n    } // check crossed axes\n\n\n    for (var _i3 = 0; _i3 < 3; _i3++) {\n      var sa1 = satAxes[_i3];\n\n      for (var i2 = 0; i2 < 4; i2++) {\n        var sa2 = triSatAxes[i2];\n        cachedAxis.crossVectors(sa1, sa2);\n        cachedSatBounds.setFromPoints(cachedAxis, pointsArr);\n        cachedSatBounds2.setFromPoints(cachedAxis, points);\n        if (cachedSatBounds.isSeparated(cachedSatBounds2)) return false;\n      }\n    }\n\n    return true;\n  };\n}();\n\nOrientedBox.prototype.closestPointToPoint = function () {\n  return function closestPointToPoint(point, target1) {\n    if (this.needsUpdate) {\n      this.update();\n    }\n\n    target1.copy(point).applyMatrix4(this.invMatrix).clamp(this.min, this.max).applyMatrix4(this.matrix);\n    return target1;\n  };\n}();\n\nOrientedBox.prototype.distanceToPoint = function () {\n  var target = new _three.Vector3();\n  return function distanceToPoint(point) {\n    this.closestPointToPoint(point, target);\n    return point.distanceTo(target);\n  };\n}();\n\nOrientedBox.prototype.distanceToBox = function () {\n  var xyzFields = ['x', 'y', 'z'];\n  var segments1 = new Array(12).fill().map(function () {\n    return new _three.Line3();\n  });\n  var segments2 = new Array(12).fill().map(function () {\n    return new _three.Line3();\n  });\n  var point1 = new _three.Vector3();\n  var point2 = new _three.Vector3(); // early out if we find a value below threshold\n\n  return function distanceToBox(box) {\n    var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var target1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var target2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    if (this.needsUpdate) {\n      this.update();\n    }\n\n    if (this.intersectsBox(box)) {\n      if (target1 || target2) {\n        box.getCenter(point2);\n        this.closestPointToPoint(point2, point1);\n        box.closestPointToPoint(point1, point2);\n        if (target1) target1.copy(point1);\n        if (target2) target2.copy(point2);\n      }\n\n      return 0;\n    }\n\n    var threshold2 = threshold * threshold;\n    var min = box.min;\n    var max = box.max;\n    var points = this.points; // iterate over every edge and compare distances\n\n    var closestDistanceSq = Infinity; // check over all these points\n\n    for (var i = 0; i < 8; i++) {\n      var p = points[i];\n      point2.copy(p).clamp(min, max);\n      var dist = p.distanceToSquared(point2);\n\n      if (dist < closestDistanceSq) {\n        closestDistanceSq = dist;\n        if (target1) target1.copy(p);\n        if (target2) target2.copy(point2);\n        if (dist < threshold2) return Math.sqrt(dist);\n      }\n    } // generate and check all line segment distances\n\n\n    var count = 0;\n\n    for (var _i4 = 0; _i4 < 3; _i4++) {\n      for (var i1 = 0; i1 <= 1; i1++) {\n        for (var i2 = 0; i2 <= 1; i2++) {\n          var nextIndex = (_i4 + 1) % 3;\n          var nextIndex2 = (_i4 + 2) % 3; // get obb line segments\n\n          var index = i1 << nextIndex | i2 << nextIndex2;\n          var index2 = 1 << _i4 | i1 << nextIndex | i2 << nextIndex2;\n          var p1 = points[index];\n          var p2 = points[index2];\n          var line1 = segments1[count];\n          line1.set(p1, p2); // get aabb line segments\n\n          var f1 = xyzFields[_i4];\n          var f2 = xyzFields[nextIndex];\n          var f3 = xyzFields[nextIndex2];\n          var line2 = segments2[count];\n          var start = line2.start;\n          var end = line2.end;\n          start[f1] = min[f1];\n          start[f2] = i1 ? min[f2] : max[f2];\n          start[f3] = i2 ? min[f3] : max[f2];\n          end[f1] = max[f1];\n          end[f2] = i1 ? min[f2] : max[f2];\n          end[f3] = i2 ? min[f3] : max[f2];\n          count++;\n        }\n      }\n    } // check all the other boxes point\n\n\n    for (var x = 0; x <= 1; x++) {\n      for (var y = 0; y <= 1; y++) {\n        for (var z = 0; z <= 1; z++) {\n          point2.x = x ? max.x : min.x;\n          point2.y = y ? max.y : min.y;\n          point2.z = z ? max.z : min.z;\n          this.closestPointToPoint(point2, point1);\n\n          var _dist = point2.distanceToSquared(point1);\n\n          if (_dist < closestDistanceSq) {\n            closestDistanceSq = _dist;\n            if (target1) target1.copy(point1);\n            if (target2) target2.copy(point2);\n            if (_dist < threshold2) return Math.sqrt(_dist);\n          }\n        }\n      }\n    }\n\n    for (var _i5 = 0; _i5 < 12; _i5++) {\n      var l1 = segments1[_i5];\n\n      for (var _i6 = 0; _i6 < 12; _i6++) {\n        var l2 = segments2[_i6];\n        (0, _MathUtilities.closestPointsSegmentToSegment)(l1, l2, point1, point2);\n\n        var _dist2 = point1.distanceToSquared(point2);\n\n        if (_dist2 < closestDistanceSq) {\n          closestDistanceSq = _dist2;\n          if (target1) target1.copy(point1);\n          if (target2) target2.copy(point2);\n          if (_dist2 < threshold2) return Math.sqrt(_dist2);\n        }\n      }\n    }\n\n    return Math.sqrt(closestDistanceSq);\n  };\n}();\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$module$node_modules$three_mesh_bvh$src$Utils$MathUtilities","~$module$node_modules$three_mesh_bvh$src$Utils$SeparatingAxisBounds","~$shadow.js","~$module$node_modules$three_mesh_bvh$src$Utils$SeparatingAxisTriangle"]],"~:properties",["^5",["z","min","intersectsTriangle","needsUpdate","prototype","satBounds","alignedSatBounds","distanceToPoint","invMatrix","points","key","matrix","x","__esModule","max","satAxes","update","configurable","value","enumerable","OrientedBox","writable","y","distanceToBox","__proto__","sphere","intersectsBox","closestPointToPoint","constructor","isOrientedBox"]],"~:compiled-at",1630917516180,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_mesh_bvh$src$Utils$OrientedBox.js\",\n\"lineCount\":19,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-mesh-bvh/src/Utils/OrientedBox.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_mesh_bvh$src$Utils$OrientedBox\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.OrientedBox = void 0;\\n\\nvar _three = require(\\\"three\\\");\\n\\nvar _SeparatingAxisBounds = require(\\\"./SeparatingAxisBounds.js\\\");\\n\\nvar _SeparatingAxisTriangle = require(\\\"./SeparatingAxisTriangle.js\\\");\\n\\nvar _MathUtilities = require(\\\"./MathUtilities.js\\\");\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _get(target, property, receiver) { if (typeof Reflect !== \\\"undefined\\\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\\n\\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\nvar OrientedBox =\\n/*#__PURE__*/\\nfunction (_Box) {\\n  _inherits(OrientedBox, _Box);\\n\\n  function OrientedBox() {\\n    var _getPrototypeOf2;\\n\\n    var _this;\\n\\n    _classCallCheck(this, OrientedBox);\\n\\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\\n      args[_key] = arguments[_key];\\n    }\\n\\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(OrientedBox)).call.apply(_getPrototypeOf2, [this].concat(args)));\\n    _this.isOrientedBox = true;\\n    _this.matrix = new _three.Matrix4();\\n    _this.invMatrix = new _three.Matrix4();\\n    _this.points = new Array(8).fill().map(function () {\\n      return new _three.Vector3();\\n    });\\n    _this.satAxes = new Array(3).fill().map(function () {\\n      return new _three.Vector3();\\n    });\\n    _this.satBounds = new Array(3).fill().map(function () {\\n      return new _SeparatingAxisBounds.SeparatingAxisBounds();\\n    });\\n    _this.alignedSatBounds = new Array(3).fill().map(function () {\\n      return new _SeparatingAxisBounds.SeparatingAxisBounds();\\n    });\\n    _this.sphere = new _three.Sphere();\\n    _this.needsUpdate = false;\\n    return _this;\\n  }\\n\\n  _createClass(OrientedBox, [{\\n    key: \\\"set\\\",\\n    value: function set(min, max, matrix) {\\n      _get(_getPrototypeOf(OrientedBox.prototype), \\\"set\\\", this).call(this, min, max);\\n\\n      this.matrix = matrix;\\n      this.needsUpdate = true;\\n    }\\n  }, {\\n    key: \\\"copy\\\",\\n    value: function copy(other) {\\n      _get(_getPrototypeOf(OrientedBox.prototype), \\\"copy\\\", this).call(this, other);\\n\\n      this.matrix.copy(other.matrix);\\n      this.needsUpdate = true;\\n    }\\n  }]);\\n\\n  return OrientedBox;\\n}(_three.Box3);\\n\\nexports.OrientedBox = OrientedBox;\\n\\nOrientedBox.prototype.update = function () {\\n  return function update() {\\n    var matrix = this.matrix;\\n    var min = this.min;\\n    var max = this.max;\\n    var points = this.points;\\n\\n    for (var x = 0; x <= 1; x++) {\\n      for (var y = 0; y <= 1; y++) {\\n        for (var z = 0; z <= 1; z++) {\\n          var i = (1 << 0) * x | (1 << 1) * y | (1 << 2) * z;\\n          var v = points[i];\\n          v.x = x ? max.x : min.x;\\n          v.y = y ? max.y : min.y;\\n          v.z = z ? max.z : min.z;\\n          v.applyMatrix4(matrix);\\n        }\\n      }\\n    }\\n\\n    this.sphere.setFromPoints(this.points);\\n    var satBounds = this.satBounds;\\n    var satAxes = this.satAxes;\\n    var minVec = points[0];\\n\\n    for (var _i = 0; _i < 3; _i++) {\\n      var axis = satAxes[_i];\\n      var sb = satBounds[_i];\\n      var index = 1 << _i;\\n      var pi = points[index];\\n      axis.subVectors(minVec, pi);\\n      sb.setFromPoints(axis, points);\\n    }\\n\\n    var alignedSatBounds = this.alignedSatBounds;\\n    alignedSatBounds[0].setFromPointsField(points, 'x');\\n    alignedSatBounds[1].setFromPointsField(points, 'y');\\n    alignedSatBounds[2].setFromPointsField(points, 'z');\\n    this.invMatrix.copy(this.matrix).invert();\\n    this.needsUpdate = false;\\n  };\\n}();\\n\\nOrientedBox.prototype.intersectsBox = function () {\\n  var aabbBounds = new _SeparatingAxisBounds.SeparatingAxisBounds();\\n  return function intersectsBox(box) {\\n    if (this.needsUpdate) {\\n      this.update();\\n    }\\n\\n    if (!box.intersectsSphere(this.sphere)) return false;\\n    var min = box.min;\\n    var max = box.max;\\n    var satBounds = this.satBounds;\\n    var satAxes = this.satAxes;\\n    var alignedSatBounds = this.alignedSatBounds;\\n    aabbBounds.min = min.x;\\n    aabbBounds.max = max.x;\\n    if (alignedSatBounds[0].isSeparated(aabbBounds)) return false;\\n    aabbBounds.min = min.y;\\n    aabbBounds.max = max.y;\\n    if (alignedSatBounds[1].isSeparated(aabbBounds)) return false;\\n    aabbBounds.min = min.z;\\n    aabbBounds.max = max.z;\\n    if (alignedSatBounds[2].isSeparated(aabbBounds)) return false;\\n\\n    for (var i = 0; i < 3; i++) {\\n      var axis = satAxes[i];\\n      var sb = satBounds[i];\\n      aabbBounds.setFromBox(axis, box);\\n      if (sb.isSeparated(aabbBounds)) return false;\\n    }\\n\\n    return true;\\n  };\\n}();\\n\\nOrientedBox.prototype.intersectsTriangle = function () {\\n  var saTri = new _SeparatingAxisTriangle.SeparatingAxisTriangle();\\n  var pointsArr = new Array(3);\\n  var cachedSatBounds = new _SeparatingAxisBounds.SeparatingAxisBounds();\\n  var cachedSatBounds2 = new _SeparatingAxisBounds.SeparatingAxisBounds();\\n  var cachedAxis = new _three.Vector3();\\n  return function intersectsTriangle(triangle) {\\n    if (this.needsUpdate) {\\n      this.update();\\n    }\\n\\n    if (!triangle.isSeparatingAxisTriangle) {\\n      saTri.copy(triangle);\\n      saTri.update();\\n      triangle = saTri;\\n    } else if (triangle.needsUpdate) {\\n      triangle.update();\\n    }\\n\\n    var satBounds = this.satBounds;\\n    var satAxes = this.satAxes;\\n    pointsArr[0] = triangle.a;\\n    pointsArr[1] = triangle.b;\\n    pointsArr[2] = triangle.c;\\n\\n    for (var i = 0; i < 3; i++) {\\n      var sb = satBounds[i];\\n      var sa = satAxes[i];\\n      cachedSatBounds.setFromPoints(sa, pointsArr);\\n      if (sb.isSeparated(cachedSatBounds)) return false;\\n    }\\n\\n    var triSatBounds = triangle.satBounds;\\n    var triSatAxes = triangle.satAxes;\\n    var points = this.points;\\n\\n    for (var _i2 = 0; _i2 < 3; _i2++) {\\n      var _sb = triSatBounds[_i2];\\n      var _sa = triSatAxes[_i2];\\n      cachedSatBounds.setFromPoints(_sa, points);\\n      if (_sb.isSeparated(cachedSatBounds)) return false;\\n    } // check crossed axes\\n\\n\\n    for (var _i3 = 0; _i3 < 3; _i3++) {\\n      var sa1 = satAxes[_i3];\\n\\n      for (var i2 = 0; i2 < 4; i2++) {\\n        var sa2 = triSatAxes[i2];\\n        cachedAxis.crossVectors(sa1, sa2);\\n        cachedSatBounds.setFromPoints(cachedAxis, pointsArr);\\n        cachedSatBounds2.setFromPoints(cachedAxis, points);\\n        if (cachedSatBounds.isSeparated(cachedSatBounds2)) return false;\\n      }\\n    }\\n\\n    return true;\\n  };\\n}();\\n\\nOrientedBox.prototype.closestPointToPoint = function () {\\n  return function closestPointToPoint(point, target1) {\\n    if (this.needsUpdate) {\\n      this.update();\\n    }\\n\\n    target1.copy(point).applyMatrix4(this.invMatrix).clamp(this.min, this.max).applyMatrix4(this.matrix);\\n    return target1;\\n  };\\n}();\\n\\nOrientedBox.prototype.distanceToPoint = function () {\\n  var target = new _three.Vector3();\\n  return function distanceToPoint(point) {\\n    this.closestPointToPoint(point, target);\\n    return point.distanceTo(target);\\n  };\\n}();\\n\\nOrientedBox.prototype.distanceToBox = function () {\\n  var xyzFields = ['x', 'y', 'z'];\\n  var segments1 = new Array(12).fill().map(function () {\\n    return new _three.Line3();\\n  });\\n  var segments2 = new Array(12).fill().map(function () {\\n    return new _three.Line3();\\n  });\\n  var point1 = new _three.Vector3();\\n  var point2 = new _three.Vector3(); // early out if we find a value below threshold\\n\\n  return function distanceToBox(box) {\\n    var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\\n    var target1 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\\n    var target2 = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\\n\\n    if (this.needsUpdate) {\\n      this.update();\\n    }\\n\\n    if (this.intersectsBox(box)) {\\n      if (target1 || target2) {\\n        box.getCenter(point2);\\n        this.closestPointToPoint(point2, point1);\\n        box.closestPointToPoint(point1, point2);\\n        if (target1) target1.copy(point1);\\n        if (target2) target2.copy(point2);\\n      }\\n\\n      return 0;\\n    }\\n\\n    var threshold2 = threshold * threshold;\\n    var min = box.min;\\n    var max = box.max;\\n    var points = this.points; // iterate over every edge and compare distances\\n\\n    var closestDistanceSq = Infinity; // check over all these points\\n\\n    for (var i = 0; i < 8; i++) {\\n      var p = points[i];\\n      point2.copy(p).clamp(min, max);\\n      var dist = p.distanceToSquared(point2);\\n\\n      if (dist < closestDistanceSq) {\\n        closestDistanceSq = dist;\\n        if (target1) target1.copy(p);\\n        if (target2) target2.copy(point2);\\n        if (dist < threshold2) return Math.sqrt(dist);\\n      }\\n    } // generate and check all line segment distances\\n\\n\\n    var count = 0;\\n\\n    for (var _i4 = 0; _i4 < 3; _i4++) {\\n      for (var i1 = 0; i1 <= 1; i1++) {\\n        for (var i2 = 0; i2 <= 1; i2++) {\\n          var nextIndex = (_i4 + 1) % 3;\\n          var nextIndex2 = (_i4 + 2) % 3; // get obb line segments\\n\\n          var index = i1 << nextIndex | i2 << nextIndex2;\\n          var index2 = 1 << _i4 | i1 << nextIndex | i2 << nextIndex2;\\n          var p1 = points[index];\\n          var p2 = points[index2];\\n          var line1 = segments1[count];\\n          line1.set(p1, p2); // get aabb line segments\\n\\n          var f1 = xyzFields[_i4];\\n          var f2 = xyzFields[nextIndex];\\n          var f3 = xyzFields[nextIndex2];\\n          var line2 = segments2[count];\\n          var start = line2.start;\\n          var end = line2.end;\\n          start[f1] = min[f1];\\n          start[f2] = i1 ? min[f2] : max[f2];\\n          start[f3] = i2 ? min[f3] : max[f2];\\n          end[f1] = max[f1];\\n          end[f2] = i1 ? min[f2] : max[f2];\\n          end[f3] = i2 ? min[f3] : max[f2];\\n          count++;\\n        }\\n      }\\n    } // check all the other boxes point\\n\\n\\n    for (var x = 0; x <= 1; x++) {\\n      for (var y = 0; y <= 1; y++) {\\n        for (var z = 0; z <= 1; z++) {\\n          point2.x = x ? max.x : min.x;\\n          point2.y = y ? max.y : min.y;\\n          point2.z = z ? max.z : min.z;\\n          this.closestPointToPoint(point2, point1);\\n\\n          var _dist = point2.distanceToSquared(point1);\\n\\n          if (_dist < closestDistanceSq) {\\n            closestDistanceSq = _dist;\\n            if (target1) target1.copy(point1);\\n            if (target2) target2.copy(point2);\\n            if (_dist < threshold2) return Math.sqrt(_dist);\\n          }\\n        }\\n      }\\n    }\\n\\n    for (var _i5 = 0; _i5 < 12; _i5++) {\\n      var l1 = segments1[_i5];\\n\\n      for (var _i6 = 0; _i6 < 12; _i6++) {\\n        var l2 = segments2[_i6];\\n        (0, _MathUtilities.closestPointsSegmentToSegment)(l1, l2, point1, point2);\\n\\n        var _dist2 = point1.distanceToSquared(point2);\\n\\n        if (_dist2 < closestDistanceSq) {\\n          closestDistanceSq = _dist2;\\n          if (target1) target1.copy(point1);\\n          if (target2) target2.copy(point2);\\n          if (_dist2 < threshold2) return Math.sqrt(_dist2);\\n        }\\n      }\\n    }\\n\\n    return Math.sqrt(closestDistanceSq);\\n  };\\n}();\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"Object\",\"defineProperty\",\"key\",\"_createClass\",\"Constructor\",\"protoProps\",\"staticProps\",\"_possibleConstructorReturn\",\"self\",\"call\",\"ReferenceError\",\"_get\",\"property\",\"receiver\",\"Reflect\",\"get\",\"hasOwnProperty\",\"object\",\"_getPrototypeOf\",\"base\",\"desc\",\"getOwnPropertyDescriptor\",\"value\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_inherits\",\"subClass\",\"superClass\",\"TypeError\",\"create\",\"_setPrototypeOf\",\"p\",\"OrientedBox\",\"_three\",\"_SeparatingAxisBounds\",\"_SeparatingAxisTriangle\",\"_MathUtilities\",\"_Box\",\"_getPrototypeOf2\",\"instance\",\"_len\",\"arguments\",\"args\",\"Array\",\"_key\",\"_this\",\"apply\",\"concat\",\"isOrientedBox\",\"matrix\",\"Matrix4\",\"invMatrix\",\"points\",\"fill\",\"map\",\"Vector3\",\"satAxes\",\"satBounds\",\"SeparatingAxisBounds\",\"alignedSatBounds\",\"sphere\",\"Sphere\",\"needsUpdate\",\"set\",\"min\",\"max\",\"copy\",\"other\",\"Box3\",\"update\",\"x\",\"y\",\"z\",\"v\",\"applyMatrix4\",\"setFromPoints\",\"minVec\",\"_i\",\"axis\",\"sb\",\"subVectors\",\"pi\",\"setFromPointsField\",\"invert\",\"intersectsBox\",\"aabbBounds\",\"box\",\"intersectsSphere\",\"isSeparated\",\"setFromBox\",\"intersectsTriangle\",\"saTri\",\"SeparatingAxisTriangle\",\"pointsArr\",\"cachedSatBounds\",\"cachedSatBounds2\",\"cachedAxis\",\"triangle\",\"isSeparatingAxisTriangle\",\"a\",\"b\",\"c\",\"sa\",\"triSatBounds\",\"triSatAxes\",\"_i2\",\"_sb\",\"_sa\",\"_i3\",\"sa1\",\"i2\",\"crossVectors\",\"sa2\",\"closestPointToPoint\",\"point\",\"target1\",\"clamp\",\"distanceToPoint\",\"distanceTo\",\"distanceToBox\",\"xyzFields\",\"segments1\",\"Line3\",\"segments2\",\"point1\",\"point2\",\"threshold\",\"undefined\",\"target2\",\"getCenter\",\"threshold2\",\"closestDistanceSq\",\"Infinity\",\"dist\",\"distanceToSquared\",\"Math\",\"sqrt\",\"_i4\",\"count\",\"i1\",\"nextIndex\",\"nextIndex2\",\"line1\",\"p1\",\"p2\",\"f1\",\"f2\",\"f3\",\"line2\",\"start\",\"end\",\"_dist\",\"_i5\",\"l1\",\"_i6\",\"l2\",\"closestPointsSegmentToSegment\",\"_dist2\"]\n}\n"]