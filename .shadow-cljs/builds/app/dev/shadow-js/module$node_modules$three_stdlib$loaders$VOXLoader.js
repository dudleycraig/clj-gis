["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/loaders/VOXLoader.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$loaders$VOXLoader=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\");\n}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,\ncall){if(call&&(\"object\"===_typeof(call)||\"function\"===typeof call))return call;if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");\nsubClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.VOXMesh=exports.VOXLoader=exports.VOXDataTexture3D=void 0;var _three=require(\"module$node_modules$three$build$three_module\");\nglobal=function(_Loader){function VOXLoader(){_classCallCheck(this,VOXLoader);return _possibleConstructorReturn(this,_getPrototypeOf(VOXLoader).apply(this,arguments))}_inherits(VOXLoader,_Loader);_createClass(VOXLoader,[{key:\"load\",value:function(url,onLoad,onProgress,onError){var scope=this,loader=new _three.FileLoader(scope.manager);loader.setPath(scope.path);loader.setResponseType(\"arraybuffer\");loader.setRequestHeader(scope.requestHeader);loader.load(url,function(buffer){try{onLoad(scope.parse(buffer))}catch(e){onError?\nonError(e):console.error(e),scope.manager.itemError(url)}},onProgress,onError)}},{key:\"parse\",value:function(buffer){var data=new DataView(buffer),id=data.getUint32(0,!0),version=data.getUint32(4,!0);if(542658390!==id||150!==version)console.error(\"Not a valid VOX file\");else{id=[0,4294967295,4291624959,4288282623,4284940287,4281597951,4278255615,4294954239,4291611903,4288269567,4284927231,4281584895,4278242559,4294941183,4291598847,4288256511,4284914175,4281571839,4278229503,4294928127,4291585791,\n4288243455,4284901119,4281558783,4278216447,4294915071,4291572735,4288230399,4284888063,4281545727,4278203391,4294902015,4291559679,4288217343,4284875007,4281532671,4278190335,4294967244,4291624908,4288282572,4284940236,4281597900,4278255564,4294954188,4291611852,4288269516,4284927180,4281584844,4278242508,4294941132,4291598796,4288256460,4284914124,4281571788,4278229452,4294928076,4291585740,4288243404,4284901068,4281558732,4278216396,4294915020,4291572684,4288230348,4284888012,4281545676,4278203340,\n4294901964,4291559628,4288217292,4284874956,4281532620,4278190284,4294967193,4291624857,4288282521,4284940185,4281597849,4278255513,4294954137,4291611801,4288269465,4284927129,4281584793,4278242457,4294941081,4291598745,4288256409,4284914073,4281571737,4278229401,4294928025,4291585689,4288243353,4284901017,4281558681,4278216345,4294914969,4291572633,4288230297,4284887961,4281545625,4278203289,4294901913,4291559577,4288217241,4284874905,4281532569,4278190233,4294967142,4291624806,4288282470,4284940134,\n4281597798,4278255462,4294954086,4291611750,4288269414,4284927078,4281584742,4278242406,4294941030,4291598694,4288256358,4284914022,4281571686,4278229350,4294927974,4291585638,4288243302,4284900966,4281558630,4278216294,4294914918,4291572582,4288230246,4284887910,4281545574,4278203238,4294901862,4291559526,4288217190,4284874854,4281532518,4278190182,4294967091,4291624755,4288282419,4284940083,4281597747,4278255411,4294954035,4291611699,4288269363,4284927027,4281584691,4278242355,4294940979,4291598643,\n4288256307,4284913971,4281571635,4278229299,4294927923,4291585587,4288243251,4284900915,4281558579,4278216243,4294914867,4291572531,4288230195,4284887859,4281545523,4278203187,4294901811,4291559475,4288217139,4284874803,4281532467,4278190131,4294967040,4291624704,4288282368,4284940032,4281597696,4278255360,4294953984,4291611648,4288269312,4284926976,4281584640,4278242304,4294940928,4291598592,4288256256,4284913920,4281571584,4278229248,4294927872,4291585536,4288243200,4284900864,4281558528,4278216192,\n4294914816,4291572480,4288230144,4284887808,4281545472,4278203136,4294901760,4291559424,4288217088,4284874752,4281532416,4278190318,4278190301,4278190267,4278190250,4278190216,4278190199,4278190165,4278190148,4278190114,4278190097,4278251008,4278246656,4278237952,4278233600,4278224896,4278220544,4278211840,4278207488,4278198784,4278194432,4293787648,4292673536,4290445312,4289331200,4287102976,4285988864,4283760640,4282646528,4280418304,4279304192,4293848814,4292730333,4290493371,4289374890,4287137928,\n4286019447,4283782485,4282664004,4280427042,4279308561];version=8;for(var chunk,chunks=[];version<data.byteLength;){for(var _id=\"\",j=0;4>j;j++)_id+=String.fromCharCode(data.getUint8(version++,!0));j=data.getUint32(version,!0);version+=4;data.getUint32(version,!0);version+=4;if(\"SIZE\"===_id){chunk=data.getUint32(version,!0);version+=4;_id=data.getUint32(version,!0);version+=4;var z=data.getUint32(version,!0);version+=4;chunk={palette:id,size:{x:chunk,y:_id,z}};chunks.push(chunk);version+=j-12}else if(\"XYZI\"===\n_id)j=data.getUint32(version,!0),version+=4,chunk.data=new Uint8Array(buffer,version,4*j),version+=4*j;else if(\"RGBA\"===_id){j=[0];for(_id=0;256>_id;_id++)j[_id+1]=data.getUint32(version,!0),version+=4;chunk.palette=j}else version+=j}return chunks}}}]);return VOXLoader}(_three.Loader);exports.VOXLoader=global;global=function(_Mesh){function VOXMesh(chunk){function add(tile,x,y,z,r,g,b){x-=size.x/2;y-=size.z/2;z+=size.y/2;for(var i=0;18>i;i+=3)vertices.push(tile[i+0]+x,tile[i+1]+y,tile[i+2]+z),colors.push(r,\ng,b)}_classCallCheck(this,VOXMesh);var data=chunk.data,size=chunk.size,palette=chunk.palette,vertices=[],colors=[],nx=[0,0,0,0,0,1,0,1,0,0,1,1,0,1,0,0,0,1],px=[1,0,0,1,1,0,1,0,1,1,1,1,1,0,1,1,1,0],py=[0,0,1,1,0,1,0,1,1,1,1,1,0,1,1,1,0,1],ny=[0,0,0,0,1,0,1,0,0,1,1,0,1,0,0,0,1,0],nz=[0,0,1,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],pz=[0,1,1,1,1,1,0,1,0,1,1,0,0,1,0,1,1,1],offsety=size.x,offsetz=size.x*size.y,array=new Uint8Array(size.x*size.y*size.z);for(chunk=0;chunk<data.length;chunk+=4)array[data[chunk+0]+data[chunk+\n1]*offsety+data[chunk+2]*offsetz]=255;chunk=!1;for(var _j2=0;_j2<data.length;_j2+=4){var _x=data[_j2+0],_y=data[_j2+1],_z=data[_j2+2],hex=palette[data[_j2+3]],r$jscomp$0=(hex>>0&255)/255,g$jscomp$0=(hex>>8&255)/255;hex=(hex>>16&255)/255;if(0<r$jscomp$0||0<g$jscomp$0||0<hex)chunk=!0;var _index=_x+_y*offsety+_z*offsetz;0!==array[_index+1]&&_x!==size.x-1||add(px,_x,_z,-_y,r$jscomp$0,g$jscomp$0,hex);0!==array[_index-1]&&0!==_x||add(nx,_x,_z,-_y,r$jscomp$0,g$jscomp$0,hex);0!==array[_index+offsety]&&_y!==\nsize.y-1||add(ny,_x,_z,-_y,r$jscomp$0,g$jscomp$0,hex);0!==array[_index-offsety]&&0!==_y||add(py,_x,_z,-_y,r$jscomp$0,g$jscomp$0,hex);0!==array[_index+offsetz]&&_z!==size.z-1||add(pz,_x,_z,-_y,r$jscomp$0,g$jscomp$0,hex);0!==array[_index-offsetz]&&0!==_z||add(nz,_x,_z,-_y,r$jscomp$0,g$jscomp$0,hex)}data=new _three.BufferGeometry;data.setAttribute(\"position\",new _three.Float32BufferAttribute(vertices,3));data.computeVertexNormals();palette=new _three.MeshStandardMaterial;chunk&&(data.setAttribute(\"color\",\nnew _three.Float32BufferAttribute(colors,3)),palette.vertexColors=!0);return _possibleConstructorReturn(this,_getPrototypeOf(VOXMesh).call(this,data,palette))}_inherits(VOXMesh,_Mesh);return VOXMesh}(_three.Mesh);exports.VOXMesh=global;global=function(_DataTexture3D){function VOXDataTexture3D(chunk){_classCallCheck(this,VOXDataTexture3D);var _this=chunk.data;chunk=chunk.size;for(var offsety=chunk.x,offsetz=chunk.x*chunk.y,array=new Uint8Array(chunk.x*chunk.y*chunk.z),j=0;j<_this.length;j+=4)array[_this[j+\n0]+_this[j+1]*offsety+_this[j+2]*offsetz]=255;_this=_possibleConstructorReturn(this,_getPrototypeOf(VOXDataTexture3D).call(this,array,chunk.x,chunk.y,chunk.z));_this.format=_three.RedFormat;_this.minFilter=_three.NearestFilter;_this.magFilter=_three.LinearFilter;_this.unpackAlignment=1;return _this}_inherits(VOXDataTexture3D,_DataTexture3D);return VOXDataTexture3D}(_three.DataTexture3D);exports.VOXDataTexture3D=global}","~:source","shadow$provide[\"module$node_modules$three_stdlib$loaders$VOXLoader\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VOXMesh = exports.VOXLoader = exports.VOXDataTexture3D = void 0;\n\nvar _three = require(\"three\");\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar VOXLoader =\n/*#__PURE__*/\nfunction (_Loader) {\n  _inherits(VOXLoader, _Loader);\n\n  function VOXLoader() {\n    _classCallCheck(this, VOXLoader);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(VOXLoader).apply(this, arguments));\n  }\n\n  _createClass(VOXLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var scope = this;\n      var loader = new _three.FileLoader(scope.manager);\n      loader.setPath(scope.path);\n      loader.setResponseType('arraybuffer');\n      loader.setRequestHeader(scope.requestHeader);\n      loader.load(url, function (buffer) {\n        try {\n          onLoad(scope.parse(buffer));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          scope.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(buffer) {\n      var data = new DataView(buffer);\n      var id = data.getUint32(0, true);\n      var version = data.getUint32(4, true);\n\n      if (id !== 542658390 || version !== 150) {\n        console.error('Not a valid VOX file');\n        return;\n      }\n\n      var DEFAULT_PALETTE = [0x00000000, 0xffffffff, 0xffccffff, 0xff99ffff, 0xff66ffff, 0xff33ffff, 0xff00ffff, 0xffffccff, 0xffccccff, 0xff99ccff, 0xff66ccff, 0xff33ccff, 0xff00ccff, 0xffff99ff, 0xffcc99ff, 0xff9999ff, 0xff6699ff, 0xff3399ff, 0xff0099ff, 0xffff66ff, 0xffcc66ff, 0xff9966ff, 0xff6666ff, 0xff3366ff, 0xff0066ff, 0xffff33ff, 0xffcc33ff, 0xff9933ff, 0xff6633ff, 0xff3333ff, 0xff0033ff, 0xffff00ff, 0xffcc00ff, 0xff9900ff, 0xff6600ff, 0xff3300ff, 0xff0000ff, 0xffffffcc, 0xffccffcc, 0xff99ffcc, 0xff66ffcc, 0xff33ffcc, 0xff00ffcc, 0xffffcccc, 0xffcccccc, 0xff99cccc, 0xff66cccc, 0xff33cccc, 0xff00cccc, 0xffff99cc, 0xffcc99cc, 0xff9999cc, 0xff6699cc, 0xff3399cc, 0xff0099cc, 0xffff66cc, 0xffcc66cc, 0xff9966cc, 0xff6666cc, 0xff3366cc, 0xff0066cc, 0xffff33cc, 0xffcc33cc, 0xff9933cc, 0xff6633cc, 0xff3333cc, 0xff0033cc, 0xffff00cc, 0xffcc00cc, 0xff9900cc, 0xff6600cc, 0xff3300cc, 0xff0000cc, 0xffffff99, 0xffccff99, 0xff99ff99, 0xff66ff99, 0xff33ff99, 0xff00ff99, 0xffffcc99, 0xffcccc99, 0xff99cc99, 0xff66cc99, 0xff33cc99, 0xff00cc99, 0xffff9999, 0xffcc9999, 0xff999999, 0xff669999, 0xff339999, 0xff009999, 0xffff6699, 0xffcc6699, 0xff996699, 0xff666699, 0xff336699, 0xff006699, 0xffff3399, 0xffcc3399, 0xff993399, 0xff663399, 0xff333399, 0xff003399, 0xffff0099, 0xffcc0099, 0xff990099, 0xff660099, 0xff330099, 0xff000099, 0xffffff66, 0xffccff66, 0xff99ff66, 0xff66ff66, 0xff33ff66, 0xff00ff66, 0xffffcc66, 0xffcccc66, 0xff99cc66, 0xff66cc66, 0xff33cc66, 0xff00cc66, 0xffff9966, 0xffcc9966, 0xff999966, 0xff669966, 0xff339966, 0xff009966, 0xffff6666, 0xffcc6666, 0xff996666, 0xff666666, 0xff336666, 0xff006666, 0xffff3366, 0xffcc3366, 0xff993366, 0xff663366, 0xff333366, 0xff003366, 0xffff0066, 0xffcc0066, 0xff990066, 0xff660066, 0xff330066, 0xff000066, 0xffffff33, 0xffccff33, 0xff99ff33, 0xff66ff33, 0xff33ff33, 0xff00ff33, 0xffffcc33, 0xffcccc33, 0xff99cc33, 0xff66cc33, 0xff33cc33, 0xff00cc33, 0xffff9933, 0xffcc9933, 0xff999933, 0xff669933, 0xff339933, 0xff009933, 0xffff6633, 0xffcc6633, 0xff996633, 0xff666633, 0xff336633, 0xff006633, 0xffff3333, 0xffcc3333, 0xff993333, 0xff663333, 0xff333333, 0xff003333, 0xffff0033, 0xffcc0033, 0xff990033, 0xff660033, 0xff330033, 0xff000033, 0xffffff00, 0xffccff00, 0xff99ff00, 0xff66ff00, 0xff33ff00, 0xff00ff00, 0xffffcc00, 0xffcccc00, 0xff99cc00, 0xff66cc00, 0xff33cc00, 0xff00cc00, 0xffff9900, 0xffcc9900, 0xff999900, 0xff669900, 0xff339900, 0xff009900, 0xffff6600, 0xffcc6600, 0xff996600, 0xff666600, 0xff336600, 0xff006600, 0xffff3300, 0xffcc3300, 0xff993300, 0xff663300, 0xff333300, 0xff003300, 0xffff0000, 0xffcc0000, 0xff990000, 0xff660000, 0xff330000, 0xff0000ee, 0xff0000dd, 0xff0000bb, 0xff0000aa, 0xff000088, 0xff000077, 0xff000055, 0xff000044, 0xff000022, 0xff000011, 0xff00ee00, 0xff00dd00, 0xff00bb00, 0xff00aa00, 0xff008800, 0xff007700, 0xff005500, 0xff004400, 0xff002200, 0xff001100, 0xffee0000, 0xffdd0000, 0xffbb0000, 0xffaa0000, 0xff880000, 0xff770000, 0xff550000, 0xff440000, 0xff220000, 0xff110000, 0xffeeeeee, 0xffdddddd, 0xffbbbbbb, 0xffaaaaaa, 0xff888888, 0xff777777, 0xff555555, 0xff444444, 0xff222222, 0xff111111];\n      var i = 8;\n      var chunk;\n      var chunks = [];\n\n      while (i < data.byteLength) {\n        var _id = '';\n\n        for (var j = 0; j < 4; j++) {\n          _id += String.fromCharCode(data.getUint8(i++, true));\n        }\n\n        var chunkSize = data.getUint32(i, true);\n        i += 4;\n        data.getUint32(i, true);\n        i += 4; // childChunks\n\n        if (_id === 'SIZE') {\n          var x = data.getUint32(i, true);\n          i += 4;\n          var y = data.getUint32(i, true);\n          i += 4;\n          var z = data.getUint32(i, true);\n          i += 4;\n          chunk = {\n            palette: DEFAULT_PALETTE,\n            size: {\n              x: x,\n              y: y,\n              z: z\n            }\n          };\n          chunks.push(chunk);\n          i += chunkSize - 3 * 4;\n        } else if (_id === 'XYZI') {\n          var numVoxels = data.getUint32(i, true);\n          i += 4;\n          chunk.data = new Uint8Array(buffer, i, numVoxels * 4);\n          i += numVoxels * 4;\n        } else if (_id === 'RGBA') {\n          var palette = [0];\n\n          for (var _j = 0; _j < 256; _j++) {\n            palette[_j + 1] = data.getUint32(i, true);\n            i += 4;\n          }\n\n          chunk.palette = palette;\n        } else {\n          // console.log( id, chunkSize, childChunks );\n          i += chunkSize;\n        }\n      }\n\n      return chunks;\n    }\n  }]);\n\n  return VOXLoader;\n}(_three.Loader);\n\nexports.VOXLoader = VOXLoader;\n\nvar VOXMesh =\n/*#__PURE__*/\nfunction (_Mesh) {\n  _inherits(VOXMesh, _Mesh);\n\n  function VOXMesh(chunk) {\n    _classCallCheck(this, VOXMesh);\n\n    var data = chunk.data;\n    var size = chunk.size;\n    var palette = chunk.palette; //\n\n    var vertices = [];\n    var colors = [];\n    var nx = [0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1];\n    var px = [1, 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0];\n    var py = [0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1];\n    var ny = [0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0];\n    var nz = [0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0];\n    var pz = [0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1];\n\n    function add(tile, x, y, z, r, g, b) {\n      x -= size.x / 2;\n      y -= size.z / 2;\n      z += size.y / 2;\n\n      for (var i = 0; i < 18; i += 3) {\n        vertices.push(tile[i + 0] + x, tile[i + 1] + y, tile[i + 2] + z);\n        colors.push(r, g, b);\n      }\n    } // Store data in a volume for sampling\n\n\n    var offsety = size.x;\n    var offsetz = size.x * size.y;\n    var array = new Uint8Array(size.x * size.y * size.z);\n\n    for (var j = 0; j < data.length; j += 4) {\n      var x = data[j + 0];\n      var y = data[j + 1];\n      var z = data[j + 2];\n      var index = x + y * offsety + z * offsetz;\n      array[index] = 255;\n    } // Construct geometry\n\n\n    var hasColors = false;\n\n    for (var _j2 = 0; _j2 < data.length; _j2 += 4) {\n      var _x = data[_j2 + 0];\n      var _y = data[_j2 + 1];\n      var _z = data[_j2 + 2];\n      var c = data[_j2 + 3];\n      var hex = palette[c];\n      var r = (hex >> 0 & 0xff) / 0xff;\n      var g = (hex >> 8 & 0xff) / 0xff;\n      var b = (hex >> 16 & 0xff) / 0xff;\n      if (r > 0 || g > 0 || b > 0) hasColors = true;\n\n      var _index = _x + _y * offsety + _z * offsetz;\n\n      if (array[_index + 1] === 0 || _x === size.x - 1) add(px, _x, _z, -_y, r, g, b);\n      if (array[_index - 1] === 0 || _x === 0) add(nx, _x, _z, -_y, r, g, b);\n      if (array[_index + offsety] === 0 || _y === size.y - 1) add(ny, _x, _z, -_y, r, g, b);\n      if (array[_index - offsety] === 0 || _y === 0) add(py, _x, _z, -_y, r, g, b);\n      if (array[_index + offsetz] === 0 || _z === size.z - 1) add(pz, _x, _z, -_y, r, g, b);\n      if (array[_index - offsetz] === 0 || _z === 0) add(nz, _x, _z, -_y, r, g, b);\n    }\n\n    var geometry = new _three.BufferGeometry();\n    geometry.setAttribute('position', new _three.Float32BufferAttribute(vertices, 3));\n    geometry.computeVertexNormals();\n    var material = new _three.MeshStandardMaterial();\n\n    if (hasColors) {\n      geometry.setAttribute('color', new _three.Float32BufferAttribute(colors, 3));\n      material.vertexColors = true;\n    }\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(VOXMesh).call(this, geometry, material));\n  }\n\n  return VOXMesh;\n}(_three.Mesh);\n\nexports.VOXMesh = VOXMesh;\n\nvar VOXDataTexture3D =\n/*#__PURE__*/\nfunction (_DataTexture3D) {\n  _inherits(VOXDataTexture3D, _DataTexture3D);\n\n  function VOXDataTexture3D(chunk) {\n    var _this;\n\n    _classCallCheck(this, VOXDataTexture3D);\n\n    var data = chunk.data;\n    var size = chunk.size;\n    var offsety = size.x;\n    var offsetz = size.x * size.y;\n    var array = new Uint8Array(size.x * size.y * size.z);\n\n    for (var j = 0; j < data.length; j += 4) {\n      var x = data[j + 0];\n      var y = data[j + 1];\n      var z = data[j + 2];\n      var index = x + y * offsety + z * offsetz;\n      array[index] = 255;\n    }\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VOXDataTexture3D).call(this, array, size.x, size.y, size.z));\n    _this.format = _three.RedFormat;\n    _this.minFilter = _three.NearestFilter;\n    _this.magFilter = _three.LinearFilter;\n    _this.unpackAlignment = 1;\n    return _this;\n  }\n\n  return VOXDataTexture3D;\n}(_three.DataTexture3D);\n\nexports.VOXDataTexture3D = VOXDataTexture3D;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js"]],"~:properties",["^5",["unpackAlignment","z","VOXLoader","VOXDataTexture3D","prototype","key","x","__esModule","configurable","value","enumerable","vertexColors","magFilter","writable","y","__proto__","palette","size","minFilter","data","format","VOXMesh","constructor"]],"~:compiled-at",1630917515946,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$loaders$VOXLoader.js\",\n\"lineCount\":18,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/loaders/VOXLoader.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$loaders$VOXLoader\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.VOXMesh = exports.VOXLoader = exports.VOXDataTexture3D = void 0;\\n\\nvar _three = require(\\\"three\\\");\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\nvar VOXLoader =\\n/*#__PURE__*/\\nfunction (_Loader) {\\n  _inherits(VOXLoader, _Loader);\\n\\n  function VOXLoader() {\\n    _classCallCheck(this, VOXLoader);\\n\\n    return _possibleConstructorReturn(this, _getPrototypeOf(VOXLoader).apply(this, arguments));\\n  }\\n\\n  _createClass(VOXLoader, [{\\n    key: \\\"load\\\",\\n    value: function load(url, onLoad, onProgress, onError) {\\n      var scope = this;\\n      var loader = new _three.FileLoader(scope.manager);\\n      loader.setPath(scope.path);\\n      loader.setResponseType('arraybuffer');\\n      loader.setRequestHeader(scope.requestHeader);\\n      loader.load(url, function (buffer) {\\n        try {\\n          onLoad(scope.parse(buffer));\\n        } catch (e) {\\n          if (onError) {\\n            onError(e);\\n          } else {\\n            console.error(e);\\n          }\\n\\n          scope.manager.itemError(url);\\n        }\\n      }, onProgress, onError);\\n    }\\n  }, {\\n    key: \\\"parse\\\",\\n    value: function parse(buffer) {\\n      var data = new DataView(buffer);\\n      var id = data.getUint32(0, true);\\n      var version = data.getUint32(4, true);\\n\\n      if (id !== 542658390 || version !== 150) {\\n        console.error('Not a valid VOX file');\\n        return;\\n      }\\n\\n      var DEFAULT_PALETTE = [0x00000000, 0xffffffff, 0xffccffff, 0xff99ffff, 0xff66ffff, 0xff33ffff, 0xff00ffff, 0xffffccff, 0xffccccff, 0xff99ccff, 0xff66ccff, 0xff33ccff, 0xff00ccff, 0xffff99ff, 0xffcc99ff, 0xff9999ff, 0xff6699ff, 0xff3399ff, 0xff0099ff, 0xffff66ff, 0xffcc66ff, 0xff9966ff, 0xff6666ff, 0xff3366ff, 0xff0066ff, 0xffff33ff, 0xffcc33ff, 0xff9933ff, 0xff6633ff, 0xff3333ff, 0xff0033ff, 0xffff00ff, 0xffcc00ff, 0xff9900ff, 0xff6600ff, 0xff3300ff, 0xff0000ff, 0xffffffcc, 0xffccffcc, 0xff99ffcc, 0xff66ffcc, 0xff33ffcc, 0xff00ffcc, 0xffffcccc, 0xffcccccc, 0xff99cccc, 0xff66cccc, 0xff33cccc, 0xff00cccc, 0xffff99cc, 0xffcc99cc, 0xff9999cc, 0xff6699cc, 0xff3399cc, 0xff0099cc, 0xffff66cc, 0xffcc66cc, 0xff9966cc, 0xff6666cc, 0xff3366cc, 0xff0066cc, 0xffff33cc, 0xffcc33cc, 0xff9933cc, 0xff6633cc, 0xff3333cc, 0xff0033cc, 0xffff00cc, 0xffcc00cc, 0xff9900cc, 0xff6600cc, 0xff3300cc, 0xff0000cc, 0xffffff99, 0xffccff99, 0xff99ff99, 0xff66ff99, 0xff33ff99, 0xff00ff99, 0xffffcc99, 0xffcccc99, 0xff99cc99, 0xff66cc99, 0xff33cc99, 0xff00cc99, 0xffff9999, 0xffcc9999, 0xff999999, 0xff669999, 0xff339999, 0xff009999, 0xffff6699, 0xffcc6699, 0xff996699, 0xff666699, 0xff336699, 0xff006699, 0xffff3399, 0xffcc3399, 0xff993399, 0xff663399, 0xff333399, 0xff003399, 0xffff0099, 0xffcc0099, 0xff990099, 0xff660099, 0xff330099, 0xff000099, 0xffffff66, 0xffccff66, 0xff99ff66, 0xff66ff66, 0xff33ff66, 0xff00ff66, 0xffffcc66, 0xffcccc66, 0xff99cc66, 0xff66cc66, 0xff33cc66, 0xff00cc66, 0xffff9966, 0xffcc9966, 0xff999966, 0xff669966, 0xff339966, 0xff009966, 0xffff6666, 0xffcc6666, 0xff996666, 0xff666666, 0xff336666, 0xff006666, 0xffff3366, 0xffcc3366, 0xff993366, 0xff663366, 0xff333366, 0xff003366, 0xffff0066, 0xffcc0066, 0xff990066, 0xff660066, 0xff330066, 0xff000066, 0xffffff33, 0xffccff33, 0xff99ff33, 0xff66ff33, 0xff33ff33, 0xff00ff33, 0xffffcc33, 0xffcccc33, 0xff99cc33, 0xff66cc33, 0xff33cc33, 0xff00cc33, 0xffff9933, 0xffcc9933, 0xff999933, 0xff669933, 0xff339933, 0xff009933, 0xffff6633, 0xffcc6633, 0xff996633, 0xff666633, 0xff336633, 0xff006633, 0xffff3333, 0xffcc3333, 0xff993333, 0xff663333, 0xff333333, 0xff003333, 0xffff0033, 0xffcc0033, 0xff990033, 0xff660033, 0xff330033, 0xff000033, 0xffffff00, 0xffccff00, 0xff99ff00, 0xff66ff00, 0xff33ff00, 0xff00ff00, 0xffffcc00, 0xffcccc00, 0xff99cc00, 0xff66cc00, 0xff33cc00, 0xff00cc00, 0xffff9900, 0xffcc9900, 0xff999900, 0xff669900, 0xff339900, 0xff009900, 0xffff6600, 0xffcc6600, 0xff996600, 0xff666600, 0xff336600, 0xff006600, 0xffff3300, 0xffcc3300, 0xff993300, 0xff663300, 0xff333300, 0xff003300, 0xffff0000, 0xffcc0000, 0xff990000, 0xff660000, 0xff330000, 0xff0000ee, 0xff0000dd, 0xff0000bb, 0xff0000aa, 0xff000088, 0xff000077, 0xff000055, 0xff000044, 0xff000022, 0xff000011, 0xff00ee00, 0xff00dd00, 0xff00bb00, 0xff00aa00, 0xff008800, 0xff007700, 0xff005500, 0xff004400, 0xff002200, 0xff001100, 0xffee0000, 0xffdd0000, 0xffbb0000, 0xffaa0000, 0xff880000, 0xff770000, 0xff550000, 0xff440000, 0xff220000, 0xff110000, 0xffeeeeee, 0xffdddddd, 0xffbbbbbb, 0xffaaaaaa, 0xff888888, 0xff777777, 0xff555555, 0xff444444, 0xff222222, 0xff111111];\\n      var i = 8;\\n      var chunk;\\n      var chunks = [];\\n\\n      while (i < data.byteLength) {\\n        var _id = '';\\n\\n        for (var j = 0; j < 4; j++) {\\n          _id += String.fromCharCode(data.getUint8(i++, true));\\n        }\\n\\n        var chunkSize = data.getUint32(i, true);\\n        i += 4;\\n        data.getUint32(i, true);\\n        i += 4; // childChunks\\n\\n        if (_id === 'SIZE') {\\n          var x = data.getUint32(i, true);\\n          i += 4;\\n          var y = data.getUint32(i, true);\\n          i += 4;\\n          var z = data.getUint32(i, true);\\n          i += 4;\\n          chunk = {\\n            palette: DEFAULT_PALETTE,\\n            size: {\\n              x: x,\\n              y: y,\\n              z: z\\n            }\\n          };\\n          chunks.push(chunk);\\n          i += chunkSize - 3 * 4;\\n        } else if (_id === 'XYZI') {\\n          var numVoxels = data.getUint32(i, true);\\n          i += 4;\\n          chunk.data = new Uint8Array(buffer, i, numVoxels * 4);\\n          i += numVoxels * 4;\\n        } else if (_id === 'RGBA') {\\n          var palette = [0];\\n\\n          for (var _j = 0; _j < 256; _j++) {\\n            palette[_j + 1] = data.getUint32(i, true);\\n            i += 4;\\n          }\\n\\n          chunk.palette = palette;\\n        } else {\\n          // console.log( id, chunkSize, childChunks );\\n          i += chunkSize;\\n        }\\n      }\\n\\n      return chunks;\\n    }\\n  }]);\\n\\n  return VOXLoader;\\n}(_three.Loader);\\n\\nexports.VOXLoader = VOXLoader;\\n\\nvar VOXMesh =\\n/*#__PURE__*/\\nfunction (_Mesh) {\\n  _inherits(VOXMesh, _Mesh);\\n\\n  function VOXMesh(chunk) {\\n    _classCallCheck(this, VOXMesh);\\n\\n    var data = chunk.data;\\n    var size = chunk.size;\\n    var palette = chunk.palette; //\\n\\n    var vertices = [];\\n    var colors = [];\\n    var nx = [0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1];\\n    var px = [1, 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0];\\n    var py = [0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1];\\n    var ny = [0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0];\\n    var nz = [0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0];\\n    var pz = [0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1];\\n\\n    function add(tile, x, y, z, r, g, b) {\\n      x -= size.x / 2;\\n      y -= size.z / 2;\\n      z += size.y / 2;\\n\\n      for (var i = 0; i < 18; i += 3) {\\n        vertices.push(tile[i + 0] + x, tile[i + 1] + y, tile[i + 2] + z);\\n        colors.push(r, g, b);\\n      }\\n    } // Store data in a volume for sampling\\n\\n\\n    var offsety = size.x;\\n    var offsetz = size.x * size.y;\\n    var array = new Uint8Array(size.x * size.y * size.z);\\n\\n    for (var j = 0; j < data.length; j += 4) {\\n      var x = data[j + 0];\\n      var y = data[j + 1];\\n      var z = data[j + 2];\\n      var index = x + y * offsety + z * offsetz;\\n      array[index] = 255;\\n    } // Construct geometry\\n\\n\\n    var hasColors = false;\\n\\n    for (var _j2 = 0; _j2 < data.length; _j2 += 4) {\\n      var _x = data[_j2 + 0];\\n      var _y = data[_j2 + 1];\\n      var _z = data[_j2 + 2];\\n      var c = data[_j2 + 3];\\n      var hex = palette[c];\\n      var r = (hex >> 0 & 0xff) / 0xff;\\n      var g = (hex >> 8 & 0xff) / 0xff;\\n      var b = (hex >> 16 & 0xff) / 0xff;\\n      if (r > 0 || g > 0 || b > 0) hasColors = true;\\n\\n      var _index = _x + _y * offsety + _z * offsetz;\\n\\n      if (array[_index + 1] === 0 || _x === size.x - 1) add(px, _x, _z, -_y, r, g, b);\\n      if (array[_index - 1] === 0 || _x === 0) add(nx, _x, _z, -_y, r, g, b);\\n      if (array[_index + offsety] === 0 || _y === size.y - 1) add(ny, _x, _z, -_y, r, g, b);\\n      if (array[_index - offsety] === 0 || _y === 0) add(py, _x, _z, -_y, r, g, b);\\n      if (array[_index + offsetz] === 0 || _z === size.z - 1) add(pz, _x, _z, -_y, r, g, b);\\n      if (array[_index - offsetz] === 0 || _z === 0) add(nz, _x, _z, -_y, r, g, b);\\n    }\\n\\n    var geometry = new _three.BufferGeometry();\\n    geometry.setAttribute('position', new _three.Float32BufferAttribute(vertices, 3));\\n    geometry.computeVertexNormals();\\n    var material = new _three.MeshStandardMaterial();\\n\\n    if (hasColors) {\\n      geometry.setAttribute('color', new _three.Float32BufferAttribute(colors, 3));\\n      material.vertexColors = true;\\n    }\\n\\n    return _possibleConstructorReturn(this, _getPrototypeOf(VOXMesh).call(this, geometry, material));\\n  }\\n\\n  return VOXMesh;\\n}(_three.Mesh);\\n\\nexports.VOXMesh = VOXMesh;\\n\\nvar VOXDataTexture3D =\\n/*#__PURE__*/\\nfunction (_DataTexture3D) {\\n  _inherits(VOXDataTexture3D, _DataTexture3D);\\n\\n  function VOXDataTexture3D(chunk) {\\n    var _this;\\n\\n    _classCallCheck(this, VOXDataTexture3D);\\n\\n    var data = chunk.data;\\n    var size = chunk.size;\\n    var offsety = size.x;\\n    var offsetz = size.x * size.y;\\n    var array = new Uint8Array(size.x * size.y * size.z);\\n\\n    for (var j = 0; j < data.length; j += 4) {\\n      var x = data[j + 0];\\n      var y = data[j + 1];\\n      var z = data[j + 2];\\n      var index = x + y * offsety + z * offsetz;\\n      array[index] = 255;\\n    }\\n\\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VOXDataTexture3D).call(this, array, size.x, size.y, size.z));\\n    _this.format = _three.RedFormat;\\n    _this.minFilter = _three.NearestFilter;\\n    _this.magFilter = _three.LinearFilter;\\n    _this.unpackAlignment = 1;\\n    return _this;\\n  }\\n\\n  return VOXDataTexture3D;\\n}(_three.DataTexture3D);\\n\\nexports.VOXDataTexture3D = VOXDataTexture3D;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_classCallCheck\",\"instance\",\"Constructor\",\"TypeError\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"Object\",\"defineProperty\",\"key\",\"_createClass\",\"protoProps\",\"staticProps\",\"_possibleConstructorReturn\",\"self\",\"call\",\"ReferenceError\",\"_getPrototypeOf\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_inherits\",\"subClass\",\"superClass\",\"create\",\"value\",\"_setPrototypeOf\",\"p\",\"VOXMesh\",\"VOXLoader\",\"VOXDataTexture3D\",\"_three\",\"_Loader\",\"apply\",\"arguments\",\"load\",\"url\",\"onLoad\",\"onProgress\",\"onError\",\"scope\",\"loader\",\"FileLoader\",\"manager\",\"setPath\",\"path\",\"setResponseType\",\"setRequestHeader\",\"requestHeader\",\"buffer\",\"parse\",\"e\",\"console\",\"error\",\"itemError\",\"data\",\"DataView\",\"id\",\"getUint32\",\"version\",\"DEFAULT_PALETTE\",\"chunk\",\"chunks\",\"byteLength\",\"_id\",\"j\",\"String\",\"fromCharCode\",\"getUint8\",\"chunkSize\",\"x\",\"y\",\"z\",\"palette\",\"size\",\"push\",\"numVoxels\",\"Uint8Array\",\"_j\",\"Loader\",\"_Mesh\",\"add\",\"tile\",\"r\",\"g\",\"b\",\"vertices\",\"colors\",\"nx\",\"px\",\"py\",\"ny\",\"nz\",\"pz\",\"offsety\",\"offsetz\",\"array\",\"hasColors\",\"_j2\",\"_x\",\"_y\",\"_z\",\"hex\",\"c\",\"_index\",\"geometry\",\"BufferGeometry\",\"setAttribute\",\"Float32BufferAttribute\",\"computeVertexNormals\",\"material\",\"MeshStandardMaterial\",\"vertexColors\",\"Mesh\",\"_DataTexture3D\",\"_this\",\"format\",\"RedFormat\",\"minFilter\",\"NearestFilter\",\"magFilter\",\"LinearFilter\",\"unpackAlignment\",\"DataTexture3D\"]\n}\n"]