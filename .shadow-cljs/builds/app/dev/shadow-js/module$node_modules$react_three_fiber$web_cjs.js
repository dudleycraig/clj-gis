["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/react-three-fiber/web.cjs.js"],"~:js","shadow$provide.module$node_modules$react_three_fiber$web_cjs=function(global,require,module,exports){function _interopDefault(ex){return ex&&\"object\"===typeof ex&&\"default\"in ex?ex[\"default\"]:ex}function _toPropertyKey(arg){a:if(\"object\"===typeof arg&&null!==arg){var prim=arg[Symbol.toPrimitive];if(void 0!==prim){arg=prim.call(arg,\"string\");if(\"object\"!==typeof arg)break a;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}arg=String(arg)}return\"symbol\"===typeof arg?arg:String(arg)}\nfunction createSubs(callback,subs){var index=subs.length;subs.push(callback);return function(){return void subs.splice(index,1)}}function renderGl(state,timestamp,repeat,runGlobalEffects){void 0===repeat&&(repeat=0);void 0===runGlobalEffects&&(runGlobalEffects=!1);runGlobalEffects&&globalEffects.forEach(function(effect){return effect(timestamp)&&repeat++});var delta=state.current.clock.getDelta();state.current.subscribers.forEach(function(sub){return sub.ref.current(state.current,delta)});state.current.frames=\nMath.max(0,state.current.frames-1);repeat+=state.current.invalidateFrameloop?state.current.frames:1;state.current.manual||state.current.gl.render(state.current.scene,state.current.camera);runGlobalEffects&&globalAfterEffects.forEach(function(effect){return effect(timestamp)});return repeat}function renderLoop(timestamp){running=!0;var repeat=0;globalEffects.forEach(function(effect){return effect(timestamp)&&repeat++});roots.forEach(function(root){root=root.containerInfo.__state;root.current.active&&\nroot.current.ready&&(!root.current.invalidateFrameloop||0<root.current.frames)&&(repeat=renderGl(root,timestamp,repeat))});globalAfterEffects.forEach(function(effect){return effect(timestamp)});if(0!==repeat)return requestAnimationFrame(renderLoop);globalTailEffects.forEach(function(effect){return effect(timestamp)});running=!1}function invalidate(state,frames){void 0===state&&(state=!0);void 0===frames&&(frames=2);if(!0===state)roots.forEach(function(root){return root.containerInfo.__state.current.frames=\nframes});else if(state&&state.current){if(state.current.vr)return;state.current.frames=frames}running||(running=!0,requestAnimationFrame(renderLoop))}function applyProps(instance,newProps,oldProps,accumulative){void 0===oldProps&&(oldProps={});void 0===accumulative&&(accumulative=!1);var container=instance.__container,sameProps=Object.keys(newProps).filter(function(key){return is.equ(newProps[key],oldProps[key])}),handlers=Object.keys(newProps).filter(function(key){if(is.fun(newProps[key])&&key.startsWith(\"on\"))return key.includes(\"Pointer\")||\nkey.includes(\"Click\")||key.includes(\"ContextMenu\")||key.includes(\"Wheel\")}),leftOvers=accumulative?Object.keys(oldProps).filter(function(key){return void 0===newProps[key]}):[];sameProps=[].concat(sameProps,[\"children\",\"key\",\"ref\"]);instance.__instance&&sameProps.push(\"object\");var filteredProps=sameProps.reduce(function(acc,prop){return _objectWithoutPropertiesLoose(acc,[prop].map(_toPropertyKey))},newProps);leftOvers.forEach(function(key){return\"children\"!==key&&(filteredProps[key]=void 0)});0<\nObject.keys(filteredProps).length&&(Object.entries(filteredProps).forEach(function(_ref){var key$jscomp$0=_ref[0];_ref=_ref[1];if(!handlers.includes(key$jscomp$0)){var _instance$__container,root=instance,target=root[key$jscomp$0];if(key$jscomp$0.includes(\"-\")){var entries=key$jscomp$0.split(\"-\");target=entries.reduce(function(acc,key){return acc[key]},instance);target&&target.set||(root=entries.reverse(),key$jscomp$0=root[0],root=root.slice(1).reverse().reduce(function(acc,key){return acc[key]},instance))}entries=\nnull==(_instance$__container=instance.__container)?void 0:_instance$__container.__state.current.colorManagement;if(target&&target.set&&(target.copy||target instanceof THREE.Layers)){var _target;Array.isArray(_ref)?(_target=target).set.apply(_target,_ref):target.copy&&_ref&&_ref.constructor&&target.constructor.name===_ref.constructor.name?target.copy(_ref):void 0!==_ref&&(target.set(_ref),entries&&target instanceof THREE.Color&&target.convertSRGBToLinear())}else root[key$jscomp$0]=_ref,entries&&root[key$jscomp$0]instanceof\nTHREE.Texture&&(root[key$jscomp$0].encoding=THREE.sRGBEncoding);invalidateInstance(instance)}}),accumulative&&container&&instance.raycast&&instance.__handlers&&(instance.__handlers=void 0,accumulative=container.__interaction.indexOf(instance),-1<accumulative&&container.__interaction.splice(accumulative,1)),handlers.length&&(container&&instance.raycast&&container.__interaction.push(instance),instance.__handlers=handlers.reduce(function(acc,key){var _extends2;return _extends({},acc,(_extends2={},_extends2[key.charAt(2).toLowerCase()+\nkey.substr(3)]=newProps[key],_extends2))},{})),instance.parent&&updateInstance(instance))}function invalidateInstance(instance){instance.__container&&instance.__container.__state&&invalidate(instance.__container.__state)}function updateInstance(instance){if(instance.onUpdate)instance.onUpdate(instance)}function createInstance(type,_ref2,container,hostContext,internalInstanceHandle){hostContext=_ref2.args;hostContext=void 0===hostContext?[]:hostContext;_ref2=_objectWithoutPropertiesLoose(_ref2,[\"args\"]);\nvar name=\"\"+type[0].toUpperCase()+type.slice(1);if(\"primitive\"===type)type=_ref2.object,type.__instance=!0;else if(\"new\"===type)type=new _ref2.object(hostContext);else{type=catalogue[name]||THREE[name];if(!type)throw'\"'+name+'\" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/react-spring/react-three-fiber#using-3rd-party-non-three-namespaced-objects-in-the-scene-graph';type=is.arr(hostContext)?_construct(type,hostContext):new type(hostContext)}for(;container.__container;)container=\ncontainer.__container;roots.has(container)||(container=function fn(node){return node[\"return\"]?fn(node[\"return\"]):node.stateNode&&node.stateNode.containerInfo}(internalInstanceHandle));type.__objects=[];type.__container=container;applyProps(type,_ref2,{});return type}function appendChild(parentInstance,child){child&&(child.isObject3D?parentInstance.add(child):(parentInstance.__objects.push(child),child.parent=parentInstance,child.attach?parentInstance[child.attach]=child:child.attachArray?(is.arr(parentInstance[child.attachArray])||\n(parentInstance[child.attachArray]=[]),parentInstance[child.attachArray].push(child)):child.attachObject&&(is.obj(parentInstance[child.attachObject[0]])||(parentInstance[child.attachObject[0]]={}),parentInstance[child.attachObject[0]][child.attachObject[1]]=child)),updateInstance(child),invalidateInstance(child))}function insertBefore(parentInstance,child,beforeChild){if(child){if(child.isObject3D){child.parent=parentInstance;child.dispatchEvent({type:\"added\"});var restSiblings=parentInstance.children.filter(function(sibling){return sibling!==\nchild});beforeChild=restSiblings.indexOf(beforeChild);parentInstance.children=[].concat(restSiblings.slice(0,beforeChild),[child],restSiblings.slice(beforeChild));updateInstance(child)}else appendChild(parentInstance,child);invalidateInstance(child)}}function removeRecursive(array,parent,clone){void 0===clone&&(clone=!1);array&&(clone?[].concat(array):array).forEach(function(child){return removeChild(parent,child)})}function removeChild(parentInstance,child){child&&(child.isObject3D?parentInstance.remove(child):\n(child.parent=null,parentInstance.__objects&&(parentInstance.__objects=parentInstance.__objects.filter(function(x){return x!==child})),child.attach?parentInstance[child.attach]=null:child.attachArray?parentInstance[child.attachArray]=parentInstance[child.attachArray].filter(function(x){return x!==child}):child.attachObject&&delete parentInstance[child.attachObject[0]][child.attachObject[1]]),invalidateInstance(child),null!==child.dispose&&scheduler.unstable_runWithPriority(scheduler.unstable_IdlePriority,\nfunction(){child.__container&&(child.__container.__interaction=child.__container.__interaction.filter(function(x){return x!==child}));removeRecursive(child.__objects,child);removeRecursive(child.children,child,!0);child.dispose&&child.dispose();delete child.__container;delete child.__objects}))}function switchInstance(instance,type,newProps,fiber$jscomp$0){var parent=instance.parent,newInstance=createInstance(type,newProps,instance.__container,null,fiber$jscomp$0);removeChild(parent,instance);appendChild(parent,\nnewInstance);[fiber$jscomp$0,fiber$jscomp$0.alternate].forEach(function(fiber){null!==fiber&&(fiber.stateNode=newInstance,fiber.ref&&(is.fun(fiber.ref)?fiber.ref(newInstance):fiber.ref.current=newInstance))})}function render(element,container,state){var root=roots.get(container);root||(container.__state=state,state=root=Renderer.createContainer(container,void 0!==state&&state.current.concurrent?2:0,!1),roots.set(container,state));Renderer.updateContainer(element,root,null,function(){});return Renderer.getPublicRootInstance(root)}\nfunction unmountComponentAtNode(container){var root=roots.get(container);root&&Renderer.updateContainer(null,root,null,function(){return void roots[\"delete\"](container)})}function _createForOfIteratorHelperLoose(o){var i=0;if(\"undefined\"===typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(o=_unsupportedIterableToArray(o)))return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}};throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}i=o[Symbol.iterator]();return i.next.bind(i)}function _unsupportedIterableToArray(o,minLen){if(o){if(\"string\"===typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);\"Object\"===n&&o.constructor&&(n=o.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(n);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=\n0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function makeId(event){return(event.eventObject||event.object).uuid+\"/\"+event.index}function useContext(context){(context=React.useContext(context))||console.warn(\"hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks\");return context}function prune(props){var reducedProps=_extends({},props);blackList.forEach(function(name){return delete reducedProps[name]});Object.keys(reducedProps).forEach(function(name){return\"function\"===\ntypeof reducedProps[name]&&delete reducedProps[name]});reducedProps.material&&(reducedProps.material=prune(reducedProps.material));reducedProps.geometry&&(reducedProps.geometry=prune(reducedProps.geometry));return reducedProps}function Content(_ref){var children=_ref.children,setEvents=_ref.setEvents,container=_ref.container,renderer=_ref.renderer,effects=_ref.effects;_ref=_objectWithoutPropertiesLoose(_ref,[\"children\",\"setEvents\",\"container\",\"renderer\",\"effects\"]);var gl=React.useState(renderer)[0];\ngl||console.warn(\"No renderer created!\");React.useEffect(function(){return effects&&effects(gl,container)},[]);var events=useCanvas(_extends({},_ref,{children,gl}));React.useEffect(function(){return void setEvents(events)},[events]);return null}Object.defineProperty(exports,\"__esModule\",{value:!0});var _extends=_interopDefault(require(\"module$node_modules$$babel$runtime$helpers$extends\")),_objectWithoutPropertiesLoose=_interopDefault(require(\"module$node_modules$$babel$runtime$helpers$objectWithoutPropertiesLoose\")),\n_construct=_interopDefault(require(\"module$node_modules$$babel$runtime$helpers$construct\")),THREE=require(\"module$node_modules$three$build$three\");global=_interopDefault(require(\"module$node_modules$react_reconciler$index\"));var scheduler=require(\"module$node_modules$scheduler$index\"),React=require(\"module$node_modules$react$index\"),React__default=_interopDefault(React),tinyEmitter=require(\"module$node_modules$tiny_emitter$index\"),usePromise=_interopDefault(require(\"module$node_modules$react_promise_suspense$build$index\")),\nuseMeasure=_interopDefault(require(\"module$node_modules$react_use_measure$dist$web_cjs\")),resizeObserver=require(\"module$node_modules$$juggle$resize_observer$lib$exports$resize_observer_umd\"),mergeRefs=_interopDefault(require(\"module$node_modules$react_merge_refs$dist$index\")),roots=new Map,emptyObject={},is={obj:function(a){return a===Object(a)&&!is.arr(a)},fun:function(a){return\"function\"===typeof a},str:function(a){return\"string\"===typeof a},num:function(a){return\"number\"===typeof a},und:function(a){return void 0===\na},arr:function(a){return Array.isArray(a)},equ:function(a,b){if(typeof a!==typeof b||!!a!==!!b)return!1;if(is.str(a)||is.num(a)||is.obj(a))return a===b;if(is.arr(a)&&a==b)return!0;for(var i in a)if(!(i in b))return!1;for(i in b)if(a[i]!==b[i])return!1;return is.und(i)?a===b:!0}},globalEffects=[],globalAfterEffects=[],globalTailEffects=[],running=!1,catalogue={},Renderer=global({now:scheduler.unstable_now,createInstance,removeChild,appendChild,insertBefore,warnsIfNotActing:!0,supportsMutation:!0,\nisPrimaryRenderer:!1,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0,setTimeout:is.fun(setTimeout)?setTimeout:void 0,clearTimeout:is.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:appendChild,appendChildToContainer:appendChild,removeChildFromContainer:removeChild,insertInContainerBefore:insertBefore,commitUpdate:function(instance,updatePayload,type,oldProps,newProps,fiber){if(instance.__instance&&newProps.object&&newProps.object!==\ninstance)switchInstance(instance,type,newProps,fiber);else{updatePayload=newProps.args;updatePayload=void 0===updatePayload?[]:updatePayload;var restNew=_objectWithoutPropertiesLoose(newProps,[\"args\"]),_oldProps$args=oldProps.args,argsOld=void 0===_oldProps$args?[]:_oldProps$args;oldProps=_objectWithoutPropertiesLoose(oldProps,[\"args\"]);updatePayload.some(function(value,index){return is.obj(value)?Object.entries(value).some(function(_ref3){return _ref3[1]!==argsOld[index][_ref3[0]]}):value!==argsOld[index]})?\nswitchInstance(instance,type,newProps,fiber):applyProps(instance,restNew,oldProps,!0)}},hideInstance:function(instance){instance.isObject3D&&(instance.visible=!1,invalidateInstance(instance))},unhideInstance:function(instance,props){if(instance.isObject3D&&null==props.visible||props.visible)instance.visible=!0,invalidateInstance(instance)},hideTextInstance:function(){throw Error(\"Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.\");},getPublicInstance:function(instance){return instance},\ngetRootHostContext:function(){return emptyObject},getChildHostContext:function(){return emptyObject},createTextInstance:function(){},finalizeInitialChildren:function(){return!1},prepareUpdate:function(){return emptyObject},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1}}),REACT_PORTAL_TYPE=is.fun(Symbol)&&Symbol[\"for\"]?Symbol[\"for\"](\"react.portal\"):60106;Renderer.injectIntoDevTools({bundleType:1,version:\"4.2.21\",\nrendererPackageName:\"react-three-fiber\",findHostInstanceByFiber:Renderer.findHostInstance});var stateContext=React.createContext({}),useCanvas=function(props$jscomp$0){var children=props$jscomp$0.children,gl=props$jscomp$0.gl,camera$jscomp$0=props$jscomp$0.camera,orthographic=props$jscomp$0.orthographic,raycaster=props$jscomp$0.raycaster,size=props$jscomp$0.size,pixelRatio=props$jscomp$0.pixelRatio,_props$vr=props$jscomp$0.vr,vr=void 0===_props$vr?!1:_props$vr;_props$vr=props$jscomp$0.concurrent;\nvar concurrent=void 0===_props$vr?!1:_props$vr;_props$vr=props$jscomp$0.shadowMap;var shadowMap=void 0===_props$vr?!1:_props$vr;_props$vr=props$jscomp$0.sRGB;var sRGB=void 0===_props$vr?!1:_props$vr;_props$vr=props$jscomp$0.colorManagement;var colorManagement=void 0===_props$vr?!1:_props$vr;_props$vr=props$jscomp$0.invalidateFrameloop;var invalidateFrameloop=void 0===_props$vr?!1:_props$vr;_props$vr=props$jscomp$0.updateDefaultCamera;var updateDefaultCamera=void 0===_props$vr?!0:_props$vr;_props$vr=\nprops$jscomp$0.noEvents;var noEvents=void 0===_props$vr?!1:_props$vr,onCreated=props$jscomp$0.onCreated,onPointerMissed=props$jscomp$0.onPointerMissed;props$jscomp$0=React.useState(!1);var ready=props$jscomp$0[0],setReady=props$jscomp$0[1],mouse=React.useState(function(){return new THREE.Vector2})[0],defaultRaycaster=React.useState(function(){var ray=new THREE.Raycaster;if(raycaster){var raycasterProps=_objectWithoutPropertiesLoose(raycaster,[\"filter\"]);applyProps(ray,raycasterProps,{})}return ray})[0],\ndefaultScene=React.useState(function(){var scene=new THREE.Scene;scene.__interaction=[];scene.__objects=[];return scene})[0];props$jscomp$0=React.useState(function(){var cam=orthographic?new THREE.OrthographicCamera(0,0,0,0,.1,1E3):new THREE.PerspectiveCamera(75,0,.1,1E3);cam.position.z=5;camera$jscomp$0&&applyProps(cam,camera$jscomp$0,{});cam.lookAt(0,0,0);return cam});var defaultCam=props$jscomp$0[0],_setDefaultCamera=props$jscomp$0[1];props$jscomp$0=React.useState(function(){return new THREE.Clock})[0];\nvar state=React.useRef({ready:!1,active:!0,manual:0,colorManagement,sRGB,vr,concurrent,noEvents,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:defaultCam,scene:defaultScene,raycaster:defaultRaycaster,mouse,clock:props$jscomp$0,gl,size,viewport:{width:0,height:0,factor:0},initialClick:[0,0],initialHits:[],pointer:new tinyEmitter.TinyEmitter,captured:void 0,events:void 0,subscribe:function(ref,priority){void 0===priority&&(priority=0);priority&&state.current.manual++;state.current.subscribers.push({ref,\npriority});state.current.subscribers=state.current.subscribers.sort(function(a,b){return a.priority-b.priority});return function(){priority&&state.current.manual--;state.current.subscribers=state.current.subscribers.filter(function(s){return s.ref!==ref})}},setDefaultCamera:function(camera){return _setDefaultCamera(camera)},invalidate:function(){return invalidate(state)},intersect:function(event,prepare){void 0===event&&(event={});void 0===prepare&&(prepare=!0);return handlePointerMove(event,prepare)}});\nReact.useMemo(function(){state.current.ready=ready;state.current.size=size;state.current.camera=defaultCam;state.current.invalidateFrameloop=invalidateFrameloop;state.current.vr=vr;state.current.gl=gl;state.current.concurrent=concurrent;state.current.noEvents=noEvents},[invalidateFrameloop,vr,concurrent,noEvents,ready,size,defaultCam,gl]);React.useMemo(function(){state.current.aspect=size.width/size.height;if(defaultCam.isOrthographicCamera)state.current.viewport={width:size.width,height:size.height,\nfactor:1};else{var target=new THREE.Vector3(0,0,0);target=defaultCam.position.distanceTo(target);target*=2*Math.tan(defaultCam.fov*Math.PI/180/2);var width=target*state.current.aspect;state.current.viewport={width,height:target,factor:size.width/width}}updateDefaultCamera&&(defaultCam.isOrthographicCamera?(defaultCam.left=size.width/-2,defaultCam.right=size.width/2,defaultCam.top=size.height/2,defaultCam.bottom=size.height/-2):defaultCam.aspect=state.current.aspect,defaultCam.updateProjectionMatrix(),\ndefaultCam.updateMatrixWorld());gl.setSize(size.width,size.height);ready&&invalidate(state)},[defaultCam,gl,size,updateDefaultCamera]);var prepareRay=React.useCallback(function(_ref){var clientX=_ref.clientX;_ref=_ref.clientY;if(void 0!==clientX){var _state$current$size=state.current.size,left=_state$current$size.left,top=_state$current$size.top;mouse.set((clientX-left)/(_state$current$size.right-left)*2-1,2*-((_ref-top)/(_state$current$size.bottom-top))+1);defaultRaycaster.setFromCamera(mouse,state.current.camera)}},\n[]),intersect=React.useCallback(function(event,filter){if(state.current.noEvents)return[];var seen=new Set;event=[];filter=filter?filter(state.current.scene.__interaction):state.current.scene.__interaction;filter=defaultRaycaster.intersectObjects(filter,!0).filter(function(item){item=makeId(item);if(seen.has(item))return!1;seen.add(item);return!0});raycaster&&raycaster.filter&&sharedState.current&&(filter=raycaster.filter(filter,sharedState.current));filter=_createForOfIteratorHelperLoose(filter);\nfor(var _step;!(_step=filter()).done;){_step=_step.value;for(var eventObject=_step.object;eventObject;)eventObject.__handlers&&event.push(_extends({},_step,{eventObject})),eventObject=eventObject.parent}return event},[]),calculateDistance=React.useCallback(function(event){var dx=event.clientX-state.current.initialClick[0];event=event.clientY-state.current.initialClick[1];return Math.round(Math.sqrt(dx*dx+event*event))},[]),hovered=React.useMemo(function(){return new Map},[]),temp=new THREE.Vector3,\nhandleIntersects=React.useCallback(function(event,fn,filter){var intersections=intersect(event,filter);state.current.captured&&\"click\"!==event.type&&\"wheel\"!==event.type&&state.current.captured.forEach(function(captured){intersections.find(function(hit){return hit.eventObject===captured.eventObject})||intersections.push(captured)});intersections.length&&function(){for(var unprojectedPoint=temp.set(mouse.x,mouse.y,0).unproject(state.current.camera),delta=\"click\"===event.type?calculateDistance(event):\n0,releasePointerCapture=function(id){return event.target.releasePointerCapture(id)},JSCompiler_object_inline_stopped_1014=!1,JSCompiler_object_inline_captured_1015=!1,_loop=function(){var hit=_step2.value,setPointerCapture=function(id){JSCompiler_object_inline_captured_1015||(JSCompiler_object_inline_captured_1015=!0,state.current.captured=[]);state.current.captured&&state.current.captured.push(hit);event.target.setPointerCapture(id)},raycastEvent=_extends({},event,hit,{intersections,stopped:JSCompiler_object_inline_stopped_1014,\ndelta,unprojectedPoint,ray:defaultRaycaster.ray,camera:state.current.camera,stopPropagation:function(){var cap=state.current.captured;if(!cap||cap.find(function(h){return h.eventObject.id===hit.eventObject.id}))raycastEvent.stopped=JSCompiler_object_inline_stopped_1014=!0},target:_extends({},event.target,{setPointerCapture,releasePointerCapture}),currentTarget:_extends({},event.currentTarget,{setPointerCapture,releasePointerCapture}),sourceEvent:event});fn(raycastEvent);if(!0===JSCompiler_object_inline_stopped_1014)return hovered.size&&\nArray.from(hovered.values()).find(function(i){return i.object===hit.object})&&handlePointerCancel(raycastEvent,[hit]),\"break\"},_iterator2=_createForOfIteratorHelperLoose(intersections),_step2;!(_step2=_iterator2()).done&&\"break\"!==_loop(););}();return intersections},[]),handlePointerMove=React.useCallback(function(event,prepare){void 0===prepare&&(prepare=!0);state.current.pointer.emit(\"pointerMove\",event);prepare&&prepareRay(event);var hits=handleIntersects(event,function(data){var handlers=data.eventObject.__handlers;\nif(handlers&&(handlers.pointerMove&&handlers.pointerMove(data),handlers.pointerOver||handlers.pointerEnter||handlers.pointerOut||handlers.pointerLeave)){var id=makeId(data),hoveredItem=hovered.get(id);hoveredItem?hoveredItem.stopped&&data.stopPropagation():(hovered.set(id,data),handlers.pointerOver&&handlers.pointerOver(_extends({},data,{type:\"pointerover\"})),handlers.pointerEnter&&handlers.pointerEnter(_extends({},data,{type:\"pointerenter\"})))}},function(objects){return objects.filter(function(obj){return[\"Move\",\n\"Over\",\"Enter\",\"Out\",\"Leave\"].some(function(name){return obj.__handlers[\"pointer\"+name]})})});handlePointerCancel(event,hits,prepare);return hits},[]),handlePointerCancel=React.useCallback(function(event,hits,prepare){void 0===prepare&&(prepare=!0);state.current.pointer.emit(\"pointerCancel\",event);prepare&&prepareRay(event);hits||(hits=handleIntersects(event,function(){return null}));Array.from(hovered.values()).forEach(function(data){if(hits&&(!hits.length||!hits.find(function(i){return i.eventObject===\ndata.eventObject}))){var handlers=data.eventObject.__handlers;handlers&&(handlers.pointerOut&&handlers.pointerOut(_extends({},data,{type:\"pointerout\"})),handlers.pointerLeave&&handlers.pointerLeave(_extends({},data,{type:\"pointerleave\"})));hovered[\"delete\"](makeId(data))}})},[]),handlePointer=React.useCallback(function(name){return function(event,prepare){void 0===prepare&&(prepare=!0);state.current.pointer.emit(name,event);prepare&&prepareRay(event);prepare=handleIntersects(event,function(data){var eventObject=\ndata.eventObject,handlers=eventObject.__handlers;if(handlers&&handlers[name]&&(\"click\"!==name&&\"contextMenu\"!==name&&\"doubleClick\"!==name||state.current.initialHits.includes(eventObject)))handlers[name](data)});\"pointerDown\"===name&&(state.current.initialClick=[event.clientX,event.clientY],state.current.initialHits=prepare.map(function(hit){return hit.eventObject}));\"click\"!==name&&\"contextMenu\"!==name&&\"doubleClick\"!==name||prepare.length||!onPointerMissed||2>=calculateDistance(event)&&onPointerMissed()}},\n[onPointerMissed]);React.useMemo(function(){state.current.events={onClick:handlePointer(\"click\"),onContextMenu:handlePointer(\"contextMenu\"),onDoubleClick:handlePointer(\"doubleClick\"),onWheel:handlePointer(\"wheel\"),onPointerDown:handlePointer(\"pointerDown\"),onPointerUp:handlePointer(\"pointerUp\"),onPointerLeave:function(e){return handlePointerCancel(e,[])},onPointerMove:handlePointerMove,onGotPointerCaptureLegacy:function(e){return state.current.captured=intersect(e)},onLostPointerCapture:function(e){return state.current.captured=\nvoid 0,handlePointerCancel(e)}}},[onPointerMissed]);var sharedState=React.useRef();React.useMemo(function(){var props=_objectWithoutPropertiesLoose(state.current,\"ready manual vr noEvents invalidateFrameloop frames subscribers captured initialClick initialHits\".split(\" \"));sharedState.current=props},[size,defaultCam]);React.useLayoutEffect(function(){return void(pixelRatio&&gl.setPixelRatio(pixelRatio))},[pixelRatio]);React.useLayoutEffect(function(){shadowMap&&(gl.shadowMap.enabled=!0,\"object\"===\ntypeof shadowMap?Object.assign(gl.shadowMap,shadowMap):gl.shadowMap.type=THREE.PCFSoftShadowMap);if(sRGB||colorManagement)gl.toneMapping=THREE.ACESFilmicToneMapping,gl.outputEncoding=THREE.sRGBEncoding},[shadowMap,sRGB,colorManagement]);var Canvas=React.useCallback(function(props){var activate=function(){return setReady(!0)};React.useEffect(function(){var result=onCreated&&onCreated(state.current);return void(result&&result.then?result.then(activate):activate())},[]);return props.children},[]);React.useLayoutEffect(function(){render(React.createElement(Canvas,\nnull,React.createElement(stateContext.Provider,{value:sharedState.current},\"function\"===typeof children?children(state.current):children)),defaultScene,state)},[ready,children,sharedState.current]);React.useLayoutEffect(function(){ready&&(state.current.vr?(gl.xr||gl.vr)&&gl.setAnimationLoop?((gl.xr||gl.vr).enabled=!0,gl.setAnimationLoop(function(t){return renderGl(state,t,0,!0)})):console.warn(\"the gl instance does not support VR!\"):invalidate(state))},[ready,invalidateFrameloop]);React.useEffect(function(){return function(){state.current.gl&&\n(state.current.gl.forceContextLoss&&state.current.gl.forceContextLoss(),state.current.gl.dispose&&state.current.gl.dispose(),state.current.gl=void 0,unmountComponentAtNode(state.current.scene),state.current.active=!1)}},[]);return state.current.events},blackList=\"id uuid type children parent matrix matrixWorld matrixWorldNeedsUpdate modelViewMatrix normalMatrix\".split(\" \"),defaultStyles={position:\"relative\",width:\"100%\",height:\"100%\",overflow:\"hidden\"},ResizeContainer=React__default.memo(function(props){var preRender=\nprops.preRender,resize=props.resize,style=props.style,restSpread=_objectWithoutPropertiesLoose(props,\"renderer effects children vr gl2 concurrent shadowMap sRGB colorManagement orthographic invalidateFrameloop updateDefaultCamera noEvents gl camera raycaster pixelRatio onCreated onPointerMissed preRender resize style\".split(\" \")),containerRef=React.useRef(),_useState2=React.useState({}),events=_objectWithoutPropertiesLoose(_useState2[0],[\"onGotPointerCaptureLegacy\"]),setEvents=_useState2[1];_useState2=\nuseMeasure(resize||{scroll:!0,debounce:{scroll:50,resize:0},polyfill:\"undefined\"!==typeof window&&window.ResizeObserver?void 0:resizeObserver.ResizeObserver});resize=_useState2[0];var size=_useState2[1],readyFlag=React.useRef(!1);_useState2=React.useMemo(function(){return readyFlag.current=readyFlag.current||!!size.width&&!!size.height},[size]);var state=React.useMemo(function(){return{size,setEvents,container:containerRef.current}},[size]);return\"undefined\"===typeof window?React__default.createElement(\"div\",\n_extends({style:_extends({},defaultStyles,style)},restSpread),preRender):React__default.createElement(\"div\",_extends({ref:mergeRefs([resize,containerRef]),style:_extends({},defaultStyles,style)},events,restSpread),preRender,_useState2&&React__default.createElement(Content,_extends({},props,state)))});require=React__default.memo(function(_ref){var children=_ref.children,props=_objectWithoutPropertiesLoose(_ref,[\"children\"]),canvasRef=React.useRef();return React__default.createElement(ResizeContainer,\n_extends({},props,{renderer:function(){if(canvasRef.current){var params=_extends({antialias:!0,alpha:!0},props.gl);return new THREE.WebGLRenderer(_extends({powerPreference:\"high-performance\",canvas:canvasRef.current,context:props.gl2?canvasRef.current.getContext(\"webgl2\",params):void 0},params))}},preRender:React__default.createElement(\"canvas\",{ref:canvasRef,style:{display:\"block\"}})}),children)});exports.Canvas=require;exports.Dom=function(){console.warn(\"The experimental \\x3cDom\\x3e component was renamed to \\x3cHTML\\x3e and moved to: https://github.com/react-spring/drei\");\nreturn null};exports.Renderer=Renderer;exports.addAfterEffect=function(callback){return createSubs(callback,globalAfterEffects)};exports.addEffect=function(callback){return createSubs(callback,globalEffects)};exports.addTail=function(callback){return createSubs(callback,globalTailEffects)};exports.applyProps=applyProps;exports.createPortal=function(children,containerInfo,implementation,key){void 0===key&&(key=null);containerInfo.__objects||(containerInfo.__objects=[]);return{$$typeof:REACT_PORTAL_TYPE,\nkey:null==key?null:\"\"+key,children,containerInfo,implementation}};exports.extend=function(objects){return void(catalogue=_extends({},catalogue,objects))};exports.invalidate=invalidate;exports.isOrthographicCamera=function(def){return def.isOrthographicCamera};exports.render=render;exports.renderGl=renderGl;exports.stateContext=stateContext;exports.unmountComponentAtNode=unmountComponentAtNode;exports.useCamera=function(){console.warn(\"The useCamera hook was moved to: https://github.com/react-spring/drei\");\nreturn null};exports.useCanvas=useCanvas;exports.useFrame=function(callback,renderPriority){void 0===renderPriority&&(renderPriority=0);var subscribe=useContext(stateContext).subscribe,ref=React.useRef(callback);React.useLayoutEffect(function(){return void(ref.current=callback)},[callback]);React.useEffect(function(){var unsubscribe=subscribe(ref,renderPriority);return function(){return unsubscribe()}},[renderPriority]);return null};exports.useLoader=function(Proto,url$jscomp$1,extensions){var loader=\nReact.useMemo(function(){var temp=new Proto;extensions&&extensions(temp);return temp},[Proto]),results=usePromise(function(Proto,url$jscomp$0){Proto=Array.isArray(url$jscomp$0)?url$jscomp$0:[url$jscomp$0];return Promise.all(Proto.map(function(url){return new Promise(function(res){return loader.load(url,function(data){data.scene&&(data.__$=[],data.nodes={},data.materials={},data.scene.traverse(function(obj){var _extends2;data.__$.push(prune(obj));obj.name&&(data.nodes=_extends({},data.nodes,(_extends2=\n{},_extends2[obj.name]=obj,_extends2)));obj.material&&!data.materials[obj.material.name]&&(data.materials[obj.material.name]=obj.material)}));res(data)})})}))},[Proto,url$jscomp$1]);return Array.isArray(url$jscomp$1)?results:results[0]};exports.useResource=function(optionalRef){var forceUpdate=React.useState(!1)[1],localRef=React.useRef(void 0);optionalRef=optionalRef?optionalRef:localRef;React.useLayoutEffect(function(){return void forceUpdate(function(i){return!i})},[optionalRef.current]);return[optionalRef,\noptionalRef.current]};exports.useThree=function(){return useContext(stateContext)};exports.useUpdate=function(callback,dependents,optionalRef){var invalidate=useContext(stateContext).invalidate,localRef=React.useRef(),ref=optionalRef?optionalRef:localRef;React.useLayoutEffect(function(){ref.current&&(callback(ref.current),invalidate())},dependents);return ref}}","~:source","shadow$provide[\"module$node_modules$react_three_fiber$web_cjs\"] = function(global,require,module,exports) {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/objectWithoutPropertiesLoose'));\nvar _construct = _interopDefault(require('@babel/runtime/helpers/construct'));\nvar THREE = require('three');\nvar Reconciler = _interopDefault(require('react-reconciler'));\nvar scheduler = require('scheduler');\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar tinyEmitter = require('tiny-emitter');\nvar usePromise = _interopDefault(require('react-promise-suspense'));\nvar useMeasure = _interopDefault(require('react-use-measure'));\nvar resizeObserver = require('@juggle/resize-observer');\nvar mergeRefs = _interopDefault(require('react-merge-refs'));\n\nvar version = \"4.2.21\";\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar roots = new Map();\nvar emptyObject = {};\nvar is = {\n  obj: function obj(a) {\n    return a === Object(a) && !is.arr(a);\n  },\n  fun: function fun(a) {\n    return typeof a === 'function';\n  },\n  str: function str(a) {\n    return typeof a === 'string';\n  },\n  num: function num(a) {\n    return typeof a === 'number';\n  },\n  und: function und(a) {\n    return a === void 0;\n  },\n  arr: function arr(a) {\n    return Array.isArray(a);\n  },\n  equ: function equ(a, b) {\n    // Wrong type or one of the two undefined, doesn't match\n    if (typeof a !== typeof b || !!a !== !!b) return false; // Atomic, just compare a against b\n\n    if (is.str(a) || is.num(a) || is.obj(a)) return a === b; // Array, shallow compare first to see if it's a match\n\n    if (is.arr(a) && a == b) return true; // Last resort, go through keys\n\n    var i;\n\n    for (i in a) {\n      if (!(i in b)) return false;\n    }\n\n    for (i in b) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return is.und(i) ? a === b : true;\n  }\n};\n\nfunction createSubs(callback, subs) {\n  var index = subs.length;\n  subs.push(callback);\n  return function () {\n    return void subs.splice(index, 1);\n  };\n}\n\nvar globalEffects = [];\nvar globalAfterEffects = [];\nvar globalTailEffects = [];\nvar addEffect = function addEffect(callback) {\n  return createSubs(callback, globalEffects);\n};\nvar addAfterEffect = function addAfterEffect(callback) {\n  return createSubs(callback, globalAfterEffects);\n};\nvar addTail = function addTail(callback) {\n  return createSubs(callback, globalTailEffects);\n};\nfunction renderGl(state, timestamp, repeat, runGlobalEffects) {\n  if (repeat === void 0) {\n    repeat = 0;\n  }\n\n  if (runGlobalEffects === void 0) {\n    runGlobalEffects = false;\n  }\n\n  // Run global effects\n  if (runGlobalEffects) globalEffects.forEach(function (effect) {\n    return effect(timestamp) && repeat++;\n  }); // Run local effects\n\n  var delta = state.current.clock.getDelta();\n  state.current.subscribers.forEach(function (sub) {\n    return sub.ref.current(state.current, delta);\n  }); // Decrease frame count\n\n  state.current.frames = Math.max(0, state.current.frames - 1);\n  repeat += !state.current.invalidateFrameloop ? 1 : state.current.frames; // Render content\n\n  if (!state.current.manual) state.current.gl.render(state.current.scene, state.current.camera); // Run global effects\n\n  if (runGlobalEffects) globalAfterEffects.forEach(function (effect) {\n    return effect(timestamp);\n  });\n  return repeat;\n}\nvar running = false;\n\nfunction renderLoop(timestamp) {\n  running = true;\n  var repeat = 0; // Run global effects\n\n  globalEffects.forEach(function (effect) {\n    return effect(timestamp) && repeat++;\n  });\n  roots.forEach(function (root) {\n    var state = root.containerInfo.__state; // If the frameloop is invalidated, do not run another frame\n\n    if (state.current.active && state.current.ready && (!state.current.invalidateFrameloop || state.current.frames > 0)) repeat = renderGl(state, timestamp, repeat);\n  }); // Run global after-effects\n\n  globalAfterEffects.forEach(function (effect) {\n    return effect(timestamp);\n  });\n  if (repeat !== 0) return requestAnimationFrame(renderLoop);else {\n    // Tail call effects, they are called when rendering stops\n    globalTailEffects.forEach(function (effect) {\n      return effect(timestamp);\n    });\n  } // Flag end of operation\n\n  running = false;\n}\n\nfunction invalidate(state, frames) {\n  if (state === void 0) {\n    state = true;\n  }\n\n  if (frames === void 0) {\n    frames = 2;\n  }\n\n  if (state === true) roots.forEach(function (root) {\n    return root.containerInfo.__state.current.frames = frames;\n  });else if (state && state.current) {\n    if (state.current.vr) return;\n    state.current.frames = frames;\n  }\n\n  if (!running) {\n    running = true;\n    requestAnimationFrame(renderLoop);\n  }\n}\nvar catalogue = {};\nvar extend = function extend(objects) {\n  return void (catalogue = _extends({}, catalogue, objects));\n};\nfunction applyProps(instance, newProps, oldProps, accumulative) {\n  if (oldProps === void 0) {\n    oldProps = {};\n  }\n\n  if (accumulative === void 0) {\n    accumulative = false;\n  }\n\n  // Filter equals, events and reserved props\n  var container = instance.__container;\n  var sameProps = Object.keys(newProps).filter(function (key) {\n    return is.equ(newProps[key], oldProps[key]);\n  });\n  var handlers = Object.keys(newProps).filter(function (key) {\n    // Event-handlers ...\n    //   are functions, that\n    //   start with \"on\", and\n    //   contain the name \"Pointer\", \"Click\", \"ContextMenu\", or \"Wheel\"\n    if (is.fun(newProps[key]) && key.startsWith('on')) {\n      return key.includes('Pointer') || key.includes('Click') || key.includes('ContextMenu') || key.includes('Wheel');\n    }\n  });\n  var leftOvers = accumulative ? Object.keys(oldProps).filter(function (key) {\n    return newProps[key] === void 0;\n  }) : [];\n  var toFilter = [].concat(sameProps, ['children', 'key', 'ref']); // Instances use \"object\" as a reserved identifier\n\n  if (instance.__instance) toFilter.push('object');\n  var filteredProps = toFilter.reduce(function (acc, prop) {\n    var _ = acc[prop],\n        rest = _objectWithoutPropertiesLoose(acc, [prop].map(_toPropertyKey));\n\n    return rest;\n  }, newProps); // Add left-overs as undefined props so they can be removed\n\n  leftOvers.forEach(function (key) {\n    return key !== 'children' && (filteredProps[key] = undefined);\n  });\n\n  if (Object.keys(filteredProps).length > 0) {\n    Object.entries(filteredProps).forEach(function (_ref) {\n      var key = _ref[0],\n          value = _ref[1];\n\n      if (!handlers.includes(key)) {\n        var _instance$__container;\n\n        var root = instance;\n        var target = root[key];\n\n        if (key.includes('-')) {\n          var entries = key.split('-');\n          target = entries.reduce(function (acc, key) {\n            return acc[key];\n          }, instance); // If the target is atomic, it forces us to switch the root\n\n          if (!(target && target.set)) {\n            var _entries$reverse = entries.reverse(),\n                _name = _entries$reverse[0],\n                reverseEntries = _entries$reverse.slice(1);\n\n            root = reverseEntries.reverse().reduce(function (acc, key) {\n              return acc[key];\n            }, instance);\n            key = _name;\n          }\n        } // Special treatment for objects with support for set/copy\n\n\n        var isColorManagement = (_instance$__container = instance.__container) == null ? void 0 : _instance$__container.__state.current.colorManagement;\n\n        if (target && target.set && (target.copy || target instanceof THREE.Layers)) {\n          var _target;\n\n          // If value is an array it has got to be the set function\n          if (Array.isArray(value)) (_target = target).set.apply(_target, value); // Test again target.copy(class) next ...\n          else if (target.copy && value && value.constructor && target.constructor.name === value.constructor.name) target.copy(value); // If nothing else fits, just set the single value, ignore undefined\n            // https://github.com/react-spring/react-three-fiber/issues/274\n            else if (value !== undefined) {\n                target.set(value); // Auto-convert sRGB colors, for now ...\n                // https://github.com/react-spring/react-three-fiber/issues/344\n\n                if (isColorManagement && target instanceof THREE.Color) {\n                  target.convertSRGBToLinear();\n                }\n              } // Else, just overwrite the value\n        } else {\n          root[key] = value; // Auto-convert sRGB textures, for now ...\n          // https://github.com/react-spring/react-three-fiber/issues/344\n\n          if (isColorManagement && root[key] instanceof THREE.Texture) {\n            root[key].encoding = THREE.sRGBEncoding;\n          }\n        }\n\n        invalidateInstance(instance);\n      }\n    }); // Preemptively delete the instance from the containers interaction\n\n    if (accumulative && container && instance.raycast && instance.__handlers) {\n      instance.__handlers = undefined;\n\n      var index = container.__interaction.indexOf(instance);\n\n      if (index > -1) container.__interaction.splice(index, 1);\n    } // Prep interaction handlers\n\n\n    if (handlers.length) {\n      // Add interactive object to central container\n      if (container && instance.raycast) container.__interaction.push(instance); // Add handlers to the instances handler-map\n\n      instance.__handlers = handlers.reduce(function (acc, key) {\n        var _extends2;\n\n        return _extends({}, acc, (_extends2 = {}, _extends2[key.charAt(2).toLowerCase() + key.substr(3)] = newProps[key], _extends2));\n      }, {});\n    } // Call the update lifecycle when it is being updated, but only when it is part of the scene\n\n\n    if (instance.parent) updateInstance(instance);\n  }\n}\n\nfunction invalidateInstance(instance) {\n  if (instance.__container && instance.__container.__state) invalidate(instance.__container.__state);\n}\n\nfunction updateInstance(instance) {\n  if (instance.onUpdate) instance.onUpdate(instance);\n}\n\nfunction createInstance(type, _ref2, container, hostContext, internalInstanceHandle) {\n  var _ref2$args = _ref2.args,\n      args = _ref2$args === void 0 ? [] : _ref2$args,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"args\"]);\n\n  var name = \"\" + type[0].toUpperCase() + type.slice(1);\n  var instance;\n\n  if (type === 'primitive') {\n    instance = props.object;\n    instance.__instance = true;\n  } else if (type === 'new') {\n    instance = new props.object(args);\n  } else {\n    var target = catalogue[name] || THREE[name];\n\n    if (!target) {\n      throw \"\\\"\" + name + \"\\\" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/react-spring/react-three-fiber#using-3rd-party-non-three-namespaced-objects-in-the-scene-graph\";\n    }\n\n    instance = is.arr(args) ? _construct(target, args) : new target(args);\n  } // Bind to the root container in case portals are being used\n  // This is perhaps better for event management as we can keep them on a single instance\n\n\n  while (container.__container) {\n    container = container.__container;\n  } // TODO: https://github.com/facebook/react/issues/17147\n  // If it's still not there it means the portal was created on a virtual node outside of react\n\n\n  if (!roots.has(container)) {\n    var fn = function fn(node) {\n      if (!node[\"return\"]) return node.stateNode && node.stateNode.containerInfo;else return fn(node[\"return\"]);\n    };\n\n    container = fn(internalInstanceHandle);\n  } // Apply initial props\n\n\n  instance.__objects = [];\n  instance.__container = container; // It should NOT call onUpdate on object instanciation, because it hasn't been added to the\n  // view yet. If the callback relies on references for instance, they won't be ready yet, this is\n  // why it passes \"false\" here\n\n  applyProps(instance, props, {});\n  return instance;\n}\n\nfunction appendChild(parentInstance, child) {\n  if (child) {\n    if (child.isObject3D) parentInstance.add(child);else {\n      parentInstance.__objects.push(child);\n\n      child.parent = parentInstance; // The attach attribute implies that the object attaches itself on the parent\n\n      if (child.attach) parentInstance[child.attach] = child;else if (child.attachArray) {\n        if (!is.arr(parentInstance[child.attachArray])) parentInstance[child.attachArray] = [];\n        parentInstance[child.attachArray].push(child);\n      } else if (child.attachObject) {\n        if (!is.obj(parentInstance[child.attachObject[0]])) parentInstance[child.attachObject[0]] = {};\n        parentInstance[child.attachObject[0]][child.attachObject[1]] = child;\n      }\n    }\n    updateInstance(child);\n    invalidateInstance(child);\n  }\n}\n\nfunction insertBefore(parentInstance, child, beforeChild) {\n  if (child) {\n    if (child.isObject3D) {\n      child.parent = parentInstance;\n      child.dispatchEvent({\n        type: 'added'\n      });\n      var restSiblings = parentInstance.children.filter(function (sibling) {\n        return sibling !== child;\n      }); // TODO: the order is out of whack if data objects are present, has to be recalculated\n\n      var index = restSiblings.indexOf(beforeChild);\n      parentInstance.children = [].concat(restSiblings.slice(0, index), [child], restSiblings.slice(index));\n      updateInstance(child);\n    } else appendChild(parentInstance, child); // TODO: order!!!\n\n\n    invalidateInstance(child);\n  }\n}\n\nfunction removeRecursive(array, parent, clone) {\n  if (clone === void 0) {\n    clone = false;\n  }\n\n  if (array) {\n    // Three uses splice op's internally we may have to shallow-clone the array in order to safely remove items\n    var target = clone ? [].concat(array) : array;\n    target.forEach(function (child) {\n      return removeChild(parent, child);\n    });\n  }\n}\n\nfunction removeChild(parentInstance, child) {\n  if (child) {\n    if (child.isObject3D) {\n      parentInstance.remove(child);\n    } else {\n      child.parent = null;\n      if (parentInstance.__objects) parentInstance.__objects = parentInstance.__objects.filter(function (x) {\n        return x !== child;\n      }); // Remove attachment\n\n      if (child.attach) parentInstance[child.attach] = null;else if (child.attachArray) parentInstance[child.attachArray] = parentInstance[child.attachArray].filter(function (x) {\n        return x !== child;\n      });else if (child.attachObject) {\n        delete parentInstance[child.attachObject[0]][child.attachObject[1]];\n      }\n    }\n\n    invalidateInstance(child); // Allow objects to bail out of recursive dispose alltogether by passing dispose={null}\n\n    if (child.dispose !== null) {\n      scheduler.unstable_runWithPriority(scheduler.unstable_IdlePriority, function () {\n        // Remove interactivity\n        if (child.__container) child.__container.__interaction = child.__container.__interaction.filter(function (x) {\n          return x !== child;\n        }); // Remove nested child objects\n\n        removeRecursive(child.__objects, child);\n        removeRecursive(child.children, child, true); // Dispose item\n\n        if (child.dispose) child.dispose(); // Remove references\n\n        delete child.__container;\n        delete child.__objects;\n      });\n    }\n  }\n}\n\nfunction switchInstance(instance, type, newProps, fiber) {\n  var parent = instance.parent;\n  var newInstance = createInstance(type, newProps, instance.__container, null, fiber);\n  removeChild(parent, instance);\n  appendChild(parent, newInstance) // This evil hack switches the react-internal fiber node\n  // https://github.com/facebook/react/issues/14983\n  // https://github.com/facebook/react/pull/15021\n  ;\n  [fiber, fiber.alternate].forEach(function (fiber) {\n    if (fiber !== null) {\n      fiber.stateNode = newInstance;\n\n      if (fiber.ref) {\n        if (is.fun(fiber.ref)) fiber.ref(newInstance);else fiber.ref.current = newInstance;\n      }\n    }\n  });\n}\n\nvar Renderer = Reconciler({\n  now: scheduler.unstable_now,\n  createInstance: createInstance,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  insertBefore: insertBefore,\n  // @ts-ignore\n  warnsIfNotActing: true,\n  supportsMutation: true,\n  isPrimaryRenderer: false,\n  scheduleTimeout: is.fun(setTimeout) ? setTimeout : undefined,\n  cancelTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\n  // @ts-ignore\n  setTimeout: is.fun(setTimeout) ? setTimeout : undefined,\n  // @ts-ignore\n  clearTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\n  noTimeout: -1,\n  appendInitialChild: appendChild,\n  appendChildToContainer: appendChild,\n  removeChildFromContainer: removeChild,\n  insertInContainerBefore: insertBefore,\n  commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps, fiber) {\n    if (instance.__instance && newProps.object && newProps.object !== instance) {\n      // <instance object={...} /> where the object reference has changed\n      switchInstance(instance, type, newProps, fiber);\n    } else {\n      // This is a data object, let's extract critical information about it\n      var _newProps$args = newProps.args,\n          argsNew = _newProps$args === void 0 ? [] : _newProps$args,\n          restNew = _objectWithoutPropertiesLoose(newProps, [\"args\"]);\n\n      var _oldProps$args = oldProps.args,\n          argsOld = _oldProps$args === void 0 ? [] : _oldProps$args,\n          restOld = _objectWithoutPropertiesLoose(oldProps, [\"args\"]); // If it has new props or arguments, then it needs to be re-instanciated\n\n\n      var hasNewArgs = argsNew.some(function (value, index) {\n        return is.obj(value) ? Object.entries(value).some(function (_ref3) {\n          var key = _ref3[0],\n              val = _ref3[1];\n          return val !== argsOld[index][key];\n        }) : value !== argsOld[index];\n      });\n\n      if (hasNewArgs) {\n        // Next we create a new instance and append it again\n        switchInstance(instance, type, newProps, fiber);\n      } else {\n        // Otherwise just overwrite props\n        applyProps(instance, restNew, restOld, true);\n      }\n    }\n  },\n  hideInstance: function hideInstance(instance) {\n    if (instance.isObject3D) {\n      instance.visible = false;\n      invalidateInstance(instance);\n    }\n  },\n  unhideInstance: function unhideInstance(instance, props) {\n    if (instance.isObject3D && props.visible == null || props.visible) {\n      instance.visible = true;\n      invalidateInstance(instance);\n    }\n  },\n  hideTextInstance: function hideTextInstance() {\n    throw new Error('Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.');\n  },\n  getPublicInstance: function getPublicInstance(instance) {\n    return instance;\n  },\n  getRootHostContext: function getRootHostContext() {\n    return emptyObject;\n  },\n  getChildHostContext: function getChildHostContext() {\n    return emptyObject;\n  },\n  createTextInstance: function createTextInstance() {},\n  finalizeInitialChildren: function finalizeInitialChildren() {\n    return false;\n  },\n  prepareUpdate: function prepareUpdate() {\n    return emptyObject;\n  },\n  shouldDeprioritizeSubtree: function shouldDeprioritizeSubtree() {\n    return false;\n  },\n  prepareForCommit: function prepareForCommit() {},\n  resetAfterCommit: function resetAfterCommit() {},\n  shouldSetTextContent: function shouldSetTextContent() {\n    return false;\n  }\n});\nvar LegacyRoot = 0;\nvar ConcurrentRoot = 2;\nvar hasSymbol = is.fun(Symbol) && Symbol[\"for\"];\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol[\"for\"]('react.portal') : 0xeaca;\nfunction render(element, container, state) {\n  var root = roots.get(container);\n\n  if (!root) {\n    container.__state = state;\n    var newRoot = root = Renderer.createContainer(container, //@ts-ignore\n    state !== undefined && state.current.concurrent ? ConcurrentRoot : LegacyRoot, false);\n    roots.set(container, newRoot);\n  }\n\n  Renderer.updateContainer(element, root, null, function () {\n    return undefined;\n  });\n  return Renderer.getPublicRootInstance(root);\n}\nfunction unmountComponentAtNode(container) {\n  var root = roots.get(container);\n  if (root) Renderer.updateContainer(null, root, null, function () {\n    return void roots[\"delete\"](container);\n  });\n}\nfunction createPortal(children, containerInfo, implementation, key) {\n  if (key === void 0) {\n    key = null;\n  }\n\n  if (!containerInfo.__objects) containerInfo.__objects = [];\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: key == null ? null : '' + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nRenderer.injectIntoDevTools({\n  bundleType: process.env.NODE_ENV === 'production' ? 0 : 1,\n  version: version,\n  rendererPackageName: 'react-three-fiber',\n  //@ts-ignore\n  findHostInstanceByFiber: Renderer.findHostInstance\n});\n\nfunction _createForOfIteratorHelperLoose(o) { var i = 0; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } i = o[Symbol.iterator](); return i.next.bind(i); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction isOrthographicCamera(def) {\n  return def.isOrthographicCamera;\n}\n\nfunction makeId(event) {\n  return (event.eventObject || event.object).uuid + '/' + event.index;\n}\n\nvar stateContext = React.createContext({});\nvar useCanvas = function useCanvas(props) {\n  var children = props.children,\n      gl = props.gl,\n      camera = props.camera,\n      orthographic = props.orthographic,\n      raycaster = props.raycaster,\n      size = props.size,\n      pixelRatio = props.pixelRatio,\n      _props$vr = props.vr,\n      vr = _props$vr === void 0 ? false : _props$vr,\n      _props$concurrent = props.concurrent,\n      concurrent = _props$concurrent === void 0 ? false : _props$concurrent,\n      _props$shadowMap = props.shadowMap,\n      shadowMap = _props$shadowMap === void 0 ? false : _props$shadowMap,\n      _props$sRGB = props.sRGB,\n      sRGB = _props$sRGB === void 0 ? false : _props$sRGB,\n      _props$colorManagemen = props.colorManagement,\n      colorManagement = _props$colorManagemen === void 0 ? false : _props$colorManagemen,\n      _props$invalidateFram = props.invalidateFrameloop,\n      invalidateFrameloop = _props$invalidateFram === void 0 ? false : _props$invalidateFram,\n      _props$updateDefaultC = props.updateDefaultCamera,\n      updateDefaultCamera = _props$updateDefaultC === void 0 ? true : _props$updateDefaultC,\n      _props$noEvents = props.noEvents,\n      noEvents = _props$noEvents === void 0 ? false : _props$noEvents,\n      onCreated = props.onCreated,\n      onPointerMissed = props.onPointerMissed; // Local, reactive state\n\n  var _useState = React.useState(false),\n      ready = _useState[0],\n      setReady = _useState[1];\n\n  var _useState2 = React.useState(function () {\n    return new THREE.Vector2();\n  }),\n      mouse = _useState2[0];\n\n  var _useState3 = React.useState(function () {\n    var ray = new THREE.Raycaster();\n\n    if (raycaster) {\n      var filter = raycaster.filter,\n          raycasterProps = _objectWithoutPropertiesLoose(raycaster, [\"filter\"]);\n\n      applyProps(ray, raycasterProps, {});\n    }\n\n    return ray;\n  }),\n      defaultRaycaster = _useState3[0];\n\n  var _useState4 = React.useState(function () {\n    var scene = new THREE.Scene();\n    scene.__interaction = [];\n    scene.__objects = [];\n    return scene;\n  }),\n      defaultScene = _useState4[0];\n\n  var _useState5 = React.useState(function () {\n    var cam = orthographic ? new THREE.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new THREE.PerspectiveCamera(75, 0, 0.1, 1000);\n    cam.position.z = 5;\n    if (camera) applyProps(cam, camera, {}); // Always look at [0, 0, 0]\n\n    cam.lookAt(0, 0, 0);\n    return cam;\n  }),\n      defaultCam = _useState5[0],\n      _setDefaultCamera = _useState5[1];\n\n  var _useState6 = React.useState(function () {\n    return new THREE.Clock();\n  }),\n      clock = _useState6[0]; // Public state\n\n\n  var state = React.useRef({\n    ready: false,\n    active: true,\n    manual: 0,\n    colorManagement: colorManagement,\n    sRGB: sRGB,\n    vr: vr,\n    concurrent: concurrent,\n    noEvents: noEvents,\n    invalidateFrameloop: false,\n    frames: 0,\n    aspect: 0,\n    subscribers: [],\n    camera: defaultCam,\n    scene: defaultScene,\n    raycaster: defaultRaycaster,\n    mouse: mouse,\n    clock: clock,\n    gl: gl,\n    size: size,\n    viewport: {\n      width: 0,\n      height: 0,\n      factor: 0\n    },\n    initialClick: [0, 0],\n    initialHits: [],\n    pointer: new tinyEmitter.TinyEmitter(),\n    captured: undefined,\n    events: undefined,\n    subscribe: function subscribe(ref, priority) {\n      if (priority === void 0) {\n        priority = 0;\n      }\n\n      // If this subscription was given a priority, it takes rendering into its own hands\n      // For that reason we switch off automatic rendering and increase the manual flag\n      // As long as this flag is positive (there could be multiple render subscription)\n      // ..there can be no internal rendering at all\n      if (priority) state.current.manual++;\n      state.current.subscribers.push({\n        ref: ref,\n        priority: priority\n      }); // Sort layers from lowest to highest, meaning, highest priority renders last (on top of the other frames)\n\n      state.current.subscribers = state.current.subscribers.sort(function (a, b) {\n        return a.priority - b.priority;\n      });\n      return function () {\n        // Decrease manual flag if this subscription had a priority\n        if (priority) state.current.manual--;\n        state.current.subscribers = state.current.subscribers.filter(function (s) {\n          return s.ref !== ref;\n        });\n      };\n    },\n    setDefaultCamera: function setDefaultCamera(camera) {\n      return _setDefaultCamera(camera);\n    },\n    invalidate: function invalidate$1() {\n      return invalidate(state);\n    },\n    intersect: function intersect(event, prepare) {\n      if (event === void 0) {\n        event = {};\n      }\n\n      if (prepare === void 0) {\n        prepare = true;\n      }\n\n      return handlePointerMove(event, prepare);\n    }\n  }); // Writes locals into public state for distribution among subscribers, context, etc\n\n  React.useMemo(function () {\n    state.current.ready = ready;\n    state.current.size = size;\n    state.current.camera = defaultCam;\n    state.current.invalidateFrameloop = invalidateFrameloop;\n    state.current.vr = vr;\n    state.current.gl = gl;\n    state.current.concurrent = concurrent;\n    state.current.noEvents = noEvents;\n  }, [invalidateFrameloop, vr, concurrent, noEvents, ready, size, defaultCam, gl]); // Adjusts default camera\n\n  React.useMemo(function () {\n    state.current.aspect = size.width / size.height;\n\n    if (isOrthographicCamera(defaultCam)) {\n      state.current.viewport = {\n        width: size.width,\n        height: size.height,\n        factor: 1\n      };\n    } else {\n      var target = new THREE.Vector3(0, 0, 0);\n      var distance = defaultCam.position.distanceTo(target);\n      var fov = defaultCam.fov * Math.PI / 180; // convert vertical fov to radians\n\n      var height = 2 * Math.tan(fov / 2) * distance; // visible height\n\n      var width = height * state.current.aspect;\n      state.current.viewport = {\n        width: width,\n        height: height,\n        factor: size.width / width\n      };\n    } // #92 (https://github.com/drcmda/react-three-fiber/issues/92)\n    // Sometimes automatic default camera adjustment isn't wanted behaviour\n\n\n    if (updateDefaultCamera) {\n      if (isOrthographicCamera(defaultCam)) {\n        defaultCam.left = size.width / -2;\n        defaultCam.right = size.width / 2;\n        defaultCam.top = size.height / 2;\n        defaultCam.bottom = size.height / -2;\n      } else {\n        defaultCam.aspect = state.current.aspect;\n      }\n\n      defaultCam.updateProjectionMatrix(); // #178: https://github.com/react-spring/react-three-fiber/issues/178\n      // Update matrix world since the renderer is a frame late\n\n      defaultCam.updateMatrixWorld();\n    }\n\n    gl.setSize(size.width, size.height);\n    if (ready) invalidate(state);\n  }, [defaultCam, gl, size, updateDefaultCamera]);\n  /** Events ------------------------------------------------------------------------------------------------ */\n\n  /** Sets up defaultRaycaster */\n\n  var prepareRay = React.useCallback(function (_ref) {\n    var clientX = _ref.clientX,\n        clientY = _ref.clientY;\n\n    if (clientX !== void 0) {\n      var _state$current$size = state.current.size,\n          left = _state$current$size.left,\n          right = _state$current$size.right,\n          top = _state$current$size.top,\n          bottom = _state$current$size.bottom;\n      mouse.set((clientX - left) / (right - left) * 2 - 1, -((clientY - top) / (bottom - top)) * 2 + 1);\n      defaultRaycaster.setFromCamera(mouse, state.current.camera);\n    }\n  }, []);\n  /** Intersects interaction objects using the event input */\n\n  var intersect = React.useCallback(function (event, filter) {\n    // Skip event handling when noEvents is set\n    if (state.current.noEvents) return [];\n    var seen = new Set();\n    var hits = []; // Allow callers to eliminate event objects\n\n    var eventsObjects = filter ? filter(state.current.scene.__interaction) : state.current.scene.__interaction; // Intersect known handler objects and filter against duplicates\n\n    var intersects = defaultRaycaster.intersectObjects(eventsObjects, true).filter(function (item) {\n      var id = makeId(item);\n      if (seen.has(id)) return false;\n      seen.add(id);\n      return true;\n    }); // #16031: (https://github.com/mrdoob/three.js/issues/16031)\n    // Allow custom userland intersect sort order\n\n    if (raycaster && raycaster.filter && sharedState.current) {\n      intersects = raycaster.filter(intersects, sharedState.current);\n    }\n\n    for (var _iterator = _createForOfIteratorHelperLoose(intersects), _step; !(_step = _iterator()).done;) {\n      var _intersect = _step.value;\n      var eventObject = _intersect.object; // Bubble event up\n\n      while (eventObject) {\n        var handlers = eventObject.__handlers;\n        if (handlers) hits.push(_extends({}, _intersect, {\n          eventObject: eventObject\n        }));\n        eventObject = eventObject.parent;\n      }\n    }\n\n    return hits;\n  }, []);\n  /**  Calculates click deltas */\n\n  var calculateDistance = React.useCallback(function (event) {\n    var dx = event.clientX - state.current.initialClick[0];\n    var dy = event.clientY - state.current.initialClick[1];\n    return Math.round(Math.sqrt(dx * dx + dy * dy));\n  }, []);\n  var hovered = React.useMemo(function () {\n    return new Map();\n  }, []);\n  /**  Handles intersections by forwarding them to handlers */\n\n  var temp = new THREE.Vector3();\n  var handleIntersects = React.useCallback(function (event, fn, filter) {\n    // Get fresh intersects\n    var intersections = intersect(event, filter); // If the interaction is captured take that into account, the captured event has to be part of the intersects\n\n    if (state.current.captured && event.type !== 'click' && event.type !== 'wheel') {\n      state.current.captured.forEach(function (captured) {\n        if (!intersections.find(function (hit) {\n          return hit.eventObject === captured.eventObject;\n        })) intersections.push(captured);\n      });\n    } // If anything has been found, forward it to the event listeners\n\n\n    if (intersections.length) {\n      (function () {\n        var unprojectedPoint = temp.set(mouse.x, mouse.y, 0).unproject(state.current.camera);\n        var delta = event.type === 'click' ? calculateDistance(event) : 0;\n\n        var releasePointerCapture = function releasePointerCapture(id) {\n          return event.target.releasePointerCapture(id);\n        };\n\n        var localState = {\n          stopped: false,\n          captured: false\n        };\n\n        var _loop = function _loop() {\n          var hit = _step2.value;\n\n          var setPointerCapture = function setPointerCapture(id) {\n            // If the hit is going to be captured flag that we're in captured state\n            if (!localState.captured) {\n              localState.captured = true; // The captured hit array is reset to collect hits\n\n              state.current.captured = [];\n            } // Push hits to the array\n\n\n            if (state.current.captured) {\n              state.current.captured.push(hit);\n            } // Call the original event now\n            event.target.setPointerCapture(id);\n          };\n\n          var raycastEvent = _extends({}, event, hit, {\n            intersections: intersections,\n            stopped: localState.stopped,\n            delta: delta,\n            unprojectedPoint: unprojectedPoint,\n            ray: defaultRaycaster.ray,\n            camera: state.current.camera,\n            // Hijack stopPropagation, which just sets a flag\n            stopPropagation: function stopPropagation() {\n              // https://github.com/react-spring/react-three-fiber/issues/596\n              // Events are not allowed to stop propagation if the pointer has been captured\n              var cap = state.current.captured;\n\n              if (!cap || cap.find(function (h) {\n                return h.eventObject.id === hit.eventObject.id;\n              })) {\n                raycastEvent.stopped = localState.stopped = true;\n              }\n            },\n            // Pointer-capture needs the hit, on which the user may call stopPropagation()\n            // This makes it harder to use the actual event, because then we loose the connection\n            // to the actual hit, which would mean it's picking up all intersects ...\n            target: _extends({}, event.target, {\n              setPointerCapture: setPointerCapture,\n              releasePointerCapture: releasePointerCapture\n            }),\n            currentTarget: _extends({}, event.currentTarget, {\n              setPointerCapture: setPointerCapture,\n              releasePointerCapture: releasePointerCapture\n            }),\n            sourceEvent: event\n          });\n\n          fn(raycastEvent);\n\n          if (localState.stopped === true) {\n            // Propagation is stopped, remove all other hover records\n            // An event handler is only allowed to flush other handlers if it is hovered itself\n            if (hovered.size && Array.from(hovered.values()).find(function (i) {\n              return i.object === hit.object;\n            })) {\n              handlePointerCancel(raycastEvent, [hit]);\n            }\n\n            return \"break\";\n          }\n        };\n\n        for (var _iterator2 = _createForOfIteratorHelperLoose(intersections), _step2; !(_step2 = _iterator2()).done;) {\n          var _ret = _loop();\n\n          if (_ret === \"break\") break;\n        }\n      })();\n    }\n\n    return intersections;\n  }, []);\n  var handlePointerMove = React.useCallback(function (event, prepare) {\n    if (prepare === void 0) {\n      prepare = true;\n    }\n\n    state.current.pointer.emit('pointerMove', event);\n    if (prepare) prepareRay(event);\n    var hits = handleIntersects(event, function (data) {\n      var eventObject = data.eventObject;\n      var handlers = eventObject.__handlers; // Check presence of handlers\n\n      if (!handlers) return; // Call mouse move\n\n      if (handlers.pointerMove) handlers.pointerMove(data); // Check if mouse enter or out is present\n\n      if (handlers.pointerOver || handlers.pointerEnter || handlers.pointerOut || handlers.pointerLeave) {\n        var id = makeId(data);\n        var hoveredItem = hovered.get(id);\n\n        if (!hoveredItem) {\n          // If the object wasn't previously hovered, book it and call its handler\n          hovered.set(id, data);\n          if (handlers.pointerOver) handlers.pointerOver(_extends({}, data, {\n            type: 'pointerover'\n          }));\n          if (handlers.pointerEnter) handlers.pointerEnter(_extends({}, data, {\n            type: 'pointerenter'\n          }));\n        } else if (hoveredItem.stopped) {\n          // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\n          data.stopPropagation();\n        }\n      }\n    }, // This is onPointerMove, we're only interested in events that exhibit this particular event\n    function (objects) {\n      return objects.filter(function (obj) {\n        return ['Move', 'Over', 'Enter', 'Out', 'Leave'].some(function (name) {\n          return obj.__handlers['pointer' + name];\n        });\n      });\n    }); // Take care of unhover\n\n    handlePointerCancel(event, hits, prepare);\n    return hits;\n  }, []);\n  var handlePointerCancel = React.useCallback(function (event, hits, prepare) {\n    if (prepare === void 0) {\n      prepare = true;\n    }\n\n    state.current.pointer.emit('pointerCancel', event);\n    if (prepare) prepareRay(event);\n    if (!hits) hits = handleIntersects(event, function () {\n      return null;\n    });\n    Array.from(hovered.values()).forEach(function (data) {\n      // When no objects were hit or the the hovered object wasn't found underneath the cursor\n      // we call onPointerOut and delete the object from the hovered-elements map\n      if (hits && (!hits.length || !hits.find(function (i) {\n        return i.eventObject === data.eventObject;\n      }))) {\n        var eventObject = data.eventObject;\n        var handlers = eventObject.__handlers;\n\n        if (handlers) {\n          if (handlers.pointerOut) handlers.pointerOut(_extends({}, data, {\n            type: 'pointerout'\n          }));\n          if (handlers.pointerLeave) handlers.pointerLeave(_extends({}, data, {\n            type: 'pointerleave'\n          }));\n        }\n\n        hovered[\"delete\"](makeId(data));\n      }\n    });\n  }, []);\n  var handlePointer = React.useCallback(function (name) {\n    return function (event, prepare) {\n      if (prepare === void 0) {\n        prepare = true;\n      }\n\n      state.current.pointer.emit(name, event);\n      if (prepare) prepareRay(event);\n      var hits = handleIntersects(event, function (data) {\n        var eventObject = data.eventObject;\n        var handlers = eventObject.__handlers;\n\n        if (handlers && handlers[name]) {\n          // Forward all events back to their respective handlers with the exception of click events,\n          // which must use the initial target\n          if (name !== 'click' && name !== 'contextMenu' && name !== 'doubleClick' || state.current.initialHits.includes(eventObject)) {\n            handlers[name](data);\n          }\n        }\n      }); // If a click yields no results, pass it back to the user as a miss\n\n      if (name === 'pointerDown') {\n        state.current.initialClick = [event.clientX, event.clientY];\n        state.current.initialHits = hits.map(function (hit) {\n          return hit.eventObject;\n        });\n      }\n\n      if ((name === 'click' || name === 'contextMenu' || name === 'doubleClick') && !hits.length && onPointerMissed) {\n        if (calculateDistance(event) <= 2) onPointerMissed();\n      }\n    };\n  }, [onPointerMissed]);\n  React.useMemo(function () {\n    state.current.events = {\n      onClick: handlePointer('click'),\n      onContextMenu: handlePointer('contextMenu'),\n      onDoubleClick: handlePointer('doubleClick'),\n      onWheel: handlePointer('wheel'),\n      onPointerDown: handlePointer('pointerDown'),\n      onPointerUp: handlePointer('pointerUp'),\n      onPointerLeave: function onPointerLeave(e) {\n        return handlePointerCancel(e, []);\n      },\n      onPointerMove: handlePointerMove,\n      // onGotPointerCapture is not needed any longer because the behaviour is hacked into\n      // the event itself (see handleIntersects). But in order for non-web targets to simulate\n      // it we keep the legacy event, which simply flags all current intersects as captured\n      onGotPointerCaptureLegacy: function onGotPointerCaptureLegacy(e) {\n        return state.current.captured = intersect(e);\n      },\n      onLostPointerCapture: function onLostPointerCapture(e) {\n        return state.current.captured = undefined, handlePointerCancel(e);\n      }\n    };\n  }, [onPointerMissed]);\n  /** Events ------------------------------------------------------------------------------------------------- */\n  // Only trigger the context provider when necessary\n\n  var sharedState = React.useRef();\n  React.useMemo(function () {\n    var _state$current = state.current,\n        ready = _state$current.ready,\n        manual = _state$current.manual,\n        vr = _state$current.vr,\n        noEvents = _state$current.noEvents,\n        invalidateFrameloop = _state$current.invalidateFrameloop,\n        frames = _state$current.frames,\n        subscribers = _state$current.subscribers,\n        captured = _state$current.captured,\n        initialClick = _state$current.initialClick,\n        initialHits = _state$current.initialHits,\n        props = _objectWithoutPropertiesLoose(_state$current, [\"ready\", \"manual\", \"vr\", \"noEvents\", \"invalidateFrameloop\", \"frames\", \"subscribers\", \"captured\", \"initialClick\", \"initialHits\"]);\n\n    sharedState.current = props;\n  }, [size, defaultCam]); // Update pixel ratio\n\n  React.useLayoutEffect(function () {\n    return void (pixelRatio && gl.setPixelRatio(pixelRatio));\n  }, [pixelRatio]); // Update shadow map\n\n  React.useLayoutEffect(function () {\n    if (shadowMap) {\n      gl.shadowMap.enabled = true;\n      if (typeof shadowMap === 'object') Object.assign(gl.shadowMap, shadowMap);else gl.shadowMap.type = THREE.PCFSoftShadowMap;\n    }\n\n    if (sRGB || colorManagement) {\n      gl.toneMapping = THREE.ACESFilmicToneMapping;\n      gl.outputEncoding = THREE.sRGBEncoding;\n    }\n  }, [shadowMap, sRGB, colorManagement]); // This component is a bridge into the three render context, when it gets rendered\n  // we know we are ready to compile shaders, call subscribers, etc\n\n  var Canvas = React.useCallback(function Canvas(props) {\n    var activate = function activate() {\n      return setReady(true);\n    }; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    React.useEffect(function () {\n      var result = onCreated && onCreated(state.current);\n      return void (result && result.then ? result.then(activate) : activate());\n    }, []);\n    return props.children;\n  }, []); // Render v-dom into scene\n\n  React.useLayoutEffect(function () {\n    render( /*#__PURE__*/React.createElement(Canvas, null, /*#__PURE__*/React.createElement(stateContext.Provider, {\n      value: sharedState.current\n    }, typeof children === 'function' ? children(state.current) : children)), defaultScene, state);\n  }, [ready, children, sharedState.current]);\n  React.useLayoutEffect(function () {\n    if (ready) {\n      // Start render-loop, either via RAF or setAnimationLoop for VR\n      if (!state.current.vr) {\n        invalidate(state);\n      } else if ((gl.xr || gl.vr) && gl.setAnimationLoop) {\n        (gl.xr || gl.vr).enabled = true;\n        gl.setAnimationLoop(function (t) {\n          return renderGl(state, t, 0, true);\n        });\n      } else console.warn('the gl instance does not support VR!');\n    }\n  }, [ready, invalidateFrameloop]); // Dispose renderer on unmount\n\n  React.useEffect(function () {\n    return function () {\n      if (state.current.gl) {\n        if (state.current.gl.forceContextLoss) state.current.gl.forceContextLoss();\n        if (state.current.gl.dispose) state.current.gl.dispose();\n        state.current.gl = undefined;\n        unmountComponentAtNode(state.current.scene);\n        state.current.active = false;\n      }\n    };\n  }, []);\n  return state.current.events;\n};\n\nfunction useContext(context) {\n  var result = React.useContext(context);\n\n  if (!result) {\n    console.warn('hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks');\n  }\n\n  return result;\n}\n\nfunction useFrame(callback, renderPriority) {\n  if (renderPriority === void 0) {\n    renderPriority = 0;\n  }\n\n  var _useContext = useContext(stateContext),\n      subscribe = _useContext.subscribe; // Update ref\n\n\n  var ref = React.useRef(callback);\n  React.useLayoutEffect(function () {\n    return void (ref.current = callback);\n  }, [callback]); // Subscribe/unsub\n\n  React.useEffect(function () {\n    var unsubscribe = subscribe(ref, renderPriority);\n    return function () {\n      return unsubscribe();\n    };\n  }, [renderPriority]);\n  return null;\n}\nfunction useThree() {\n  return useContext(stateContext);\n}\nfunction useUpdate(callback, dependents, optionalRef) {\n  var _useContext2 = useContext(stateContext),\n      invalidate = _useContext2.invalidate;\n\n  var localRef = React.useRef();\n  var ref = optionalRef ? optionalRef : localRef;\n  React.useLayoutEffect(function () {\n    if (ref.current) {\n      callback(ref.current);\n      invalidate();\n    }\n  }, dependents);\n  return ref;\n}\nfunction useResource(optionalRef) {\n  var _useState = React.useState(false),\n      _ = _useState[0],\n      forceUpdate = _useState[1];\n\n  var localRef = React.useRef(undefined);\n  var ref = optionalRef ? optionalRef : localRef;\n  React.useLayoutEffect(function () {\n    return void forceUpdate(function (i) {\n      return !i;\n    });\n  }, [ref.current]);\n  return [ref, ref.current];\n}\nvar blackList = ['id', 'uuid', 'type', 'children', 'parent', 'matrix', 'matrixWorld', 'matrixWorldNeedsUpdate', 'modelViewMatrix', 'normalMatrix'];\n\nfunction prune(props) {\n  var reducedProps = _extends({}, props); // Remove black listed props\n\n\n  blackList.forEach(function (name) {\n    return delete reducedProps[name];\n  }); // Remove functions\n\n  Object.keys(reducedProps).forEach(function (name) {\n    return typeof reducedProps[name] === 'function' && delete reducedProps[name];\n  }); // Prune materials and geometries\n\n  if (reducedProps.material) reducedProps.material = prune(reducedProps.material);\n  if (reducedProps.geometry) reducedProps.geometry = prune(reducedProps.geometry); // Return cleansed object\n\n  return reducedProps;\n}\n\nfunction useLoader(Proto, url, extensions) {\n  var loader = React.useMemo(function () {\n    // Construct new loader\n    var temp = new Proto(); // Run loader extensions\n\n    if (extensions) extensions(temp);\n    return temp;\n  }, [Proto]); // Use suspense to load async assets\n\n  var results = usePromise(function (Proto, url) {\n    var urlArray = Array.isArray(url) ? url : [url];\n    return Promise.all(urlArray.map(function (url) {\n      return new Promise(function (res) {\n        return loader.load(url, function (data) {\n          if (data.scene) {\n            // This has to be deprecated at some point!\n            data.__$ = []; // Nodes and materials are better\n\n            data.nodes = {};\n            data.materials = {};\n            data.scene.traverse(function (obj) {\n              var _extends2;\n\n              data.__$.push(prune(obj));\n\n              if (obj.name) data.nodes = _extends({}, data.nodes, (_extends2 = {}, _extends2[obj.name] = obj, _extends2));\n              if (obj.material && !data.materials[obj.material.name]) data.materials[obj.material.name] = obj.material;\n            });\n          }\n\n          res(data);\n        });\n      });\n    }));\n  }, [Proto, url]); // Return the object/s\n\n  return Array.isArray(url) ? results : results[0];\n}\nvar useCamera = function useCamera() {\n  console.warn('The useCamera hook was moved to: https://github.com/react-spring/drei');\n  return null;\n};\n\nvar defaultStyles = {\n  position: 'relative',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\n\nfunction Content(_ref) {\n  var children = _ref.children,\n      setEvents = _ref.setEvents,\n      container = _ref.container,\n      renderer = _ref.renderer,\n      effects = _ref.effects,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"setEvents\", \"container\", \"renderer\", \"effects\"]);\n\n  // Create renderer\n  var _useState = React.useState(renderer),\n      gl = _useState[0];\n\n  if (!gl) console.warn('No renderer created!'); // Mount and unmount managemenbt\n\n  React.useEffect(function () {\n    return effects && effects(gl, container);\n  }, []); // Init canvas, fetch events, hand them back to the wrapping div\n\n  var events = useCanvas(_extends({}, props, {\n    children: children,\n    gl: gl\n  }));\n  React.useEffect(function () {\n    return void setEvents(events);\n  }, [events]);\n  return null;\n}\n\nvar ResizeContainer = React__default.memo(function ResizeContainer(props) {\n  var renderer = props.renderer,\n      effects = props.effects,\n      children = props.children,\n      vr = props.vr,\n      gl2 = props.gl2,\n      concurrent = props.concurrent,\n      shadowMap = props.shadowMap,\n      sRGB = props.sRGB,\n      colorManagement = props.colorManagement,\n      orthographic = props.orthographic,\n      invalidateFrameloop = props.invalidateFrameloop,\n      updateDefaultCamera = props.updateDefaultCamera,\n      noEvents = props.noEvents,\n      gl = props.gl,\n      camera = props.camera,\n      raycaster = props.raycaster,\n      pixelRatio = props.pixelRatio,\n      onCreated = props.onCreated,\n      onPointerMissed = props.onPointerMissed,\n      preRender = props.preRender,\n      resize = props.resize,\n      style = props.style,\n      restSpread = _objectWithoutPropertiesLoose(props, [\"renderer\", \"effects\", \"children\", \"vr\", \"gl2\", \"concurrent\", \"shadowMap\", \"sRGB\", \"colorManagement\", \"orthographic\", \"invalidateFrameloop\", \"updateDefaultCamera\", \"noEvents\", \"gl\", \"camera\", \"raycaster\", \"pixelRatio\", \"onCreated\", \"onPointerMissed\", \"preRender\", \"resize\", \"style\"]);\n\n  var containerRef = React.useRef(); // onGotPointerCaptureLegacy is a fake event used by non-web targets to simulate poinzter capture\n\n  var _useState2 = React.useState({}),\n      _useState2$ = _useState2[0],\n      onGotPointerCaptureLegacy = _useState2$.onGotPointerCaptureLegacy,\n      events = _objectWithoutPropertiesLoose(_useState2$, [\"onGotPointerCaptureLegacy\"]),\n      setEvents = _useState2[1];\n\n  var _useMeasure = useMeasure(resize || {\n    scroll: true,\n    debounce: {\n      scroll: 50,\n      resize: 0\n    },\n    polyfill: typeof window === 'undefined' || !window.ResizeObserver ? resizeObserver.ResizeObserver : undefined\n  }),\n      bind = _useMeasure[0],\n      size = _useMeasure[1]; // Flag view ready once it's been measured out\n\n\n  var readyFlag = React.useRef(false);\n  var ready = React.useMemo(function () {\n    return readyFlag.current = readyFlag.current || !!size.width && !!size.height;\n  }, [size]);\n  var state = React.useMemo(function () {\n    return {\n      size: size,\n      setEvents: setEvents,\n      container: containerRef.current\n    };\n  }, [size]); // Allow Gatsby, Next and other server side apps to run. Will output styles to reduce flickering.\n\n  if (typeof window === 'undefined') return /*#__PURE__*/React__default.createElement(\"div\", _extends({\n    style: _extends({}, defaultStyles, style)\n  }, restSpread), preRender); // Render the canvas into the dom\n\n  return /*#__PURE__*/React__default.createElement(\"div\", _extends({\n    ref: mergeRefs([bind, containerRef]),\n    style: _extends({}, defaultStyles, style)\n  }, events, restSpread), preRender, ready && /*#__PURE__*/React__default.createElement(Content, _extends({}, props, state)));\n});\n\nvar Canvas = React__default.memo(function Canvas(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n  var canvasRef = React.useRef();\n  return /*#__PURE__*/React__default.createElement(ResizeContainer, _extends({}, props, {\n    renderer: function renderer() {\n      if (canvasRef.current) {\n        var params = _extends({\n          antialias: true,\n          alpha: true\n        }, props.gl);\n\n        var temp = new THREE.WebGLRenderer(_extends({\n          powerPreference: 'high-performance',\n          //stencil: false,\n          //depth: false,\n          canvas: canvasRef.current,\n          context: props.gl2 ? canvasRef.current.getContext('webgl2', params) : undefined\n        }, params));\n        return temp;\n      }\n    },\n    preRender: /*#__PURE__*/React__default.createElement(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: 'block'\n      }\n    })\n  }), children);\n});\nvar Dom = function Dom() {\n  console.warn('The experimental <Dom> component was renamed to <HTML> and moved to: https://github.com/react-spring/drei');\n  return null;\n};\n\nexports.Canvas = Canvas;\nexports.Dom = Dom;\nexports.Renderer = Renderer;\nexports.addAfterEffect = addAfterEffect;\nexports.addEffect = addEffect;\nexports.addTail = addTail;\nexports.applyProps = applyProps;\nexports.createPortal = createPortal;\nexports.extend = extend;\nexports.invalidate = invalidate;\nexports.isOrthographicCamera = isOrthographicCamera;\nexports.render = render;\nexports.renderGl = renderGl;\nexports.stateContext = stateContext;\nexports.unmountComponentAtNode = unmountComponentAtNode;\nexports.useCamera = useCamera;\nexports.useCanvas = useCanvas;\nexports.useFrame = useFrame;\nexports.useLoader = useLoader;\nexports.useResource = useResource;\nexports.useThree = useThree;\nexports.useUpdate = useUpdate;\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$juggle$resize_observer$lib$exports$resize_observer_umd","~$module$node_modules$$babel$runtime$helpers$objectWithoutPropertiesLoose","~$module$node_modules$$babel$runtime$helpers$construct","~$module$node_modules$react$index","~$module$node_modules$react_reconciler$index","~$shadow.js","~$module$node_modules$$babel$runtime$helpers$extends","~$module$node_modules$scheduler$index","~$module$node_modules$react_promise_suspense$build$index","~$module$node_modules$three$build$three","~$module$node_modules$react_merge_refs$dist$index","~$module$node_modules$react_use_measure$dist$web_cjs","~$module$node_modules$tiny_emitter$index"]],"~:properties",["^5",["Renderer","addEffect","onDoubleClick","commitUpdate","ready","z","und","canvas","warnsIfNotActing","width","insertInContainerBefore","mouse","removeChildFromContainer","renderer","onGotPointerCaptureLegacy","hideTextInstance","debounce","right","__instance","priority","top","prepareForCommit","scheduleTimeout","Canvas","cancelTimeout","currentTarget","setDefaultCamera","renderGl","noTimeout","obj","viewport","height","onWheel","createInstance","appendChild","intersect","supportsMutation","toneMapping","str","scroll","releasePointerCapture","factor","delta","sRGB","finalizeInitialChildren","key","useUpdate","parent","children","__esModule","resetAfterCommit","frames","useLoader","encoding","enabled","findHostInstanceByFiber","__interaction","camera","useCamera","stateNode","fun","materials","arr","initialHits","containerInfo","ray","onPointerUp","rendererPackageName","useFrame","position","onContextMenu","pointer","useResource","insertBefore","prepareUpdate","__$","style","value","antialias","visible","createPortal","implementation","geometry","clearTimeout","context","stopPropagation","setPointerCapture","onLostPointerCapture","current","__container","stateContext","shouldSetTextContent","invalidate","__state","applyProps","$$typeof","stopped","intersections","vr","clock","events","onClick","nodes","addAfterEffect","captured","equ","Dom","type","overflow","render","powerPreference","gl","onPointerMove","ref","getPublicInstance","version","isOrthographicCamera","raycaster","target","colorManagement","appendChildToContainer","addTail","sourceEvent","concurrent","extend","bundleType","alpha","polyfill","unmountComponentAtNode","display","__objects","subscribers","bottom","now","num","onPointerDown","appendInitialChild","setTimeout","resize","size","onPointerLeave","active","unhideInstance","createTextInstance","setEvents","useThree","useCanvas","outputEncoding","removeChild","getRootHostContext","unprojectedPoint","invalidateFrameloop","aspect","preRender","subscribe","noEvents","manual","__handlers","done","eventObject","getChildHostContext","hideInstance","left","container","initialClick","scene","isPrimaryRenderer","material","shouldDeprioritizeSubtree"]],"~:compiled-at",1630582888166,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$react_three_fiber$web_cjs.js\",\n\"lineCount\":63,\n\"mappings\":\"AAAAA,cAAA,CAAA,6CAAA,CAAkE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAK1GC,QAASA,gBAAgB,CAACC,EAAD,CAAK,CAAE,MAAQA,GAAD,EAAsB,QAAtB,GAAQ,MAAOA,GAAf,EAAmC,SAAnC,EAAgDA,GAAhD,CAAsDA,EAAA,CAAG,SAAH,CAAtD,CAAsEA,EAA/E,CAkB9BC,QAASA,eAAc,CAACC,GAAD,CAAM,CAEM,CAAA,CAAE,GAAqB,QAArB,GAAI,MAFaA,IAEjB,EAA2C,IAA3C,GAFiBA,GAEjB,CAAA,CAA+D,IAAIC,KAFlDD,GAEyD,CAAME,MAAOC,CAAAA,WAAb,CAA2B,IAAaC,IAAAA,EAAb,GAAIH,IAAJ,CAAwB,CAAMI,GAAAA,CAAMJ,IAAKK,CAAAA,IAAL,CAFxHN,GAEwH,CAFnHO,QAEmH,CAAqC,IAAmB,QAAnB,GAAI,MAAOF,IAAX,CAA6B,MAAA,CAAY,MAAM,KAAIG,SAAJ,CAAc,8CAAd,CAAN,CAA1F,CAAiK,GAAA,CAA4BC,MAArB,CAFpRT,GAEoR,CAArS,CAFiC,MAAsB,QAAf,GAAA,MAAOU,IAAP,CAA0BA,GAA1B,CAAgCD,MAAA,CAAOC,GAAP,CAAhF;AA8C7BC,QAASA,WAAU,CAACC,QAAD,CAAWC,IAAX,CAAiB,CAClC,IAAIC,MAAQD,IAAKE,CAAAA,MACjBF,KAAKG,CAAAA,IAAL,CAAUJ,QAAV,CACA,OAAO,SAAS,EAAG,CACjB,MAAO,KAAKC,KAAKI,CAAAA,MAAL,CAAYH,KAAZ,CAAmB,CAAnB,CADK,CAHe,CAoBpCI,QAASA,SAAQ,CAACC,KAAD,CAAQC,SAAR,CAAmBC,MAAnB,CAA2BC,gBAA3B,CAA6C,CAC7C,IAAK,EAApB,GAAID,MAAJ,GACEA,MADF,CACW,CADX,CAIyB,KAAK,EAA9B,GAAIC,gBAAJ,GACEA,gBADF,CACqB,CAAA,CADrB,CAKIA,iBAAJ,EAAsBC,aAAcC,CAAAA,OAAd,CAAsB,QAAS,CAACC,MAAD,CAAS,CAC5D,MAAOA,OAAA,CAAOL,SAAP,CAAP,EAA4BC,MAAA,EADgC,CAAxC,CAItB,KAAIK,MAAQP,KAAMQ,CAAAA,OAAQC,CAAAA,KAAMC,CAAAA,QAApB,EACZV,MAAMQ,CAAAA,OAAQG,CAAAA,WAAYN,CAAAA,OAA1B,CAAkC,QAAS,CAACO,GAAD,CAAM,CAC/C,MAAOA,IAAIC,CAAAA,GAAIL,CAAAA,OAAR,CAAgBR,KAAMQ,CAAAA,OAAtB,CAA+BD,KAA/B,CADwC,CAAjD,CAIAP,MAAMQ,CAAAA,OAAQM,CAAAA,MAAd;AAAuBC,IAAKC,CAAAA,GAAL,CAAS,CAAT,CAAYhB,KAAMQ,CAAAA,OAAQM,CAAAA,MAA1B,CAAmC,CAAnC,CACvBZ,OAAA,EAAWF,KAAMQ,CAAAA,OAAQS,CAAAA,mBAAf,CAAyCjB,KAAMQ,CAAAA,OAAQM,CAAAA,MAAvD,CAAqC,CAE1Cd,MAAMQ,CAAAA,OAAQU,CAAAA,MAAnB,EAA2BlB,KAAMQ,CAAAA,OAAQW,CAAAA,EAAGC,CAAAA,MAAjB,CAAwBpB,KAAMQ,CAAAA,OAAQa,CAAAA,KAAtC,CAA6CrB,KAAMQ,CAAAA,OAAQc,CAAAA,MAA3D,CAEvBnB,iBAAJ,EAAsBoB,kBAAmBlB,CAAAA,OAAnB,CAA2B,QAAS,CAACC,MAAD,CAAS,CACjE,MAAOA,OAAA,CAAOL,SAAP,CAD0D,CAA7C,CAGtB,OAAOC,OA3BqD,CA+B9DsB,QAASA,WAAU,CAACvB,SAAD,CAAY,CAC7BwB,OAAA,CAAU,CAAA,CACV,KAAIvB,OAAS,CAEbE,cAAcC,CAAAA,OAAd,CAAsB,QAAS,CAACC,MAAD,CAAS,CACtC,MAAOA,OAAA,CAAOL,SAAP,CAAP,EAA4BC,MAAA,EADU,CAAxC,CAGAwB,MAAMrB,CAAAA,OAAN,CAAc,QAAS,CAACsB,IAAD,CAAO,CACxB3B,IAAAA,CAAQ2B,IAAKC,CAAAA,aAAcC,CAAAA,OAE3B7B,KAAMQ,CAAAA,OAAQsB,CAAAA,MAAlB;AAA4B9B,IAAMQ,CAAAA,OAAQuB,CAAAA,KAA1C,GAAoD,CAAC/B,IAAMQ,CAAAA,OAAQS,CAAAA,mBAAnE,EAAiH,CAAjH,CAA0FjB,IAAMQ,CAAAA,OAAQM,CAAAA,MAAxG,IAAqHZ,MAArH,CAA8HH,QAAA,CAASC,IAAT,CAAgBC,SAAhB,CAA2BC,MAA3B,CAA9H,CAH4B,CAA9B,CAMAqB,mBAAmBlB,CAAAA,OAAnB,CAA2B,QAAS,CAACC,MAAD,CAAS,CAC3C,MAAOA,OAAA,CAAOL,SAAP,CADoC,CAA7C,CAGA,IAAe,CAAf,GAAIC,MAAJ,CAAkB,MAAO8B,sBAAA,CAAsBR,UAAtB,CAEvBS,kBAAkB5B,CAAAA,OAAlB,CAA0B,QAAS,CAACC,MAAD,CAAS,CAC1C,MAAOA,OAAA,CAAOL,SAAP,CADmC,CAA5C,CAKFwB,QAAA,CAAU,CAAA,CAvBmB,CA0B/BS,QAASA,WAAU,CAAClC,KAAD,CAAQc,MAAR,CAAgB,CACnB,IAAK,EAAnB,GAAId,KAAJ,GACEA,KADF,CACU,CAAA,CADV,CAIe,KAAK,EAApB,GAAIc,MAAJ,GACEA,MADF,CACW,CADX,CAIA,IAAc,CAAA,CAAd,GAAId,KAAJ,CAAoB0B,KAAMrB,CAAAA,OAAN,CAAc,QAAS,CAACsB,IAAD,CAAO,CAChD,MAAOA,KAAKC,CAAAA,aAAcC,CAAAA,OAAQrB,CAAAA,OAAQM,CAAAA,MAA1C;AAAmDA,MADH,CAA9B,CAApB,KAEQ,IAAId,KAAJ,EAAaA,KAAMQ,CAAAA,OAAnB,CAA4B,CAClC,GAAIR,KAAMQ,CAAAA,OAAQ2B,CAAAA,EAAlB,CAAsB,MACtBnC,MAAMQ,CAAAA,OAAQM,CAAAA,MAAd,CAAuBA,MAFW,CAK/BW,OAAL,GACEA,OACA,CADU,CAAA,CACV,CAAAO,qBAAA,CAAsBR,UAAtB,CAFF,CAhBiC,CAyBnCY,QAASA,WAAU,CAACC,QAAD,CAAWC,QAAX,CAAqBC,QAArB,CAA+BC,YAA/B,CAA6C,CAC7C,IAAK,EAAtB,GAAID,QAAJ,GACEA,QADF,CACa,EADb,CAIqB,KAAK,EAA1B,GAAIC,YAAJ,GACEA,YADF,CACiB,CAAA,CADjB,CAKA,KAAIC,UAAYJ,QAASK,CAAAA,WAAzB,CACIC,UAAYC,MAAOC,CAAAA,IAAP,CAAYP,QAAZ,CAAsBQ,CAAAA,MAAtB,CAA6B,QAAS,CAACvD,GAAD,CAAM,CAC1D,MAAOwD,GAAGC,CAAAA,GAAH,CAAOV,QAAA,CAAS/C,GAAT,CAAP,CAAsBgD,QAAA,CAAShD,GAAT,CAAtB,CADmD,CAA5C,CADhB,CAII0D,SAAWL,MAAOC,CAAAA,IAAP,CAAYP,QAAZ,CAAsBQ,CAAAA,MAAtB,CAA6B,QAAS,CAACvD,GAAD,CAAM,CAKzD,GAAIwD,EAAGG,CAAAA,GAAH,CAAOZ,QAAA,CAAS/C,GAAT,CAAP,CAAJ,EAA6BA,GAAI4D,CAAAA,UAAJ,CAAe,IAAf,CAA7B,CACE,MAAO5D,IAAI6D,CAAAA,QAAJ,CAAa,SAAb,CAAP;AAAkC7D,GAAI6D,CAAAA,QAAJ,CAAa,OAAb,CAAlC,EAA2D7D,GAAI6D,CAAAA,QAAJ,CAAa,aAAb,CAA3D,EAA0F7D,GAAI6D,CAAAA,QAAJ,CAAa,OAAb,CANnC,CAA5C,CAJf,CAaIC,UAAYb,YAAA,CAAeI,MAAOC,CAAAA,IAAP,CAAYN,QAAZ,CAAsBO,CAAAA,MAAtB,CAA6B,QAAS,CAACvD,GAAD,CAAM,CACzE,MAAyB,KAAK,EAA9B,GAAO+C,QAAA,CAAS/C,GAAT,CADkE,CAA5C,CAAf,CAEX,EACD+D,UAAAA,CAAW,EAAGC,CAAAA,MAAH,CAAUZ,SAAV,CAAqB,CAAC,UAAD,CAAa,KAAb,CAAoB,KAApB,CAArB,CAEXN,SAASmB,CAAAA,UAAb,EAAyBF,SAASzD,CAAAA,IAAT,CAAc,QAAd,CACzB,KAAI4D,cAAgBH,SAASI,CAAAA,MAAT,CAAgB,QAAS,CAACC,GAAD,CAAMC,IAAN,CAAY,CAIvD,MAFWC,8BAAAC,CAA8BH,GAA9BG,CAAmC,CAACF,IAAD,CAAOG,CAAAA,GAAP,CAAWnF,cAAX,CAAnCkF,CAF4C,CAArC,CAKjBxB,QALiB,CAOpBe,UAAUhD,CAAAA,OAAV,CAAkB,QAAS,CAACd,GAAD,CAAM,CAC/B,MAAe,UAAf,GAAOA,GAAP,GAA8BkE,aAAA,CAAclE,GAAd,CAA9B,CAAmDN,IAAAA,EAAnD,CAD+B,CAAjC,CAIwC,EAAxC;AAAI2D,MAAOC,CAAAA,IAAP,CAAYY,aAAZ,CAA2B7D,CAAAA,MAA/B,GACEgD,MAAOoB,CAAAA,OAAP,CAAeP,aAAf,CAA8BpD,CAAAA,OAA9B,CAAsC,QAAS,CAAC4D,IAAD,CAAO,CAAA,IAChD1E,aAAM0E,IAAA,CAAK,CAAL,CACNC,KAAAA,CAAQD,IAAA,CAAK,CAAL,CAEZ,IAAI,CAAChB,QAASG,CAAAA,QAAT,CAAkB7D,YAAlB,CAAL,CAA6B,CAC3B,IAAI4E,qBAAJ,CAEIxC,KAAOU,QAFX,CAGI+B,OAASzC,IAAA,CAAKpC,YAAL,CAEb,IAAIA,YAAI6D,CAAAA,QAAJ,CAAa,GAAb,CAAJ,CAAuB,CACrB,IAAIY,QAAUzE,YAAI8E,CAAAA,KAAJ,CAAU,GAAV,CACdD,OAAA,CAASJ,OAAQN,CAAAA,MAAR,CAAe,QAAS,CAACC,GAAD,CAAMpE,GAAN,CAAW,CAC1C,MAAOoE,IAAA,CAAIpE,GAAJ,CADmC,CAAnC,CAEN8C,QAFM,CAIH+B,OAAN,EAAgBA,MAAOE,CAAAA,GAAvB,GACMC,IAIJ,CAJuBP,OAAQQ,CAAAA,OAAR,EAIvB,CAHIC,YAGJ,CAHYF,IAAA,CAAiB,CAAjB,CAGZ,CAAA5C,IAAA,CAFqB4C,IAAiBG,CAAAA,KAAjBC,CAAuB,CAAvBA,CAECH,CAAAA,OAAf,EAAyBd,CAAAA,MAAzB,CAAgC,QAAS,CAACC,GAAD,CAAMpE,GAAN,CAAW,CACzD,MAAOoE,IAAA,CAAIpE,GAAJ,CADkD,CAApD,CAEJ8C,QAFI,CALT,CANqB,CAmBnBuC,OAAAA;AAAsE,IAAlD,GAACT,qBAAD,CAAyB9B,QAASK,CAAAA,WAAlC,EAAyD,IAAK,EAA9D,CAAkEyB,qBAAsBtC,CAAAA,OAAQrB,CAAAA,OAAQqE,CAAAA,eAEhI,IAAIT,MAAJ,EAAcA,MAAOE,CAAAA,GAArB,GAA6BF,MAAOU,CAAAA,IAApC,EAA4CV,MAA5C,WAA8DW,MAAMC,CAAAA,MAApE,EAA6E,CAC3E,IAAIC,OAGAC,MAAMC,CAAAA,OAAN,CAAcjB,IAAd,CAAJ,CAA6CI,CAAlBW,OAAkBX,CAARF,MAAQE,EAAAA,GAAIc,CAAAA,KAAvB,CAA6BH,OAA7B,CAAsCf,IAAtC,CAA1B,CACSE,MAAOU,CAAAA,IAAX,EAAmBZ,IAAnB,EAA4BA,IAAMmB,CAAAA,WAAlC,EAAiDjB,MAAOiB,CAAAA,WAAYC,CAAAA,IAApE,GAA6EpB,IAAMmB,CAAAA,WAAYC,CAAAA,IAA/F,CAAqGlB,MAAOU,CAAAA,IAAP,CAAYZ,IAAZ,CAArG,CAEgBjF,IAAAA,EAFhB,GAEMiF,IAFN,GAGCE,MAAOE,CAAAA,GAAP,CAAWJ,IAAX,CAGA,CAAIU,OAAJ,EAAyBR,MAAzB,WAA2CW,MAAMQ,CAAAA,KAAjD,EACEnB,MAAOoB,CAAAA,mBAAP,EAPH,CALsE,CAA7E,IAgBE7D,KAAA,CAAKpC,YAAL,CAGA,CAHY2E,IAGZ,CAAIU,OAAJ,EAAyBjD,IAAA,CAAKpC,YAAL,CAAzB;AAA8CwF,KAAMU,CAAAA,OAApD,GACE9D,IAAA,CAAKpC,YAAL,CAAUmG,CAAAA,QADZ,CACuBX,KAAMY,CAAAA,YAD7B,CAKFC,mBAAA,CAAmBvD,QAAnB,CAnD2B,CAJuB,CAAtD,CAgFA,CArBIG,YAqBJ,EArBoBC,SAqBpB,EArBiCJ,QAASwD,CAAAA,OAqB1C,EArBqDxD,QAASyD,CAAAA,UAqB9D,GApBEzD,QAASyD,CAAAA,UAIT,CAJsB7G,IAAAA,EAItB,CAFIU,YAEJ,CAFY8C,SAAUsD,CAAAA,aAAcC,CAAAA,OAAxB,CAAgC3D,QAAhC,CAEZ,CAAY,EAAZ,CAAI1C,YAAJ,EAAgB8C,SAAUsD,CAAAA,aAAcjG,CAAAA,MAAxB,CAA+BH,YAA/B,CAAsC,CAAtC,CAgBlB,EAZIsD,QAASrD,CAAAA,MAYb,GAVM6C,SAEJ,EAFiBJ,QAASwD,CAAAA,OAE1B,EAFmCpD,SAAUsD,CAAAA,aAAclG,CAAAA,IAAxB,CAA6BwC,QAA7B,CAEnC,CAAAA,QAASyD,CAAAA,UAAT,CAAsB7C,QAASS,CAAAA,MAAT,CAAgB,QAAS,CAACC,GAAD,CAAMpE,GAAN,CAAW,CACxD,IAAI0G,SAEJ,OAAOC,SAAA,CAAS,EAAT,CAAavC,GAAb,EAAmBsC,SAAA,CAAY,EAAZ,CAAgBA,SAAA,CAAU1G,GAAI4G,CAAAA,MAAJ,CAAW,CAAX,CAAcC,CAAAA,WAAd,EAAV;AAAwC7G,GAAI8G,CAAAA,MAAJ,CAAW,CAAX,CAAxC,CAAhB,CAAyE/D,QAAA,CAAS/C,GAAT,CAAzE,CAAwF0G,SAA3G,EAHiD,CAApC,CAInB,EAJmB,CAQxB,EAAI5D,QAASiE,CAAAA,MAAb,EAAqBC,cAAA,CAAelE,QAAf,CAjFvB,CAxC8D,CA6HhEuD,QAASA,mBAAkB,CAACvD,QAAD,CAAW,CAChCA,QAASK,CAAAA,WAAb,EAA4BL,QAASK,CAAAA,WAAYb,CAAAA,OAAjD,EAA0DK,UAAA,CAAWG,QAASK,CAAAA,WAAYb,CAAAA,OAAhC,CADtB,CAItC0E,QAASA,eAAc,CAAClE,QAAD,CAAW,CAChC,GAAIA,QAASmE,CAAAA,QAAb,CAAuBnE,QAASmE,CAAAA,QAAT,CAAkBnE,QAAlB,CADS,CAIlCoE,QAASA,eAAc,CAACC,IAAD,CAAOC,KAAP,CAAclE,SAAd,CAAyBmE,WAAzB,CAAsCC,sBAAtC,CAA8D,CAC/EC,WAAAA,CAAaH,KAAMI,CAAAA,IACnBA,YAAAA,CAAsB,IAAK,EAApB,GAAAD,WAAA,CAAwB,EAAxB,CAA6BA,WACpCE,MAAAA,CAAQnD,6BAAA,CAA8B8C,KAA9B,CAAqC,CAAC,MAAD,CAArC,CAEZ;IAAIrB,KAAO,EAAPA,CAAYoB,IAAA,CAAK,CAAL,CAAQO,CAAAA,WAAR,EAAZ3B,CAAoCoB,IAAKhC,CAAAA,KAAL,CAAW,CAAX,CAGxC,IAAa,WAAb,GAAIgC,IAAJ,CACErE,IACA,CADW2E,KAAME,CAAAA,MACjB,CAAA7E,IAASmB,CAAAA,UAAT,CAAsB,CAAA,CAFxB,KAGO,IAAa,KAAb,GAAIkD,IAAJ,CACLrE,IAAA,CAAW,IAAI2E,KAAME,CAAAA,MAAV,CAAiBH,WAAjB,CADN,KAEA,CACD3C,IAAAA,CAAS+C,SAAA,CAAU7B,IAAV,CAATlB,EAA4BW,KAAA,CAAMO,IAAN,CAEhC,IAAI,CAAClB,IAAL,CACE,KAAM,GAAN,CAAakB,IAAb,CAAoB,2LAApB,CAGFjD,IAAA,CAAWU,EAAGqE,CAAAA,GAAH,CAAOL,WAAP,CAAA,CAAeM,UAAA,CAAWjD,IAAX,CAAmB2C,WAAnB,CAAf,CAA0C,IAAI3C,IAAJ,CAAW2C,WAAX,CAPhD,CAYP,IAAA,CAAOtE,SAAUC,CAAAA,WAAjB,CAAA,CACED,SAAA;AAAYA,SAAUC,CAAAA,WAKnBhB,MAAM4F,CAAAA,GAAN,CAAU7E,SAAV,CAAL,GAKEA,SALF,CACW8E,QAASA,GAAE,CAACC,IAAD,CAAO,CACzB,MAAKA,KAAA,CAAK,QAAL,CAAL,CAAuFD,EAAA,CAAGC,IAAA,CAAK,QAAL,CAAH,CAAvF,CAA4BA,IAAKC,CAAAA,SAAjC,EAA8CD,IAAKC,CAAAA,SAAU7F,CAAAA,aADpC,CAIf,CAAGiF,sBAAH,CALd,CASAxE,KAASqF,CAAAA,SAAT,CAAqB,EACrBrF,KAASK,CAAAA,WAAT,CAAuBD,SAIvBL,WAAA,CAAWC,IAAX,CAAqB2E,KAArB,CAA4B,EAA5B,CACA,OAAO3E,KA9C4E,CAiDrFsF,QAASA,YAAW,CAACC,cAAD,CAAiBC,KAAjB,CAAwB,CACtCA,KAAJ,GACMA,KAAMC,CAAAA,UAAV,CAAsBF,cAAeG,CAAAA,GAAf,CAAmBF,KAAnB,CAAtB,EACED,cAAeF,CAAAA,SAAU7H,CAAAA,IAAzB,CAA8BgI,KAA9B,CAIA,CAFAA,KAAMvB,CAAAA,MAEN,CAFesB,cAEf,CAAIC,KAAMG,CAAAA,MAAV,CAAkBJ,cAAA,CAAeC,KAAMG,CAAAA,MAArB,CAAlB,CAAiDH,KAAjD,CAAgEA,KAAMI,CAAAA,WAAV,EACrDlF,EAAGqE,CAAAA,GAAH,CAAOQ,cAAA,CAAeC,KAAMI,CAAAA,WAArB,CAAP,CACL;CADgDL,cAAA,CAAeC,KAAMI,CAAAA,WAArB,CAChD,CADoF,EACpF,EAAAL,cAAA,CAAeC,KAAMI,CAAAA,WAArB,CAAkCpI,CAAAA,IAAlC,CAAuCgI,KAAvC,CAF0D,EAGjDA,KAAMK,CAAAA,YAH2C,GAIrDnF,EAAGoF,CAAAA,GAAH,CAAOP,cAAA,CAAeC,KAAMK,CAAAA,YAAN,CAAmB,CAAnB,CAAf,CAAP,CACL,GADoDN,cAAA,CAAeC,KAAMK,CAAAA,YAAN,CAAmB,CAAnB,CAAf,CACpD,CAD4F,EAC5F,EAAAN,cAAA,CAAeC,KAAMK,CAAAA,YAAN,CAAmB,CAAnB,CAAf,CAAA,CAAsCL,KAAMK,CAAAA,YAAN,CAAmB,CAAnB,CAAtC,CAAA,CAA+DL,KALL,CAL9D,CAcA,CADAtB,cAAA,CAAesB,KAAf,CACA,CAAAjC,kBAAA,CAAmBiC,KAAnB,CAfF,CAD0C,CAoB5CO,QAASA,aAAY,CAACR,cAAD,CAAiBC,KAAjB,CAAwBQ,WAAxB,CAAqC,CACxD,GAAIR,KAAJ,CAAW,CACT,GAAIA,KAAMC,CAAAA,UAAV,CAAsB,CACpBD,KAAMvB,CAAAA,MAAN,CAAesB,cACfC,MAAMS,CAAAA,aAAN,CAAoB,CAClB5B,KAAM,OADY,CAApB,CAGA,KAAI6B,aAAeX,cAAeY,CAAAA,QAAS1F,CAAAA,MAAxB,CAA+B,QAAS,CAAC2F,OAAD,CAAU,CACnE,MAAOA,QAAP;AAAmBZ,KADgD,CAAlD,CAIflI,YAAAA,CAAQ4I,YAAavC,CAAAA,OAAb,CAAqBqC,WAArB,CACZT,eAAeY,CAAAA,QAAf,CAA0B,EAAGjF,CAAAA,MAAH,CAAUgF,YAAa7D,CAAAA,KAAb,CAAmB,CAAnB,CAAsB/E,WAAtB,CAAV,CAAwC,CAACkI,KAAD,CAAxC,CAAiDU,YAAa7D,CAAAA,KAAb,CAAmB/E,WAAnB,CAAjD,CAC1B4G,eAAA,CAAesB,KAAf,CAXoB,CAAtB,IAYOF,YAAA,CAAYC,cAAZ,CAA4BC,KAA5B,CAGPjC,mBAAA,CAAmBiC,KAAnB,CAhBS,CAD6C,CAqB1Da,QAASA,gBAAe,CAACC,KAAD,CAAQrC,MAAR,CAAgBsC,KAAhB,CAAuB,CAC/B,IAAK,EAAnB,GAAIA,KAAJ,GACEA,KADF,CACU,CAAA,CADV,CAIID,MAAJ,EAGStI,CADMuI,KAAAxE,CAAQ,EAAGb,CAAAA,MAAH,CAAUoF,KAAV,CAARvE,CAA2BuE,KACjCtI,EAAAA,OAAP,CAAe,QAAS,CAACwH,KAAD,CAAQ,CAC9B,MAAOgB,YAAA,CAAYvC,MAAZ,CAAoBuB,KAApB,CADuB,CAAhC,CAR2C,CAc/CgB,QAASA,YAAW,CAACjB,cAAD,CAAiBC,KAAjB,CAAwB,CACtCA,KAAJ,GACMA,KAAMC,CAAAA,UAAV,CACEF,cAAekB,CAAAA,MAAf,CAAsBjB,KAAtB,CADF;CAGEA,KAAMvB,CAAAA,MAKN,CALe,IAKf,CAJIsB,cAAeF,CAAAA,SAInB,GAJ8BE,cAAeF,CAAAA,SAI7C,CAJyDE,cAAeF,CAAAA,SAAU5E,CAAAA,MAAzB,CAAgC,QAAS,CAACiG,CAAD,CAAI,CACpG,MAAOA,EAAP,GAAalB,KADuF,CAA7C,CAIzD,EAAIA,KAAMG,CAAAA,MAAV,CAAkBJ,cAAA,CAAeC,KAAMG,CAAAA,MAArB,CAAlB,CAAiD,IAAjD,CAA+DH,KAAMI,CAAAA,WAAV,CAAuBL,cAAA,CAAeC,KAAMI,CAAAA,WAArB,CAAvB,CAA2DL,cAAA,CAAeC,KAAMI,CAAAA,WAArB,CAAkCnF,CAAAA,MAAlC,CAAyC,QAAS,CAACiG,CAAD,CAAI,CAC1K,MAAOA,EAAP,GAAalB,KAD6J,CAAtD,CAA3D,CAE/CA,KAAMK,CAAAA,YAFyC,EAGzD,OAAON,cAAA,CAAeC,KAAMK,CAAAA,YAAN,CAAmB,CAAnB,CAAf,CAAA,CAAsCL,KAAMK,CAAAA,YAAN,CAAmB,CAAnB,CAAtC,CAXX,CAiBA,CAFAtC,kBAAA,CAAmBiC,KAAnB,CAEA,CAAsB,IAAtB,GAAIA,KAAMmB,CAAAA,OAAV,EACEC,SAAUC,CAAAA,wBAAV,CAAmCD,SAAUE,CAAAA,qBAA7C;AAAoE,QAAS,EAAG,CAE1EtB,KAAMnF,CAAAA,WAAV,GAAuBmF,KAAMnF,CAAAA,WAAYqD,CAAAA,aAAzC,CAAyD8B,KAAMnF,CAAAA,WAAYqD,CAAAA,aAAcjD,CAAAA,MAAhC,CAAuC,QAAS,CAACiG,CAAD,CAAI,CAC3G,MAAOA,EAAP,GAAalB,KAD8F,CAApD,CAAzD,CAIAa,gBAAA,CAAgBb,KAAMH,CAAAA,SAAtB,CAAiCG,KAAjC,CACAa,gBAAA,CAAgBb,KAAMW,CAAAA,QAAtB,CAAgCX,KAAhC,CAAuC,CAAA,CAAvC,CAEIA,MAAMmB,CAAAA,OAAV,EAAmBnB,KAAMmB,CAAAA,OAAN,EAEnB,QAAOnB,KAAMnF,CAAAA,WACb,QAAOmF,KAAMH,CAAAA,SAZiE,CAAhF,CAnBJ,CAD0C,CAsC5C0B,QAASA,eAAc,CAAC/G,QAAD,CAAWqE,IAAX,CAAiBpE,QAAjB,CAA2B+G,cAA3B,CAAkC,CACvD,IAAI/C,OAASjE,QAASiE,CAAAA,MAAtB,CACIgD,YAAc7C,cAAA,CAAeC,IAAf,CAAqBpE,QAArB,CAA+BD,QAASK,CAAAA,WAAxC,CAAqD,IAArD,CAA2D2G,cAA3D,CAClBR,YAAA,CAAYvC,MAAZ,CAAoBjE,QAApB,CACAsF,YAAA,CAAYrB,MAAZ;AAAoBgD,WAApB,CAIA,EAACD,cAAD,CAAQA,cAAME,CAAAA,SAAd,CAAyBlJ,CAAAA,OAAzB,CAAiC,QAAS,CAACgJ,KAAD,CAAQ,CAClC,IAAd,GAAIA,KAAJ,GACEA,KAAM5B,CAAAA,SAEN,CAFkB6B,WAElB,CAAID,KAAMxI,CAAAA,GAAV,GACMkC,EAAGG,CAAAA,GAAH,CAAOmG,KAAMxI,CAAAA,GAAb,CAAJ,CAAuBwI,KAAMxI,CAAAA,GAAN,CAAUyI,WAAV,CAAvB,CAAmDD,KAAMxI,CAAAA,GAAIL,CAAAA,OAA7D,CAAuE8I,WADzE,CAHF,CADgD,CAAlD,CARuD,CAoHzDlI,QAASA,OAAM,CAACoI,OAAD,CAAU/G,SAAV,CAAqBzC,KAArB,CAA4B,CACzC,IAAI2B,KAAOD,KAAM+H,CAAAA,GAAN,CAAUhH,SAAV,CAENd,KAAL,GACEc,SAAUZ,CAAAA,OAGV,CAHoB7B,KAGpB,CAFI0J,KAEJ,CAFc/H,IAEd,CAFqBgI,QAASC,CAAAA,eAAT,CAAyBnH,SAAzB,CACXxD,IAAAA,EAAV,GAAAe,KAAA,EAAuBA,KAAMQ,CAAAA,OAAQqJ,CAAAA,UAArC,CATiBC,CASjB,CAVaC,CASQ,CAC0D,CAAA,CAD1D,CAErB,CAAArI,KAAM4C,CAAAA,GAAN,CAAU7B,SAAV,CAAqBiH,KAArB,CAJF,CAOAC,SAASK,CAAAA,eAAT,CAAyBR,OAAzB,CAAkC7H,IAAlC,CAAwC,IAAxC,CAA8C,QAAS,EAAG,EAA1D,CAGA,OAAOgI,SAASM,CAAAA,qBAAT,CAA+BtI,IAA/B,CAbkC;AAe3CuI,QAASA,uBAAsB,CAACzH,SAAD,CAAY,CACzC,IAAId,KAAOD,KAAM+H,CAAAA,GAAN,CAAUhH,SAAV,CACPd,KAAJ,EAAUgI,QAASK,CAAAA,eAAT,CAAyB,IAAzB,CAA+BrI,IAA/B,CAAqC,IAArC,CAA2C,QAAS,EAAG,CAC/D,MAAO,KAAKD,MAAA,CAAM,QAAN,CAAA,CAAgBe,SAAhB,CADmD,CAAvD,CAF+B,CA4B3C0H,QAASA,gCAA+B,CAACC,CAAD,CAAI,CAAE,IAAIC,EAAI,CAAG,IAAsB,WAAtB,GAAI,MAAOtL,OAAX,EAA2D,IAA3D,EAAqCqL,CAAA,CAAErL,MAAOuL,CAAAA,QAAT,CAArC,CAAiE,CAAE,GAAIpF,KAAMC,CAAAA,OAAN,CAAciF,CAAd,CAAJ,GAAyBA,CAAzB,CAA6BG,2BAAA,CAA4BH,CAA5B,CAA7B,EAA8D,MAAO,SAAS,EAAG,CAAE,MAAIC,EAAJ,EAASD,CAAExK,CAAAA,MAAX,CAA0B,CAAE4K,KAAM,CAAA,CAAR,CAA1B,CAAiD,CAAEA,KAAM,CAAA,CAAR,CAAetG,MAAOkG,CAAA,CAAEC,CAAA,EAAF,CAAtB,CAAnD,CAAsF,MAAM,KAAIhL,SAAJ,CAAc,uIAAd,CAAN;AAAzK,CAAyUgL,CAAA,CAAID,CAAA,CAAErL,MAAOuL,CAAAA,QAAT,CAAA,EAAsB,OAAOD,EAAEI,CAAAA,IAAKC,CAAAA,IAAP,CAAYL,CAAZ,CAAxb,CAE5CE,QAASA,4BAA2B,CAACH,CAAD,CAAIO,MAAJ,CAAY,CAAE,GAAKP,CAAL,CAAA,CAAgB,GAAiB,QAAjB,GAAI,MAAOA,EAAX,CAA2B,MAAOQ,kBAAA,CAAkBR,CAAlB,CAAqBO,MAArB,CAA8B,KAAIE,EAAIjI,MAAOkI,CAAAA,SAAUC,CAAAA,QAAS5L,CAAAA,IAA1B,CAA+BiL,CAA/B,CAAkC1F,CAAAA,KAAlC,CAAwC,CAAxC,CAA2C,EAA3C,CAA0D,SAAV,GAAImG,CAAJ,EAAsBT,CAAE/E,CAAAA,WAAxB,GAAqCwF,CAArC,CAAyCT,CAAE/E,CAAAA,WAAYC,CAAAA,IAAvD,CAA6D,IAAU,KAAV,GAAIuF,CAAJ,EAAyB,KAAzB,GAAmBA,CAAnB,CAAgC,MAAO3F,MAAM8F,CAAAA,IAAN,CAAWH,CAAX,CAAe,IAAU,WAAV,GAAIA,CAAJ,EAAyB,0CAA2CI,CAAAA,IAA3C,CAAgDJ,CAAhD,CAAzB,CAA6E,MAAOD,kBAAA,CAAkBR,CAAlB,CAAqBO,MAArB,CAA/U,CAAF,CAEhDC,QAASA,kBAAiB,CAACxD,GAAD,CAAM8D,GAAN,CAAW,CAAE,GAAW,IAAX,EAAIA,GAAJ,EAAmBA,GAAnB,CAAyB9D,GAAIxH,CAAAA,MAA7B,CAAqCsL,GAAA,CAAM9D,GAAIxH,CAAAA,MAAQ,KAAzD,IAAkEyK;AAAI,CAAtE,CAAyEc,KAAWjG,KAAJ,CAAUgG,GAAV,CAAvB,CAAuCb,CAAvC,CAA2Ca,GAA3C,CAAgDb,CAAA,EAAhD,CAAuDc,IAAA,CAAKd,CAAL,CAAA,CAAUjD,GAAA,CAAIiD,CAAJ,CAAU,OAAOc,KAA3I,CAKrCC,QAASA,OAAM,CAACC,KAAD,CAAQ,CACrB,MAA2CC,CAAnCD,KAAME,CAAAA,WAA6BD,EAAdD,KAAMnE,CAAAA,MAAQoE,EAAAA,IAA3C,CAAkD,GAAlD,CAAwDD,KAAM1L,CAAAA,KADzC,CAulBvB6L,QAASA,WAAU,CAACC,OAAD,CAAU,CAG3B,CAFIC,OAEJ,CAFaC,KAAMH,CAAAA,UAAN,CAAiBC,OAAjB,CAEb,GACEG,OAAQC,CAAAA,IAAR,CAAa,mGAAb,CAGF,OAAOH,QAPoB,CAiE7BI,QAASA,MAAK,CAAC9E,KAAD,CAAQ,CACpB,IAAI+E,aAAe7F,QAAA,CAAS,EAAT,CAAac,KAAb,CAGnBgF,UAAU3L,CAAAA,OAAV,CAAkB,QAAS,CAACiF,IAAD,CAAO,CAChC,MAAO,QAAOyG,YAAA,CAAazG,IAAb,CADkB,CAAlC,CAIA1C,OAAOC,CAAAA,IAAP,CAAYkJ,YAAZ,CAA0B1L,CAAAA,OAA1B,CAAkC,QAAS,CAACiF,IAAD,CAAO,CAChD,MAAqC,UAArC;AAAO,MAAOyG,aAAA,CAAazG,IAAb,CAAd,EAAmD,OAAOyG,YAAA,CAAazG,IAAb,CADV,CAAlD,CAIIyG,aAAaE,CAAAA,QAAjB,GAA2BF,YAAaE,CAAAA,QAAxC,CAAmDH,KAAA,CAAMC,YAAaE,CAAAA,QAAnB,CAAnD,CACIF,aAAaG,CAAAA,QAAjB,GAA2BH,YAAaG,CAAAA,QAAxC,CAAmDJ,KAAA,CAAMC,YAAaG,CAAAA,QAAnB,CAAnD,CAEA,OAAOH,aAfa,CAoEtBI,QAASA,QAAO,CAAClI,IAAD,CAAO,CAAA,IACjBuE,SAAWvE,IAAKuE,CAAAA,QADC,CAEjB4D,UAAYnI,IAAKmI,CAAAA,SAFA,CAGjB3J,UAAYwB,IAAKxB,CAAAA,SAHA,CAIjB4J,SAAWpI,IAAKoI,CAAAA,QAJC,CAKjBC,QAAUrI,IAAKqI,CAAAA,OACftF,KAAAA,CAAQnD,6BAAA,CAA8BI,IAA9B,CAAoC,CAAC,UAAD,CAAa,WAAb,CAA0B,WAA1B,CAAuC,UAAvC,CAAmD,SAAnD,CAApC,CAGZ,KACI9C,GADYwK,KAAMY,CAAAA,QAANC,CAAeH,QAAfG,CACP,CAAU,CAAV,CAEJrL;EAAL,EAASyK,OAAQC,CAAAA,IAAR,CAAa,sBAAb,CAETF,MAAMc,CAAAA,SAAN,CAAgB,QAAS,EAAG,CAC1B,MAAOH,QAAP,EAAkBA,OAAA,CAAQnL,EAAR,CAAYsB,SAAZ,CADQ,CAA5B,CAEG,EAFH,CAIA,KAAIiK,OAASC,SAAA,CAAUzG,QAAA,CAAS,EAAT,CAAac,IAAb,CAAoB,CAC/BwB,QAD+B,CAErCrH,EAFqC,CAApB,CAAV,CAIbwK,MAAMc,CAAAA,SAAN,CAAgB,QAAS,EAAG,CAC1B,MAAO,KAAKL,UAAA,CAAUM,MAAV,CADc,CAA5B,CAEG,CAACA,MAAD,CAFH,CAGA,OAAO,KAzBc,CA/zCvB9J,MAAOgK,CAAAA,cAAP,CAAsBnO,OAAtB,CAA+B,YAA/B,CAA6C,CAAEyF,MAAO,CAAA,CAAT,CAA7C,CAIA,KAAIgC,SAAWxH,eAAA,CAAgBH,OAAA,CAAQ,oDAAR,CAAhB,CAAf,CACIsF,8BAAgCnF,eAAA,CAAgBH,OAAA,CAAQ,yEAAR,CAAhB,CADpC;AAEI8I,WAAa3I,eAAA,CAAgBH,OAAA,CAAQ,sDAAR,CAAhB,CAFjB,CAGIwG,MAAQxG,OAAA,CAAQ,uCAAR,CACRsO,OAAAA,CAAanO,eAAA,CAAgBH,OAAA,CAAQ,4CAAR,CAAhB,CACjB,KAAI0K,UAAY1K,OAAA,CAAQ,qCAAR,CAAhB,CACIoN,MAAQpN,OAAA,CAAQ,iCAAR,CADZ,CAEIuO,eAAiBpO,eAAA,CAAgBiN,KAAhB,CAFrB,CAGIoB,YAAcxO,OAAA,CAAQ,wCAAR,CAHlB,CAIIyO,WAAatO,eAAA,CAAgBH,OAAA,CAAQ,wDAAR,CAAhB,CAJjB;AAKI0O,WAAavO,eAAA,CAAgBH,OAAA,CAAQ,oDAAR,CAAhB,CALjB,CAMI2O,eAAiB3O,OAAA,CAAQ,6EAAR,CANrB,CAOI4O,UAAYzO,eAAA,CAAgBH,OAAA,CAAQ,iDAAR,CAAhB,CAPhB,CAcImD,MAAQ,IAAI0L,GAdhB,CAeIC,YAAc,EAflB,CAgBItK,GAAK,CACPoF,IAAKA,QAAY,CAACmF,CAAD,CAAI,CACnB,MAAOA,EAAP,GAAa1K,MAAA,CAAO0K,CAAP,CAAb,EAA0B,CAACvK,EAAGqE,CAAAA,GAAH,CAAOkG,CAAP,CADR,CADd,CAIPpK,IAAKA,QAAY,CAACoK,CAAD,CAAI,CACnB,MAAoB,UAApB,GAAO,MAAOA,EADK,CAJd,CAOPC,IAAKA,QAAY,CAACD,CAAD,CAAI,CACnB,MAAoB,QAApB,GAAO,MAAOA,EADK,CAPd,CAUPE,IAAKA,QAAY,CAACF,CAAD,CAAI,CACnB,MAAoB,QAApB,GAAO,MAAOA,EADK,CAVd,CAaPG,IAAKA,QAAY,CAACH,CAAD,CAAI,CACnB,MAAa,KAAK,EAAlB;AAAOA,CADY,CAbd,CAgBPlG,IAAKA,QAAY,CAACkG,CAAD,CAAI,CACnB,MAAOpI,MAAMC,CAAAA,OAAN,CAAcmI,CAAd,CADY,CAhBd,CAmBPtK,IAAKA,QAAY,CAACsK,CAAD,CAAII,CAAJ,CAAO,CAEtB,GAAI,MAAOJ,EAAX,GAAiB,MAAOI,EAAxB,EAA6B,CAAC,CAACJ,CAA/B,GAAqC,CAAC,CAACI,CAAvC,CAA0C,MAAO,CAAA,CAEjD,IAAI3K,EAAGwK,CAAAA,GAAH,CAAOD,CAAP,CAAJ,EAAiBvK,EAAGyK,CAAAA,GAAH,CAAOF,CAAP,CAAjB,EAA8BvK,EAAGoF,CAAAA,GAAH,CAAOmF,CAAP,CAA9B,CAAyC,MAAOA,EAAP,GAAaI,CAEtD,IAAI3K,EAAGqE,CAAAA,GAAH,CAAOkG,CAAP,CAAJ,EAAiBA,CAAjB,EAAsBI,CAAtB,CAAyB,MAAO,CAAA,CAIhC,KAFArD,IAAIA,CAEJ,GAAUiD,EAAV,CACE,GAAI,EAAEjD,CAAF,GAAOqD,EAAP,CAAJ,CAAe,MAAO,CAAA,CAGxB,KAAKrD,CAAL,GAAUqD,EAAV,CACE,GAAIJ,CAAA,CAAEjD,CAAF,CAAJ,GAAaqD,CAAA,CAAErD,CAAF,CAAb,CAAmB,MAAO,CAAA,CAG5B,OAAOtH,GAAG0K,CAAAA,GAAH,CAAOpD,CAAP,CAAA,CAAYiD,CAAZ,GAAkBI,CAAlB,CAAsB,CAAA,CAlBP,CAnBjB,CAhBT,CAiEItN,cAAgB,EAjEpB,CAkEImB,mBAAqB,EAlEzB,CAmEIU,kBAAoB,EAnExB,CA0GIR,QAAU,CAAA,CA1Gd,CA2JI0F,UAAY,EA3JhB,CAqcIwC,SAAWkD,MAAA,CAAW,CACxBc,IAAK1E,SAAU2E,CAAAA,YADS,CAERnH,cAFQ,CAGXoC,WAHW,CAIXlB,WAJW,CAKVS,YALU,CAOxByF,iBAAkB,CAAA,CAPM,CAQxBC,iBAAkB,CAAA,CARM;AASxBC,kBAAmB,CAAA,CATK,CAUxBC,gBAAiBjL,EAAGG,CAAAA,GAAH,CAAO+K,UAAP,CAAA,CAAqBA,UAArB,CAAkChP,IAAAA,EAV3B,CAWxBiP,cAAenL,EAAGG,CAAAA,GAAH,CAAOiL,YAAP,CAAA,CAAuBA,YAAvB,CAAsClP,IAAAA,EAX7B,CAaxBgP,WAAYlL,EAAGG,CAAAA,GAAH,CAAO+K,UAAP,CAAA,CAAqBA,UAArB,CAAkChP,IAAAA,EAbtB,CAexBkP,aAAcpL,EAAGG,CAAAA,GAAH,CAAOiL,YAAP,CAAA,CAAuBA,YAAvB,CAAsClP,IAAAA,EAf5B,CAgBxBmP,UAAW,EAhBa,CAiBxBC,mBAAoB1G,WAjBI,CAkBxB2G,uBAAwB3G,WAlBA,CAmBxB4G,yBAA0B1F,WAnBF,CAoBxB2F,wBAAyBpG,YApBD,CAqBxBqG,aAAcA,QAAqB,CAACpM,QAAD,CAAWqM,aAAX,CAA0BhI,IAA1B,CAAgCnE,QAAhC,CAA0CD,QAA1C,CAAoD+G,KAApD,CAA2D,CAC5F,GAAIhH,QAASmB,CAAAA,UAAb,EAA2BlB,QAAS4E,CAAAA,MAApC,EAA8C5E,QAAS4E,CAAAA,MAAvD;AAAkE7E,QAAlE,CAEE+G,cAAA,CAAe/G,QAAf,CAAyBqE,IAAzB,CAA+BpE,QAA/B,CAAyC+G,KAAzC,CAFF,KAGO,CAEDsF,aAAAA,CAAiBrM,QAASyE,CAAAA,IAC1B6H,cAAAA,CAA6B,IAAK,EAAxB,GAAAD,aAAA,CAA4B,EAA5B,CAAiCA,aAD/C,KAEIE,QAAUhL,6BAAA,CAA8BvB,QAA9B,CAAwC,CAAC,MAAD,CAAxC,CAFd,CAIIwM,eAAiBvM,QAASwE,CAAAA,IAJ9B,CAKIgI,QAA6B,IAAK,EAAxB,GAAAD,cAAA,CAA4B,EAA5B,CAAiCA,cAC3CE,SAAAA,CAAUnL,6BAAA,CAA8BtB,QAA9B,CAAwC,CAAC,MAAD,CAAxC,CAGGqM,cAAQK,CAAAA,IAARC,CAAa,QAAS,CAAChL,KAAD,CAAQvE,KAAR,CAAe,CACpD,MAAOoD,GAAGoF,CAAAA,GAAH,CAAOjE,KAAP,CAAA,CAAgBtB,MAAOoB,CAAAA,OAAP,CAAeE,KAAf,CAAsB+K,CAAAA,IAAtB,CAA2B,QAAS,CAACE,KAAD,CAAQ,CAGjE,MADUA,MAAAC,CAAM,CAANA,CACV,GAAeL,OAAA,CAAQpP,KAAR,CAAA,CAFLwP,KAAA5P,CAAM,CAANA,CAEK,CAHkD,CAA5C,CAAhB,CAIF2E,KAJE,GAIQ6K,OAAA,CAAQpP,KAAR,CALqC,CAArCuP,CAQjB;AAEE9F,cAAA,CAAe/G,QAAf,CAAyBqE,IAAzB,CAA+BpE,QAA/B,CAAyC+G,KAAzC,CAFF,CAKEjH,UAAA,CAAWC,QAAX,CAAqBwM,OAArB,CAA8BG,QAA9B,CAAuC,CAAA,CAAvC,CAxBG,CAJqF,CArBtE,CAqDxBK,aAAcA,QAAqB,CAAChN,QAAD,CAAW,CACxCA,QAASyF,CAAAA,UAAb,GACEzF,QAASiN,CAAAA,OACT,CADmB,CAAA,CACnB,CAAA1J,kBAAA,CAAmBvD,QAAnB,CAFF,CAD4C,CArDtB,CA2DxBkN,eAAgBA,QAAuB,CAAClN,QAAD,CAAW2E,KAAX,CAAkB,CACvD,GAAI3E,QAASyF,CAAAA,UAAb,EAA4C,IAA5C,EAA2Bd,KAAMsI,CAAAA,OAAjC,EAAoDtI,KAAMsI,CAAAA,OAA1D,CACEjN,QAASiN,CAAAA,OACT,CADmB,CAAA,CACnB,CAAA1J,kBAAA,CAAmBvD,QAAnB,CAHqD,CA3DjC,CAiExBmN,iBAAkBA,QAAyB,EAAG,CAC5C,KAAUC,MAAJ,CAAU,2GAAV,CAAN,CAD4C,CAjEtB,CAoExBC,kBAAmBA,QAA0B,CAACrN,QAAD,CAAW,CACtD,MAAOA,SAD+C,CApEhC;AAuExBsN,mBAAoBA,QAA2B,EAAG,CAChD,MAAOtC,YADyC,CAvE1B,CA0ExBuC,oBAAqBA,QAA4B,EAAG,CAClD,MAAOvC,YAD2C,CA1E5B,CA6ExBwC,mBAAoBA,QAA2B,EAAG,EA7E1B,CA8ExBC,wBAAyBA,QAAgC,EAAG,CAC1D,MAAO,CAAA,CADmD,CA9EpC,CAiFxBC,cAAeA,QAAsB,EAAG,CACtC,MAAO1C,YAD+B,CAjFhB,CAoFxB2C,0BAA2BA,QAAkC,EAAG,CAC9D,MAAO,CAAA,CADuD,CApFxC,CAuFxBC,iBAAkBA,QAAyB,EAAG,EAvFtB,CAwFxBC,iBAAkBA,QAAyB,EAAG,EAxFtB,CAyFxBC,qBAAsBA,QAA6B,EAAG,CACpD,MAAO,CAAA,CAD6C,CAzF9B,CAAX,CArcf,CAqiBIC,kBADYrN,EAAGG,CAAAA,GAAH,CAAOnE,MAAP,CACQ,EADUA,MAAA,CAAO,KAAP,CACV,CAAYA,MAAA,CAAO,KAAP,CAAA,CAAc,cAAd,CAAZ,CAA4C,KAoCpE4K,SAAS0G,CAAAA,kBAAT,CAA4B,CAC1BC,WAAwD,CAD9B,CAE1BC,QAlkBYA,QAgkBc;AAG1BC,oBAAqB,mBAHK,CAK1BC,wBAAyB9G,QAAS+G,CAAAA,gBALR,CAA5B,CAqBA,KAAIC,aAAehF,KAAMiF,CAAAA,aAAN,CAAoB,EAApB,CAAnB,CACIjE,UAAYA,QAAkB,CAAC3F,cAAD,CAAQ,CAAA,IACpCwB,SAAWxB,cAAMwB,CAAAA,QADmB,CAEpCrH,GAAK6F,cAAM7F,CAAAA,EAFyB,CAGpCG,gBAAS0F,cAAM1F,CAAAA,MAHqB,CAIpCuP,aAAe7J,cAAM6J,CAAAA,YAJe,CAKpCC,UAAY9J,cAAM8J,CAAAA,SALkB,CAMpCC,KAAO/J,cAAM+J,CAAAA,IANuB,CAOpCC,WAAahK,cAAMgK,CAAAA,UAPiB,CAQpCC,UAAYjK,cAAM7E,CAAAA,EARkB,CASpCA,GAAmB,IAAK,EAAnB,GAAA8O,SAAA,CAAuB,CAAA,CAAvB,CAA+BA,SACpCC,UAAAA,CAAoBlK,cAAM6C,CAAAA,UAVU;IAWpCA,WAAmC,IAAK,EAA3B,GAAAqH,SAAA,CAA+B,CAAA,CAA/B,CAAuCA,SACpDC,UAAAA,CAAmBnK,cAAMoK,CAAAA,SAZW,KAapCA,UAAiC,IAAK,EAA1B,GAAAD,SAAA,CAA8B,CAAA,CAA9B,CAAsCA,SAClDE,UAAAA,CAAcrK,cAAMsK,CAAAA,IAdgB,KAepCA,KAAuB,IAAK,EAArB,GAAAD,SAAA,CAAyB,CAAA,CAAzB,CAAiCA,SACxCE,UAAAA,CAAwBvK,cAAMnC,CAAAA,eAhBM,KAiBpCA,gBAA4C,IAAK,EAA/B,GAAA0M,SAAA,CAAmC,CAAA,CAAnC,CAA2CA,SAC7DC,UAAAA,CAAwBxK,cAAM/F,CAAAA,mBAlBM,KAmBpCA,oBAAgD,IAAK,EAA/B,GAAAuQ,SAAA,CAAmC,CAAA,CAAnC,CAA2CA,SACjEC,UAAAA,CAAwBzK,cAAM0K,CAAAA,mBApBM,KAqBpCA,oBAAgD,IAAK,EAA/B,GAAAD,SAAA,CAAmC,CAAA,CAAnC,CAA0CA,SAChEE,UAAAA;AAAkB3K,cAAM4K,CAAAA,QAtBY,KAuBpCA,SAA+B,IAAK,EAAzB,GAAAD,SAAA,CAA6B,CAAA,CAA7B,CAAqCA,SAvBZ,CAwBpCE,UAAY7K,cAAM6K,CAAAA,SAxBkB,CAyBpCC,gBAAkB9K,cAAM8K,CAAAA,eAExBtF,eAAAA,CAAYb,KAAMY,CAAAA,QAAN,CAAe,CAAA,CAAf,CA3BwB,KA4BpCxK,MAAQyK,cAAA,CAAU,CAAV,CA5B4B,CA6BpCuF,SAAWvF,cAAA,CAAU,CAAV,CA7ByB,CAkCpCwF,MAHarG,KAAMY,CAAAA,QAAN0F,CAAe,QAAS,EAAG,CAC1C,MAAO,KAAIlN,KAAMmN,CAAAA,OADyB,CAA3BD,CAGL,CAAW,CAAX,CAlC4B,CAgDpCE,iBAZaxG,KAAMY,CAAAA,QAAN6F,CAAe,QAAS,EAAG,CAC1C,IAAIC,IAAM,IAAItN,KAAMuN,CAAAA,SAEpB,IAAIxB,SAAJ,CAAe,CACb,IACIyB,eAAiB1O,6BAAA,CAA8BiN,SAA9B,CAAyC,CAAC,QAAD,CAAzC,CAErB1O,WAAA,CAAWiQ,GAAX,CAAgBE,cAAhB,CAAgC,EAAhC,CAJa,CAOf,MAAOF,IAVmC,CAA3BD,CAYM,CAAW,CAAX,CAhDiB;AAwDpCI,aANa7G,KAAMY,CAAAA,QAANkG,CAAe,QAAS,EAAG,CAC1C,IAAIpR,MAAQ,IAAI0D,KAAM2N,CAAAA,KACtBrR,MAAM0E,CAAAA,aAAN,CAAsB,EACtB1E,MAAMqG,CAAAA,SAAN,CAAkB,EAClB,OAAOrG,MAJmC,CAA3BoR,CAME,CAAW,CAAX,CAEfE,eAAAA,CAAahH,KAAMY,CAAAA,QAAN,CAAe,QAAS,EAAG,CAC1C,IAAIqG,IAAM/B,YAAA,CAAe,IAAI9L,KAAM8N,CAAAA,kBAAV,CAA6B,CAA7B,CAAgC,CAAhC,CAAmC,CAAnC,CAAsC,CAAtC,CAAyC,EAAzC,CAA8C,GAA9C,CAAf,CAAqE,IAAI9N,KAAM+N,CAAAA,iBAAV,CAA4B,EAA5B,CAAgC,CAAhC,CAAmC,EAAnC,CAAwC,GAAxC,CAC/EF,IAAIG,CAAAA,QAASC,CAAAA,CAAb,CAAiB,CACb1R,gBAAJ,EAAYc,UAAA,CAAWwQ,GAAX,CAAgBtR,eAAhB,CAAwB,EAAxB,CAEZsR,IAAIK,CAAAA,MAAJ,CAAW,CAAX,CAAc,CAAd,CAAiB,CAAjB,CACA,OAAOL,IANmC,CAA3B,CA1DuB,KAkEpCM,WAAaP,cAAA,CAAW,CAAX,CAlEuB,CAmEpCQ,kBAAoBR,cAAA,CAAW,CAAX,CAKpBlS,eAAAA,CAHakL,KAAMY,CAAAA,QAAN6G,CAAe,QAAS,EAAG,CAC1C,MAAO,KAAIrO,KAAMsO,CAAAA,KADyB,CAA3BD,CAGL,CAAW,CAAX,CAGZ;IAAIpT,MAAQ2L,KAAM2H,CAAAA,MAAN,CAAa,CACvBvR,MAAO,CAAA,CADgB,CAEvBD,OAAQ,CAAA,CAFe,CAGvBZ,OAAQ,CAHe,CAIN2D,eAJM,CAKjByM,IALiB,CAMnBnP,EANmB,CAOX0H,UAPW,CAQb+H,QARa,CASvB3Q,oBAAqB,CAAA,CATE,CAUvBH,OAAQ,CAVe,CAWvByS,OAAQ,CAXe,CAYvB5S,YAAa,EAZU,CAavBW,OAAQ4R,UAbe,CAcvB7R,MAAOmR,YAdgB,CAevB1B,UAAWqB,gBAfY,CAgBhBH,KAhBgB,CAiBvBvR,MAAOA,cAjBgB,CAkBnBU,EAlBmB,CAmBjB4P,IAnBiB,CAoBvByC,SAAU,CACRC,MAAO,CADC,CAERC,OAAQ,CAFA,CAGRC,OAAQ,CAHA,CApBa,CAyBvBC,aAAc,CAAC,CAAD,CAAI,CAAJ,CAzBS,CA0BvBC,YAAa,EA1BU,CA2BvBC,QAAS,IAAI/G,WAAYgH,CAAAA,WA3BF,CA4BvBC,SAAU/U,IAAAA,EA5Ba,CA6BvByN,OAAQzN,IAAAA,EA7Be,CA8BvBgV,UAAWA,QAAkB,CAACpT,GAAD,CAAMqT,QAAN,CAAgB,CAC1B,IAAK,EAAtB,GAAIA,QAAJ,GACEA,QADF,CACa,CADb,CAQIA,SAAJ,EAAclU,KAAMQ,CAAAA,OAAQU,CAAAA,MAAd,EACdlB,MAAMQ,CAAAA,OAAQG,CAAAA,WAAYd,CAAAA,IAA1B,CAA+B,CACxBgB,GADwB;AAEnBqT,QAFmB,CAA/B,CAKAlU,MAAMQ,CAAAA,OAAQG,CAAAA,WAAd,CAA4BX,KAAMQ,CAAAA,OAAQG,CAAAA,WAAYwT,CAAAA,IAA1B,CAA+B,QAAS,CAAC7G,CAAD,CAAII,CAAJ,CAAO,CACzE,MAAOJ,EAAE4G,CAAAA,QAAT,CAAoBxG,CAAEwG,CAAAA,QADmD,CAA/C,CAG5B,OAAO,SAAS,EAAG,CAEbA,QAAJ,EAAclU,KAAMQ,CAAAA,OAAQU,CAAAA,MAAd,EACdlB,MAAMQ,CAAAA,OAAQG,CAAAA,WAAd,CAA4BX,KAAMQ,CAAAA,OAAQG,CAAAA,WAAYmC,CAAAA,MAA1B,CAAiC,QAAS,CAACsR,CAAD,CAAI,CACxE,MAAOA,EAAEvT,CAAAA,GAAT,GAAiBA,GADuD,CAA9C,CAHX,CAlBwB,CA9BtB,CAwDvBwT,iBAAkBA,QAAyB,CAAC/S,MAAD,CAAS,CAClD,MAAO6R,kBAAA,CAAkB7R,MAAlB,CAD2C,CAxD7B,CA2DvBY,WAAYoS,QAAqB,EAAG,CAClC,MAAOpS,WAAA,CAAWlC,KAAX,CAD2B,CA3Db,CA8DvBuU,UAAWA,QAAkB,CAAClJ,KAAD,CAAQmJ,OAAR,CAAiB,CAC9B,IAAK,EAAnB,GAAInJ,KAAJ,GACEA,KADF,CACU,EADV,CAIgB,KAAK,EAArB,GAAImJ,OAAJ,GACEA,OADF,CACY,CAAA,CADZ,CAIA,OAAOC,kBAAA,CAAkBpJ,KAAlB,CAAyBmJ,OAAzB,CATqC,CA9DvB,CAAb,CA2EZ7I;KAAM+I,CAAAA,OAAN,CAAc,QAAS,EAAG,CACxB1U,KAAMQ,CAAAA,OAAQuB,CAAAA,KAAd,CAAsBA,KACtB/B,MAAMQ,CAAAA,OAAQuQ,CAAAA,IAAd,CAAqBA,IACrB/Q,MAAMQ,CAAAA,OAAQc,CAAAA,MAAd,CAAuB4R,UACvBlT,MAAMQ,CAAAA,OAAQS,CAAAA,mBAAd,CAAoCA,mBACpCjB,MAAMQ,CAAAA,OAAQ2B,CAAAA,EAAd,CAAmBA,EACnBnC,MAAMQ,CAAAA,OAAQW,CAAAA,EAAd,CAAmBA,EACnBnB,MAAMQ,CAAAA,OAAQqJ,CAAAA,UAAd,CAA2BA,UAC3B7J,MAAMQ,CAAAA,OAAQoR,CAAAA,QAAd,CAAyBA,QARD,CAA1B,CASG,CAAC3Q,mBAAD,CAAsBkB,EAAtB,CAA0B0H,UAA1B,CAAsC+H,QAAtC,CAAgD7P,KAAhD,CAAuDgP,IAAvD,CAA6DmC,UAA7D,CAAyE/R,EAAzE,CATH,CAWAwK,MAAM+I,CAAAA,OAAN,CAAc,QAAS,EAAG,CACxB1U,KAAMQ,CAAAA,OAAQ+S,CAAAA,MAAd,CAAuBxC,IAAK0C,CAAAA,KAA5B,CAAoC1C,IAAK2C,CAAAA,MAEzC,IAAyBR,UA5KhByB,CAAAA,oBA4KT,CACE3U,KAAMQ,CAAAA,OAAQgT,CAAAA,QAAd,CAAyB,CACvBC,MAAO1C,IAAK0C,CAAAA,KADW,CAEvBC,OAAQ3C,IAAK2C,CAAAA,MAFU;AAGvBC,OAAQ,CAHe,CAD3B,KAMO,CACL,IAAIvP,OAAS,IAAIW,KAAM6P,CAAAA,OAAV,CAAkB,CAAlB,CAAqB,CAArB,CAAwB,CAAxB,CACTC,OAAAA,CAAW3B,UAAWH,CAAAA,QAAS+B,CAAAA,UAApB,CAA+B1Q,MAA/B,CAGXsP,OAAAA,EAAS,CAATA,CAAa3S,IAAKgU,CAAAA,GAAL,CAFP7B,UAAW8B,CAAAA,GAEJ,CAFUjU,IAAKkU,CAAAA,EAEf,CAFoB,GAEpB,CAAe,CAAf,CAEjB,KAAIxB,MAAQC,MAARD,CAAiBzT,KAAMQ,CAAAA,OAAQ+S,CAAAA,MACnCvT,MAAMQ,CAAAA,OAAQgT,CAAAA,QAAd,CAAyB,CAChBC,KADgB,CAEvBC,OAAQA,MAFe,CAGvBC,OAAQ5C,IAAK0C,CAAAA,KAAbE,CAAqBF,KAHE,CARpB,CAiBH/B,mBAAJ,GAC2BwB,UApMlByB,CAAAA,oBAoMP,EACEzB,UAAWgC,CAAAA,IAGX,CAHkBnE,IAAK0C,CAAAA,KAGvB,CAH+B,EAG/B,CAFAP,UAAWiC,CAAAA,KAEX,CAFmBpE,IAAK0C,CAAAA,KAExB,CAFgC,CAEhC,CADAP,UAAWkC,CAAAA,GACX,CADiBrE,IAAK2C,CAAAA,MACtB,CAD+B,CAC/B,CAAAR,UAAWmC,CAAAA,MAAX,CAAoBtE,IAAK2C,CAAAA,MAAzB,CAAkC,EAJpC,EAMER,UAAWK,CAAAA,MANb,CAMsBvT,KAAMQ,CAAAA,OAAQ+S,CAAAA,MAMpC,CAHAL,UAAWoC,CAAAA,sBAAX,EAGA;AAAApC,UAAWqC,CAAAA,iBAAX,EAbF,CAgBApU,GAAGqU,CAAAA,OAAH,CAAWzE,IAAK0C,CAAAA,KAAhB,CAAuB1C,IAAK2C,CAAAA,MAA5B,CACI3R,MAAJ,EAAWG,UAAA,CAAWlC,KAAX,CA3Ca,CAA1B,CA4CG,CAACkT,UAAD,CAAa/R,EAAb,CAAiB4P,IAAjB,CAAuBW,mBAAvB,CA5CH,CAiDA,KAAI+D,WAAa9J,KAAM+J,CAAAA,WAAN,CAAkB,QAAS,CAACzR,IAAD,CAAO,CAAA,IAC7C0R,QAAU1R,IAAK0R,CAAAA,OACfC,KAAAA,CAAU3R,IAAK2R,CAAAA,OAEnB,IAAgB,IAAK,EAArB,GAAID,OAAJ,CAAwB,CAAA,IAClBE,oBAAsB7V,KAAMQ,CAAAA,OAAQuQ,CAAAA,IADlB,CAElBmE,KAAOW,mBAAoBX,CAAAA,IAFT,CAIlBE,IAAMS,mBAAoBT,CAAAA,GAE9BpD,MAAM1N,CAAAA,GAAN,EAAWqR,OAAX,CAAqBT,IAArB,GAHYW,mBAAoBV,CAAAA,KAGhC,CAAsCD,IAAtC,EAA8C,CAA9C,CAAkD,CAAlD,CAA2F,CAA3F,CAAqD,GAAGU,IAAH,CAAaR,GAAb,GADxCS,mBAAoBR,CAAAA,MACoB,CAA8BD,GAA9B,EAArD,CAA+F,CAA/F,CACAjD,iBAAiB2D,CAAAA,aAAjB,CAA+B9D,KAA/B,CAAsChS,KAAMQ,CAAAA,OAAQc,CAAAA,MAApD,CAPsB,CAJyB,CAAlC;AAad,EAbc,CAAjB,CAgBIiT,UAAY5I,KAAM+J,CAAAA,WAAN,CAAkB,QAAS,CAACrK,KAAD,CAAQvI,MAAR,CAAgB,CAEzD,GAAI9C,KAAMQ,CAAAA,OAAQoR,CAAAA,QAAlB,CAA4B,MAAO,EACnC,KAAImE,KAAO,IAAIC,GACXC,MAAAA,CAAO,EAEPC,OAAAA,CAAgBpT,MAAA,CAASA,MAAA,CAAO9C,KAAMQ,CAAAA,OAAQa,CAAAA,KAAM0E,CAAAA,aAA3B,CAAT,CAAqD/F,KAAMQ,CAAAA,OAAQa,CAAAA,KAAM0E,CAAAA,aAEzFoQ,OAAAA,CAAahE,gBAAiBiE,CAAAA,gBAAjB,CAAkCF,MAAlC,CAAiD,CAAA,CAAjD,CAAuDpT,CAAAA,MAAvD,CAA8D,QAAS,CAACuT,IAAD,CAAO,CACzFC,IAAAA,CAAKlL,MAAA,CAAOiL,IAAP,CACT,IAAIN,IAAKzO,CAAAA,GAAL,CAASgP,IAAT,CAAJ,CAAkB,MAAO,CAAA,CACzBP,KAAKhO,CAAAA,GAAL,CAASuO,IAAT,CACA,OAAO,CAAA,CAJsF,CAA9E,CAQbxF,UAAJ,EAAiBA,SAAUhO,CAAAA,MAA3B,EAAqCyT,WAAY/V,CAAAA,OAAjD,GACE2V,MADF,CACerF,SAAUhO,CAAAA,MAAV,CAAiBqT,MAAjB,CAA6BI,WAAY/V,CAAAA,OAAzC,CADf,CAISgW,OAAAA,CAAYrM,+BAAA,CAAgCgM,MAAhC,CAArB;IAAK,IAA6DM,KAAlE,CAAyE,CAAuBjM,CAArBiM,KAAqBjM,CAAbgM,MAAA,EAAahM,EAAAA,IAAhG,CAAA,CAAuG,CACjGkM,KAAAA,CAAaD,KAAMvS,CAAAA,KAGvB,KAFA,IAAIqH,YAAcmL,KAAWxP,CAAAA,MAE7B,CAAOqE,WAAP,CAAA,CACiBA,WAAYzF,CAAAA,UAI3B,EAHcmQ,KAAKpW,CAAAA,IAAL,CAAUqG,QAAA,CAAS,EAAT,CAAawQ,KAAb,CAAyB,CAClCnL,WADkC,CAAzB,CAAV,CAGd,CAAAA,WAAA,CAAcA,WAAYjF,CAAAA,MATyE,CAavG,MAAO2P,MAjCkD,CAA3C,CAkCb,EAlCa,CAhBhB,CAqDIU,kBAAoBhL,KAAM+J,CAAAA,WAAN,CAAkB,QAAS,CAACrK,KAAD,CAAQ,CACzD,IAAIuL,GAAKvL,KAAMsK,CAAAA,OAAXiB,CAAqB5W,KAAMQ,CAAAA,OAAQoT,CAAAA,YAAd,CAA2B,CAA3B,CACrBiD,MAAAA,CAAKxL,KAAMuK,CAAAA,OAAXiB,CAAqB7W,KAAMQ,CAAAA,OAAQoT,CAAAA,YAAd,CAA2B,CAA3B,CACzB,OAAO7S,KAAK+V,CAAAA,KAAL,CAAW/V,IAAKgW,CAAAA,IAAL,CAAUH,EAAV,CAAeA,EAAf,CAAoBC,KAApB,CAAyBA,KAAzB,CAAX,CAHkD,CAAnC,CAIrB,EAJqB,CArDxB,CA0DIG,QAAUrL,KAAM+I,CAAAA,OAAN,CAAc,QAAS,EAAG,CACtC,MAAO,KAAItH,GAD2B,CAA1B,CAEX,EAFW,CA1Dd,CA+DI6J,KAAO,IAAIlS,KAAM6P,CAAAA,OA/DrB;AAgEIsC,iBAAmBvL,KAAM+J,CAAAA,WAAN,CAAkB,QAAS,CAACrK,KAAD,CAAQ9D,EAAR,CAAYzE,MAAZ,CAAoB,CAEpE,IAAIqU,cAAgB5C,SAAA,CAAUlJ,KAAV,CAAiBvI,MAAjB,CAEhB9C,MAAMQ,CAAAA,OAAQwT,CAAAA,QAAlB,EAA6C,OAA7C,GAA8B3I,KAAM3E,CAAAA,IAApC,EAAuE,OAAvE,GAAwD2E,KAAM3E,CAAAA,IAA9D,EACE1G,KAAMQ,CAAAA,OAAQwT,CAAAA,QAAS3T,CAAAA,OAAvB,CAA+B,QAAS,CAAC2T,QAAD,CAAW,CAC5CmD,aAAcC,CAAAA,IAAd,CAAmB,QAAS,CAACC,GAAD,CAAM,CACrC,MAAOA,IAAI9L,CAAAA,WAAX,GAA2ByI,QAASzI,CAAAA,WADC,CAAlC,CAAL,EAEI4L,aAActX,CAAAA,IAAd,CAAmBmU,QAAnB,CAH6C,CAAnD,CAQEmD,cAAcvX,CAAAA,MAAlB,EACG,QAAS,EAAG,CA+EX,IA9EA,IAAI0X,iBAAmBL,IAAK3S,CAAAA,GAAL,CAAS0N,KAAMjJ,CAAAA,CAAf,CAAkBiJ,KAAMuF,CAAAA,CAAxB,CAA2B,CAA3B,CAA8BC,CAAAA,SAA9B,CAAwCxX,KAAMQ,CAAAA,OAAQc,CAAAA,MAAtD,CAAvB,CACIf,MAAuB,OAAf,GAAA8K,KAAM3E,CAAAA,IAAN,CAAyBiQ,iBAAA,CAAkBtL,KAAlB,CAAzB;AAAoD,CADhE,CAGIoM,sBAAwBA,QAA8B,CAACnB,EAAD,CAAK,CAC7D,MAAOjL,MAAMjH,CAAAA,MAAOqT,CAAAA,qBAAb,CAAmCnB,EAAnC,CADsD,CAH/D,CAQW,sCAAA,CAAA,CARX,CASY,uCAAA,CAAA,CATZ,CAYIoB,MAAQA,QAAc,EAAG,CAC3B,IAAIL,IAAMM,MAAOzT,CAAAA,KAAjB,CAEI0T,kBAAoBA,QAA0B,CAACtB,EAAD,CAAK,CAErCtC,sCAAhB,GACaA,sCAEX,CAFsB,CAAA,CAEtB,CAAAhU,KAAMQ,CAAAA,OAAQwT,CAAAA,QAAd,CAAyB,EAH3B,CAOIhU,MAAMQ,CAAAA,OAAQwT,CAAAA,QAAlB,EACEhU,KAAMQ,CAAAA,OAAQwT,CAAAA,QAASnU,CAAAA,IAAvB,CAA4BwX,GAA5B,CAEFhM,MAAMjH,CAAAA,MAAOwT,CAAAA,iBAAb,CAA+BtB,EAA/B,CAZqD,CAFvD,CAiBIuB,aAAe3R,QAAA,CAAS,EAAT,CAAamF,KAAb,CAAoBgM,GAApB,CAAyB,CAC3BF,aAD2B,CAE1CW,QAAoBA,qCAFsB;AAGnCvX,KAHmC,CAIxB+W,gBAJwB,CAK1CjF,IAAKF,gBAAiBE,CAAAA,GALoB,CAM1C/Q,OAAQtB,KAAMQ,CAAAA,OAAQc,CAAAA,MANoB,CAQ1CyW,gBAAiBA,QAAwB,EAAG,CAG1C,IAAIC,IAAMhY,KAAMQ,CAAAA,OAAQwT,CAAAA,QAExB,IAAI,CAACgE,GAAL,EAAYA,GAAIZ,CAAAA,IAAJ,CAAS,QAAS,CAACa,CAAD,CAAI,CAChC,MAAOA,EAAE1M,CAAAA,WAAY+K,CAAAA,EAArB,GAA4Be,GAAI9L,CAAAA,WAAY+K,CAAAA,EADZ,CAAtB,CAAZ,CAGEuB,YAAaC,CAAAA,OAAb,CAAkCA,qCAAlC,CAA4C,CAAA,CARJ,CARF,CAsB1C1T,OAAQ8B,QAAA,CAAS,EAAT,CAAamF,KAAMjH,CAAAA,MAAnB,CAA2B,CACdwT,iBADc,CAEVH,qBAFU,CAA3B,CAtBkC,CA0B1CS,cAAehS,QAAA,CAAS,EAAT,CAAamF,KAAM6M,CAAAA,aAAnB,CAAkC,CAC5BN,iBAD4B,CAExBH,qBAFwB,CAAlC,CA1B2B,CA8B1CU,YAAa9M,KA9B6B,CAAzB,CAiCnB9D,GAAA,CAAGsQ,YAAH,CAEA,IAA2B,CAAA,CAA3B,GAAeC,qCAAf,CASE,MANId,QAAQjG,CAAAA,IAML;AANa7L,KAAM8F,CAAAA,IAAN,CAAWgM,OAAQoB,CAAAA,MAAR,EAAX,CAA6BhB,CAAAA,IAA7B,CAAkC,QAAS,CAAC/M,CAAD,CAAI,CACjE,MAAOA,EAAEnD,CAAAA,MAAT,GAAoBmQ,GAAInQ,CAAAA,MADyC,CAA/C,CAMb,EAHLmR,mBAAA,CAAoBR,YAApB,CAAkC,CAACR,GAAD,CAAlC,CAGK,CAAA,OA9DkB,CAZ7B,CA8ESiB,WAAanO,+BAAA,CAAgCgN,aAAhC,CA9EtB,CA8EsEQ,MAAtE,CAA8E,CAAyBnN,CAAvBmN,MAAuBnN,CAAd8N,UAAA,EAAc9N,EAAAA,IAAvG,EAGe,OAHf,GACakN,KAAAa,EADb,CAAA,EA/EW,CAAb,EAuFF,OAAOpB,cArG6D,CAA/C,CAsGpB,EAtGoB,CAhEvB,CAuKI1C,kBAAoB9I,KAAM+J,CAAAA,WAAN,CAAkB,QAAS,CAACrK,KAAD,CAAQmJ,OAAR,CAAiB,CAClD,IAAK,EAArB,GAAIA,OAAJ,GACEA,OADF,CACY,CAAA,CADZ,CAIAxU,MAAMQ,CAAAA,OAAQsT,CAAAA,OAAQ0E,CAAAA,IAAtB,CAA2B,aAA3B,CAA0CnN,KAA1C,CACImJ,QAAJ,EAAaiB,UAAA,CAAWpK,KAAX,CACb,KAAI4K,KAAOiB,gBAAA,CAAiB7L,KAAjB,CAAwB,QAAS,CAACoN,IAAD,CAAO,CAEjD,IAAIxV,SADcwV,IAAKlN,CAAAA,WACIzF,CAAAA,UAE3B;GAAK7C,QAAL,GAEIA,QAASyV,CAAAA,WAET,EAFsBzV,QAASyV,CAAAA,WAAT,CAAqBD,IAArB,CAEtB,CAAAxV,QAAS0V,CAAAA,WAAT,EAAwB1V,QAAS2V,CAAAA,YAAjC,EAAiD3V,QAAS4V,CAAAA,UAA1D,EAAwE5V,QAAS6V,CAAAA,YAJrF,EAImG,CACjG,IAAIxC,GAAKlL,MAAA,CAAOqN,IAAP,CAAT,CACIM,YAAc/B,OAAQvN,CAAAA,GAAR,CAAY6M,EAAZ,CAEbyC,YAAL,CASWA,WAAYjB,CAAAA,OATvB,EAWEW,IAAKV,CAAAA,eAAL,EAXF,EAEEf,OAAQ1S,CAAAA,GAAR,CAAYgS,EAAZ,CAAgBmC,IAAhB,CAIA,CAHIxV,QAAS0V,CAAAA,WAGb,EAH0B1V,QAAS0V,CAAAA,WAAT,CAAqBzS,QAAA,CAAS,EAAT,CAAauS,IAAb,CAAmB,CAChE/R,KAAM,aAD0D,CAAnB,CAArB,CAG1B,CAAIzD,QAAS2V,CAAAA,YAAb,EAA2B3V,QAAS2V,CAAAA,YAAT,CAAsB1S,QAAA,CAAS,EAAT,CAAauS,IAAb,CAAmB,CAClE/R,KAAM,cAD4D,CAAnB,CAAtB,CAN7B,CAJiG,CARlD,CAAxC,CA2BX,QAAS,CAACsS,OAAD,CAAU,CACjB,MAAOA,QAAQlW,CAAAA,MAAR,CAAe,QAAS,CAACqF,GAAD,CAAM,CACnC,MAAO,CAAC,MAAD;AAAS,MAAT,CAAiB,OAAjB,CAA0B,KAA1B,CAAiC,OAAjC,CAA0C8G,CAAAA,IAA1C,CAA+C,QAAS,CAAC3J,IAAD,CAAO,CACpE,MAAO6C,IAAIrC,CAAAA,UAAJ,CAAe,SAAf,CAA2BR,IAA3B,CAD6D,CAA/D,CAD4B,CAA9B,CADU,CA3BR,CAmCX+S,oBAAA,CAAoBhN,KAApB,CAA2B4K,IAA3B,CAAiCzB,OAAjC,CACA,OAAOyB,KA3C2D,CAA5C,CA4CrB,EA5CqB,CAvKxB,CAoNIoC,oBAAsB1M,KAAM+J,CAAAA,WAAN,CAAkB,QAAS,CAACrK,KAAD,CAAQ4K,IAAR,CAAczB,OAAd,CAAuB,CAC1D,IAAK,EAArB,GAAIA,OAAJ,GACEA,OADF,CACY,CAAA,CADZ,CAIAxU,MAAMQ,CAAAA,OAAQsT,CAAAA,OAAQ0E,CAAAA,IAAtB,CAA2B,eAA3B,CAA4CnN,KAA5C,CACImJ,QAAJ,EAAaiB,UAAA,CAAWpK,KAAX,CACR4K,KAAL,GAAWA,IAAX,CAAkBiB,gBAAA,CAAiB7L,KAAjB,CAAwB,QAAS,EAAG,CACpD,MAAO,KAD6C,CAApC,CAAlB,CAGAnG,MAAM8F,CAAAA,IAAN,CAAWgM,OAAQoB,CAAAA,MAAR,EAAX,CAA6B/X,CAAAA,OAA7B,CAAqC,QAAS,CAACoY,IAAD,CAAO,CAGnD,GAAIxC,IAAJ,GAAa,CAACA,IAAKrW,CAAAA,MAAnB,EAA6B,CAACqW,IAAKmB,CAAAA,IAAL,CAAU,QAAS,CAAC/M,CAAD,CAAI,CACnD,MAAOA,EAAEkB,CAAAA,WAAT;AAAyBkN,IAAKlN,CAAAA,WADqB,CAAvB,CAA9B,EAEK,CAEH,IAAItI,SADcwV,IAAKlN,CAAAA,WACIzF,CAAAA,UAEvB7C,SAAJ,GACMA,QAAS4V,CAAAA,UAGb,EAHyB5V,QAAS4V,CAAAA,UAAT,CAAoB3S,QAAA,CAAS,EAAT,CAAauS,IAAb,CAAmB,CAC9D/R,KAAM,YADwD,CAAnB,CAApB,CAGzB,CAAIzD,QAAS6V,CAAAA,YAAb,EAA2B7V,QAAS6V,CAAAA,YAAT,CAAsB5S,QAAA,CAAS,EAAT,CAAauS,IAAb,CAAmB,CAClE/R,KAAM,cAD4D,CAAnB,CAAtB,CAJ7B,CASAsQ,QAAA,CAAQ,QAAR,CAAA,CAAkB5L,MAAA,CAAOqN,IAAP,CAAlB,CAbG,CAL8C,CAArD,CAV0E,CAAlD,CA+BvB,EA/BuB,CApN1B,CAoPIQ,cAAgBtN,KAAM+J,CAAAA,WAAN,CAAkB,QAAS,CAACpQ,IAAD,CAAO,CACpD,MAAO,SAAS,CAAC+F,KAAD,CAAQmJ,OAAR,CAAiB,CACf,IAAK,EAArB,GAAIA,OAAJ,GACEA,OADF,CACY,CAAA,CADZ,CAIAxU,MAAMQ,CAAAA,OAAQsT,CAAAA,OAAQ0E,CAAAA,IAAtB,CAA2BlT,IAA3B,CAAiC+F,KAAjC,CACImJ,QAAJ,EAAaiB,UAAA,CAAWpK,KAAX,CACT4K,QAAAA,CAAOiB,gBAAA,CAAiB7L,KAAjB,CAAwB,QAAS,CAACoN,IAAD,CAAO,CACjD,IAAIlN;AAAckN,IAAKlN,CAAAA,WAAvB,CACItI,SAAWsI,WAAYzF,CAAAA,UAE3B,IAAI7C,QAAJ,EAAgBA,QAAA,CAASqC,IAAT,CAAhB,GAGe,OAHf,GAGMA,IAHN,EAGmC,aAHnC,GAG0BA,IAH1B,EAG6D,aAH7D,GAGoDA,IAHpD,EAG8EtF,KAAMQ,CAAAA,OAAQqT,CAAAA,WAAYzQ,CAAAA,QAA1B,CAAmCmI,WAAnC,CAH9E,EAIItI,QAAA,CAASqC,IAAT,CAAA,CAAemT,IAAf,CAR6C,CAAxC,CAaE,cAAb,GAAInT,IAAJ,GACEtF,KAAMQ,CAAAA,OAAQoT,CAAAA,YACd,CAD6B,CAACvI,KAAMsK,CAAAA,OAAP,CAAgBtK,KAAMuK,CAAAA,OAAtB,CAC7B,CAAA5V,KAAMQ,CAAAA,OAAQqT,CAAAA,WAAd,CAA4BoC,OAAKlS,CAAAA,GAAL,CAAS,QAAS,CAACsT,GAAD,CAAM,CAClD,MAAOA,IAAI9L,CAAAA,WADuC,CAAxB,CAF9B,CAOc,QAAd,GAAKjG,IAAL,EAAkC,aAAlC,GAAyBA,IAAzB,EAA4D,aAA5D,GAAmDA,IAAnD,EAA+E2Q,OAAKrW,CAAAA,MAApF,EAA8FkS,CAAAA,eAA9F,EACkC,CADlC,EACM6E,iBAAA,CAAkBtL,KAAlB,CADN,EACqCyG,eAAA,EA5BN,CADmB,CAAlC;AAgCjB,CAACA,eAAD,CAhCiB,CAiCpBnG,MAAM+I,CAAAA,OAAN,CAAc,QAAS,EAAG,CACxB1U,KAAMQ,CAAAA,OAAQkM,CAAAA,MAAd,CAAuB,CACrBwM,QAASD,aAAA,CAAc,OAAd,CADY,CAErBE,cAAeF,aAAA,CAAc,aAAd,CAFM,CAGrBG,cAAeH,aAAA,CAAc,aAAd,CAHM,CAIrBI,QAASJ,aAAA,CAAc,OAAd,CAJY,CAKrBK,cAAeL,aAAA,CAAc,aAAd,CALM,CAMrBM,YAAaN,aAAA,CAAc,WAAd,CANQ,CAOrBO,eAAgBA,QAAuB,CAACC,CAAD,CAAI,CACzC,MAAOpB,oBAAA,CAAoBoB,CAApB,CAAuB,EAAvB,CADkC,CAPtB,CAUrBC,cAAejF,iBAVM,CAcrBkF,0BAA2BA,QAAkC,CAACF,CAAD,CAAI,CAC/D,MAAOzZ,MAAMQ,CAAAA,OAAQwT,CAAAA,QAArB,CAAgCO,SAAA,CAAUkF,CAAV,CAD+B,CAd5C,CAiBrBG,qBAAsBA,QAA6B,CAACH,CAAD,CAAI,CACrD,MAAOzZ,MAAMQ,CAAAA,OAAQwT,CAAAA,QAAd;AAAyB/U,IAAAA,EAAzB,CAAoCoZ,mBAAA,CAAoBoB,CAApB,CADU,CAjBlC,CADC,CAA1B,CAsBG,CAAC3H,eAAD,CAtBH,CA0BA,KAAIyE,YAAc5K,KAAM2H,CAAAA,MAAN,EAClB3H,MAAM+I,CAAAA,OAAN,CAAc,QAAS,EAAG,CACxB,IAWI1N,MAAQnD,6BAAA,CAXS7D,KAAMQ,CAAAA,OAWf,CAA8C,mGAAA,CAAA,KAAA,CAAA,GAAA,CAA9C,CAEZ+V,YAAY/V,CAAAA,OAAZ,CAAsBwG,KAdE,CAA1B,CAeG,CAAC+J,IAAD,CAAOmC,UAAP,CAfH,CAiBAvH,MAAMkO,CAAAA,eAAN,CAAsB,QAAS,EAAG,CAChC,MAAO,MAAM7I,UAAN,EAAoB7P,EAAG2Y,CAAAA,aAAH,CAAiB9I,UAAjB,CAApB,CADyB,CAAlC,CAEG,CAACA,UAAD,CAFH,CAIArF,MAAMkO,CAAAA,eAAN,CAAsB,QAAS,EAAG,CAC5BzI,SAAJ,GACEjQ,EAAGiQ,CAAAA,SAAU2I,CAAAA,OACb,CADuB,CAAA,CACvB,CAAyB,QAAzB;AAAI,MAAO3I,UAAX,CAAmCxO,MAAOoX,CAAAA,MAAP,CAAc7Y,EAAGiQ,CAAAA,SAAjB,CAA4BA,SAA5B,CAAnC,CAA+EjQ,EAAGiQ,CAAAA,SAAU1K,CAAAA,IAA5F,CAAmG3B,KAAMkV,CAAAA,gBAF3G,CAKA,IAAI3I,IAAJ,EAAYzM,eAAZ,CACE1D,EAAG+Y,CAAAA,WACH,CADiBnV,KAAMoV,CAAAA,qBACvB,CAAAhZ,EAAGiZ,CAAAA,cAAH,CAAoBrV,KAAMY,CAAAA,YARI,CAAlC,CAUG,CAACyL,SAAD,CAAYE,IAAZ,CAAkBzM,eAAlB,CAVH,CAaA,KAAIwV,OAAS1O,KAAM+J,CAAAA,WAAN,CAAkB2E,QAAe,CAACrT,KAAD,CAAQ,CACpD,IAAIsT,SAAWA,QAAiB,EAAG,CACjC,MAAOvI,SAAA,CAAS,CAAA,CAAT,CAD0B,CAKnCpG,MAAMc,CAAAA,SAAN,CAAgB,QAAS,EAAG,CAC1B,IAAIf,OAASmG,SAATnG,EAAsBmG,SAAA,CAAU7R,KAAMQ,CAAAA,OAAhB,CAC1B,OAAO,MAAMkL,MAAA,EAAUA,MAAO6O,CAAAA,IAAjB,CAAwB7O,MAAO6O,CAAAA,IAAP,CAAYD,QAAZ,CAAxB,CAAgDA,QAAA,EAAtD,CAFmB,CAA5B,CAGG,EAHH,CAIA,OAAOtT,MAAMwB,CAAAA,QAVuC,CAAzC,CAWV,EAXU,CAabmD,MAAMkO,CAAAA,eAAN,CAAsB,QAAS,EAAG,CAChCzY,MAAA,CAAqBuK,KAAM6O,CAAAA,aAAN,CAAoBH,MAApB;AAA4B,IAA5B,CAA+C1O,KAAM6O,CAAAA,aAAN,CAAoB7J,YAAa8J,CAAAA,QAAjC,CAA2C,CAC7GvW,MAAOqS,WAAY/V,CAAAA,OAD0F,CAA3C,CAE7C,UAApB,GAAA,MAAOgI,SAAP,CAAiCA,QAAA,CAASxI,KAAMQ,CAAAA,OAAf,CAAjC,CAA2DgI,QAFM,CAA/C,CAArB,CAE0EgK,YAF1E,CAEwFxS,KAFxF,CADgC,CAAlC,CAIG,CAAC+B,KAAD,CAAQyG,QAAR,CAAkB+N,WAAY/V,CAAAA,OAA9B,CAJH,CAKAmL,MAAMkO,CAAAA,eAAN,CAAsB,QAAS,EAAG,CAC5B9X,KAAJ,GAEO/B,KAAMQ,CAAAA,OAAQ2B,CAAAA,EAAnB,CAEO,CAAKhB,EAAGuZ,CAAAA,EAAR,EAAcvZ,EAAGgB,CAAAA,EAAjB,GAAwBhB,EAAGwZ,CAAAA,gBAA3B,EACYZ,CAAhB5Y,EAAGuZ,CAAAA,EAAaX,EAAP5Y,EAAGgB,CAAAA,EAAI4X,EAAAA,OACjB,CAD2B,CAAA,CAC3B,CAAA5Y,EAAGwZ,CAAAA,gBAAH,CAAoB,QAAS,CAACC,CAAD,CAAI,CAC/B,MAAO7a,SAAA,CAASC,KAAT,CAAgB4a,CAAhB,CAAmB,CAAnB,CAAsB,CAAA,CAAtB,CADwB,CAAjC,CAFK,EAKAhP,OAAQC,CAAAA,IAAR,CAAa,sCAAb,CAPP,CACE3J,UAAA,CAAWlC,KAAX,CAHJ,CADgC,CAAlC,CAYG,CAAC+B,KAAD,CAAQd,mBAAR,CAZH,CAcA0K,MAAMc,CAAAA,SAAN,CAAgB,QAAS,EAAG,CAC1B,MAAO,SAAS,EAAG,CACbzM,KAAMQ,CAAAA,OAAQW,CAAAA,EAAlB;CACMnB,KAAMQ,CAAAA,OAAQW,CAAAA,EAAG0Z,CAAAA,gBAIrB,EAJuC7a,KAAMQ,CAAAA,OAAQW,CAAAA,EAAG0Z,CAAAA,gBAAjB,EAIvC,CAHI7a,KAAMQ,CAAAA,OAAQW,CAAAA,EAAG6H,CAAAA,OAGrB,EAH8BhJ,KAAMQ,CAAAA,OAAQW,CAAAA,EAAG6H,CAAAA,OAAjB,EAG9B,CAFAhJ,KAAMQ,CAAAA,OAAQW,CAAAA,EAEd,CAFmBlC,IAAAA,EAEnB,CADAiL,sBAAA,CAAuBlK,KAAMQ,CAAAA,OAAQa,CAAAA,KAArC,CACA,CAAArB,KAAMQ,CAAAA,OAAQsB,CAAAA,MAAd,CAAuB,CAAA,CALzB,CADiB,CADO,CAA5B,CAUG,EAVH,CAWA,OAAO9B,MAAMQ,CAAAA,OAAQkM,CAAAA,MA/kBmB,CAD1C,CAkpBIV,UAAY,qGAAA,CAAA,KAAA,CAAA,GAAA,CAlpBhB,CAitBI8O,cAAgB,CAClB/H,SAAU,UADQ,CAElBU,MAAO,MAFW,CAGlBC,OAAQ,MAHU,CAIlBqH,SAAU,QAJQ,CAjtBpB,CAovBIC,gBAAkBlO,cAAemO,CAAAA,IAAf,CAAoBD,QAAwB,CAAChU,KAAD,CAAQ,CAAA,IAoBpEkU;AAAYlU,KAAMkU,CAAAA,SApBkD,CAqBpEC,OAASnU,KAAMmU,CAAAA,MArBqD,CAsBpEC,MAAQpU,KAAMoU,CAAAA,KAtBsD,CAuBpEC,WAAaxX,6BAAA,CAA8BmD,KAA9B,CAAqC,0NAAA,CAAA,KAAA,CAAA,GAAA,CAArC,CAvBuD,CAyBpEsU,aAAe3P,KAAM2H,CAAAA,MAAN,EAzBqD,CA2BpErB,WAAatG,KAAMY,CAAAA,QAAN,CAAe,EAAf,CA3BuD,CA8BpEG,OAAS7I,6BAAA,CAFKoO,UAAAsJ,CAAW,CAAXA,CAEL,CAA2C,CAAC,2BAAD,CAA3C,CA9B2D,CA+BpEnP,UAAY6F,UAAA,CAAW,CAAX,CAEZuJ,WAAAA;AAAcvO,UAAA,CAAWkO,MAAX,EAAqB,CACrCM,OAAQ,CAAA,CAD6B,CAErCC,SAAU,CACRD,OAAQ,EADA,CAERN,OAAQ,CAFA,CAF2B,CAMrCQ,SAA4B,WAAlB,GAAA,MAAOC,OAAP,EAAkCA,MAAOC,CAAAA,cAAzC,CAA0F5c,IAAAA,EAA1F,CAA0DiO,cAAe2O,CAAAA,cAN9C,CAArB,CAQdnR,OAAAA,CAAO8Q,UAAA,CAAY,CAAZ,CARX,KASIzK,KAAOyK,UAAA,CAAY,CAAZ,CATX,CAYIM,UAAYnQ,KAAM2H,CAAAA,MAAN,CAAa,CAAA,CAAb,CACZvR,WAAAA,CAAQ4J,KAAM+I,CAAAA,OAAN,CAAc,QAAS,EAAG,CACpC,MAAOoH,UAAUtb,CAAAA,OAAjB,CAA2Bsb,SAAUtb,CAAAA,OAArC,EAAgD,CAAC,CAACuQ,IAAK0C,CAAAA,KAAvD,EAAgE,CAAC,CAAC1C,IAAK2C,CAAAA,MADnC,CAA1B,CAET,CAAC3C,IAAD,CAFS,CAGZ,KAAI/Q,MAAQ2L,KAAM+I,CAAAA,OAAN,CAAc,QAAS,EAAG,CACpC,MAAO,CACC3D,IADD,CAEM3E,SAFN,CAGL3J,UAAW6Y,YAAa9a,CAAAA,OAHnB,CAD6B,CAA1B,CAMT,CAACuQ,IAAD,CANS,CAQZ,OAAsB,WAAtB,GAAI,MAAO6K,OAAX,CAAuD9O,cAAe0N,CAAAA,aAAf,CAA6B,KAA7B;AAAoCtU,QAAA,CAAS,CAClGkV,MAAOlV,QAAA,CAAS,EAAT,CAAa4U,aAAb,CAA4BM,KAA5B,CAD2F,CAAT,CAExFC,UAFwF,CAApC,CAEvCH,SAFuC,CAAvD,CAIoBpO,cAAe0N,CAAAA,aAAf,CAA6B,KAA7B,CAAoCtU,QAAA,CAAS,CAC/DrF,IAAKsM,SAAA,CAAU,CAACzC,MAAD,CAAO4Q,YAAP,CAAV,CAD0D,CAE/DF,MAAOlV,QAAA,CAAS,EAAT,CAAa4U,aAAb,CAA4BM,KAA5B,CAFwD,CAAT,CAGrD1O,MAHqD,CAG7C2O,UAH6C,CAApC,CAGIH,SAHJ,CAGenZ,UAHf,EAGqC+K,cAAe0N,CAAAA,aAAf,CAA6BrO,OAA7B,CAAsCjG,QAAA,CAAS,EAAT,CAAac,KAAb,CAAoBhH,KAApB,CAAtC,CAHrC,CA7DoD,CAApD,CAmElBqa,QAAAA,CAASvN,cAAemO,CAAAA,IAAf,CAAoBZ,QAAe,CAACpW,IAAD,CAAO,CAAA,IACjDuE,SAAWvE,IAAKuE,CAAAA,QADiC,CAEjDxB,MAAQnD,6BAAA,CAA8BI,IAA9B,CAAoC,CAAC,UAAD,CAApC,CAFyC,CAIjD8X,UAAYpQ,KAAM2H,CAAAA,MAAN,EAChB,OAAoBxG,eAAe0N,CAAAA,aAAf,CAA6BQ,eAA7B;AAA8C9U,QAAA,CAAS,EAAT,CAAac,KAAb,CAAoB,CACpFqF,SAAUA,QAAiB,EAAG,CAC5B,GAAI0P,SAAUvb,CAAAA,OAAd,CAAuB,CACrB,IAAIwb,OAAS9V,QAAA,CAAS,CACpB+V,UAAW,CAAA,CADS,CAEpBC,MAAO,CAAA,CAFa,CAAT,CAGVlV,KAAM7F,CAAAA,EAHI,CAYb,OAPW8V,KAAIlS,KAAMoX,CAAAA,aAAVlF,CAAwB/Q,QAAA,CAAS,CAC1CkW,gBAAiB,kBADyB,CAI1CC,OAAQN,SAAUvb,CAAAA,OAJwB,CAK1CiL,QAASzE,KAAMsV,CAAAA,GAAN,CAAYP,SAAUvb,CAAAA,OAAQ+b,CAAAA,UAAlB,CAA6B,QAA7B,CAAuCP,MAAvC,CAAZ,CAA6D/c,IAAAA,EAL5B,CAAT,CAMhC+c,MANgC,CAAxB/E,CANU,CADK,CADsD,CAkBpFiE,UAAwBpO,cAAe0N,CAAAA,aAAf,CAA6B,QAA7B,CAAuC,CAC7D3Z,IAAKkb,SADwD,CAE7DX,MAAO,CACLoB,QAAS,OADJ,CAFsD,CAAvC,CAlB4D,CAApB,CAA9C,CAwBhBhU,QAxBgB,CALiC,CAA1C,CAoCb/J,QAAQ4b,CAAAA,MAAR,CAAiBA,OACjB5b,QAAQge,CAAAA,GAAR,CANUA,QAAY,EAAG,CACvB7Q,OAAQC,CAAAA,IAAR,CAAa,uHAAb,CACA;MAAO,KAFgB,CAOzBpN,QAAQkL,CAAAA,QAAR,CAAmBA,QACnBlL,QAAQie,CAAAA,cAAR,CAr3CqBA,QAAuB,CAACjd,QAAD,CAAW,CACrD,MAAOD,WAAA,CAAWC,QAAX,CAAqB8B,kBAArB,CAD8C,CAs3CvD9C,QAAQke,CAAAA,SAAR,CAz3CgBA,QAAkB,CAACld,QAAD,CAAW,CAC3C,MAAOD,WAAA,CAAWC,QAAX,CAAqBW,aAArB,CADoC,CA03C7C3B,QAAQme,CAAAA,OAAR,CAp3CcA,QAAgB,CAACnd,QAAD,CAAW,CACvC,MAAOD,WAAA,CAAWC,QAAX,CAAqBwC,iBAArB,CADgC,CAq3CzCxD,QAAQ2D,CAAAA,UAAR,CAAqBA,UACrB3D,QAAQoe,CAAAA,YAAR,CAr4BAA,QAAqB,CAACrU,QAAD,CAAW5G,aAAX,CAA0Bkb,cAA1B,CAA0Cvd,GAA1C,CAA+C,CACtD,IAAK,EAAjB,GAAIA,GAAJ,GACEA,GADF,CACQ,IADR,CAIKqC,cAAc8F,CAAAA,SAAnB,GAA8B9F,aAAc8F,CAAAA,SAA5C,CAAwD,EAAxD,CACA,OAAO,CACLqV,SAAU3M,iBADL;AAEL7Q,IAAY,IAAP,EAAAA,GAAA,CAAc,IAAd,CAAqB,EAArB,CAA0BA,GAF1B,CAGKiJ,QAHL,CAIU5G,aAJV,CAKWkb,cALX,CAN2D,CAs4BpEre,QAAQue,CAAAA,MAAR,CAryCaA,QAAe,CAAChE,OAAD,CAAU,CACpC,MAAO,MAAM7R,SAAN,CAAkBjB,QAAA,CAAS,EAAT,CAAaiB,SAAb,CAAwB6R,OAAxB,CAAlB,CAD6B,CAsyCtCva,QAAQyD,CAAAA,UAAR,CAAqBA,UACrBzD,QAAQkW,CAAAA,oBAAR,CA72BAA,QAA6B,CAACsI,GAAD,CAAM,CACjC,MAAOA,IAAItI,CAAAA,oBADsB,CA82BnClW,QAAQ2C,CAAAA,MAAR,CAAiBA,MACjB3C,QAAQsB,CAAAA,QAAR,CAAmBA,QACnBtB,QAAQkS,CAAAA,YAAR,CAAuBA,YACvBlS,QAAQyL,CAAAA,sBAAR,CAAiCA,sBACjCzL,QAAQye,CAAAA,SAAR,CA9JgBA,QAAkB,EAAG,CACnCtR,OAAQC,CAAAA,IAAR,CAAa,uEAAb,CACA;MAAO,KAF4B,CA+JrCpN,QAAQkO,CAAAA,SAAR,CAAoBA,SACpBlO,QAAQ0e,CAAAA,QAAR,CA/QAA,QAAiB,CAAC1d,QAAD,CAAW2d,cAAX,CAA2B,CACnB,IAAK,EAA5B,GAAIA,cAAJ,GACEA,cADF,CACmB,CADnB,CAIA,KACInJ,UADczI,UAAA6R,CAAW1M,YAAX0M,CACUpJ,CAAAA,SAD5B,CAIIpT,IAAM8K,KAAM2H,CAAAA,MAAN,CAAa7T,QAAb,CACVkM,MAAMkO,CAAAA,eAAN,CAAsB,QAAS,EAAG,CAChC,MAAO,MAAMhZ,GAAIL,CAAAA,OAAV,CAAoBf,QAApB,CADyB,CAAlC,CAEG,CAACA,QAAD,CAFH,CAIAkM,MAAMc,CAAAA,SAAN,CAAgB,QAAS,EAAG,CAC1B,IAAI6Q,YAAcrJ,SAAA,CAAUpT,GAAV,CAAeuc,cAAf,CAClB,OAAO,SAAS,EAAG,CACjB,MAAOE,YAAA,EADU,CAFO,CAA5B,CAKG,CAACF,cAAD,CALH,CAMA,OAAO,KApBmC,CAgR5C3e,QAAQ8e,CAAAA,SAAR,CAvMAA,QAAkB,CAACC,KAAD,CAAQC,YAAR,CAAaC,UAAb,CAAyB,CACzC,IAAIC;AAAShS,KAAM+I,CAAAA,OAAN,CAAc,QAAS,EAAG,CAErC,IAAIuC,KAAO,IAAIuG,KAEXE,WAAJ,EAAgBA,UAAA,CAAWzG,IAAX,CAChB,OAAOA,KAL8B,CAA1B,CAMV,CAACuG,KAAD,CANU,CAAb,CAQII,QAAU5Q,UAAA,CAAW,QAAS,CAACwQ,KAAD,CAAQC,YAAR,CAAa,CACzCI,KAAAA,CAAW3Y,KAAMC,CAAAA,OAAN,CAAcsY,YAAd,CAAA,CAAqBA,YAArB,CAA2B,CAACA,YAAD,CAC1C,OAAOK,QAAQC,CAAAA,GAAR,CAAYF,KAAS9Z,CAAAA,GAAT,CAAa,QAAS,CAAC0Z,GAAD,CAAM,CAC7C,MAAO,KAAIK,OAAJ,CAAY,QAAS,CAAC5e,GAAD,CAAM,CAChC,MAAOye,OAAOK,CAAAA,IAAP,CAAYP,GAAZ,CAAiB,QAAS,CAAChF,IAAD,CAAO,CAClCA,IAAKpX,CAAAA,KAAT,GAEEoX,IAAKwF,CAAAA,GAIL,CAJW,EAIX,CAFAxF,IAAKyF,CAAAA,KAEL,CAFa,EAEb,CADAzF,IAAK0F,CAAAA,SACL,CADiB,EACjB,CAAA1F,IAAKpX,CAAAA,KAAM+c,CAAAA,QAAX,CAAoB,QAAS,CAACjW,GAAD,CAAM,CACjC,IAAIlC,SAEJwS,KAAKwF,CAAAA,GAAIpe,CAAAA,IAAT,CAAciM,KAAA,CAAM3D,GAAN,CAAd,CAEIA,IAAI7C,CAAAA,IAAR,GAAcmT,IAAKyF,CAAAA,KAAnB,CAA2BhY,QAAA,CAAS,EAAT,CAAauS,IAAKyF,CAAAA,KAAlB,EAA0BjY,SAAA;AAAY,EAAZ,CAAgBA,SAAA,CAAUkC,GAAI7C,CAAAA,IAAd,CAAhB,CAAsC6C,GAAtC,CAA2ClC,SAArE,EAA3B,CACIkC,IAAI8D,CAAAA,QAAR,EAAoB,CAACwM,IAAK0F,CAAAA,SAAL,CAAehW,GAAI8D,CAAAA,QAAS3G,CAAAA,IAA5B,CAArB,GAAwDmT,IAAK0F,CAAAA,SAAL,CAAehW,GAAI8D,CAAAA,QAAS3G,CAAAA,IAA5B,CAAxD,CAA4F6C,GAAI8D,CAAAA,QAAhG,CANiC,CAAnC,CANF,CAgBA/M,IAAA,CAAIuZ,IAAJ,CAjBsC,CAAjC,CADyB,CAA3B,CADsC,CAA5B,CAAZ,CAFsC,CAAjC,CAyBX,CAAC+E,KAAD,CAAQC,YAAR,CAzBW,CA2Bd,OAAOvY,MAAMC,CAAAA,OAAN,CAAcsY,YAAd,CAAA,CAAqBG,OAArB,CAA+BA,OAAA,CAAQ,CAAR,CApCG,CAwM3Cnf,QAAQ4f,CAAAA,WAAR,CA1OAA,QAAoB,CAACC,WAAD,CAAc,CAChC,IAEIC,YAFY5S,KAAMY,CAAAA,QAANC,CAAe,CAAA,CAAfA,CAEE,CAAU,CAAV,CAFlB,CAIIgS,SAAW7S,KAAM2H,CAAAA,MAAN,CAAarU,IAAAA,EAAb,CACX4B,YAAAA,CAAMyd,WAAA,CAAcA,WAAd,CAA4BE,QACtC7S,MAAMkO,CAAAA,eAAN,CAAsB,QAAS,EAAG,CAChC,MAAO,KAAK0E,YAAA,CAAY,QAAS,CAAClU,CAAD,CAAI,CACnC,MAAO,CAACA,CAD2B,CAAzB,CADoB,CAAlC,CAIG,CAACxJ,WAAIL,CAAAA,OAAL,CAJH,CAKA,OAAO,CAACK,WAAD;AAAMA,WAAIL,CAAAA,OAAV,CAZyB,CA2OlC/B,QAAQggB,CAAAA,QAAR,CA5PAA,QAAiB,EAAG,CAClB,MAAOjT,WAAA,CAAWmF,YAAX,CADW,CA6PpBlS,QAAQigB,CAAAA,SAAR,CA1PAA,QAAkB,CAACjf,QAAD,CAAWkf,UAAX,CAAuBL,WAAvB,CAAoC,CACpD,IACIpc,WADesJ,UAAAoT,CAAWjO,YAAXiO,CACW1c,CAAAA,UAD9B,CAGIsc,SAAW7S,KAAM2H,CAAAA,MAAN,EAHf,CAIIzS,IAAMyd,WAAA,CAAcA,WAAd,CAA4BE,QACtC7S,MAAMkO,CAAAA,eAAN,CAAsB,QAAS,EAAG,CAC5BhZ,GAAIL,CAAAA,OAAR,GACEf,QAAA,CAASoB,GAAIL,CAAAA,OAAb,CACA,CAAA0B,UAAA,EAFF,CADgC,CAAlC,CAKGyc,UALH,CAMA,OAAO9d,IAZ6C,CAhuCoD;\",\n\"sources\":[\"node_modules/react-three-fiber/web.cjs.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$react_three_fiber$web_cjs\\\"] = function(global,require,module,exports) {\\n'use strict';\\n\\nObject.defineProperty(exports, '__esModule', { value: true });\\n\\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\\n\\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/objectWithoutPropertiesLoose'));\\nvar _construct = _interopDefault(require('@babel/runtime/helpers/construct'));\\nvar THREE = require('three');\\nvar Reconciler = _interopDefault(require('react-reconciler'));\\nvar scheduler = require('scheduler');\\nvar React = require('react');\\nvar React__default = _interopDefault(React);\\nvar tinyEmitter = require('tiny-emitter');\\nvar usePromise = _interopDefault(require('react-promise-suspense'));\\nvar useMeasure = _interopDefault(require('react-use-measure'));\\nvar resizeObserver = require('@juggle/resize-observer');\\nvar mergeRefs = _interopDefault(require('react-merge-refs'));\\n\\nvar version = \\\"4.2.21\\\";\\n\\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \\\"string\\\"); return typeof key === \\\"symbol\\\" ? key : String(key); }\\n\\nfunction _toPrimitive(input, hint) { if (typeof input !== \\\"object\\\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \\\"default\\\"); if (typeof res !== \\\"object\\\") return res; throw new TypeError(\\\"@@toPrimitive must return a primitive value.\\\"); } return (hint === \\\"string\\\" ? String : Number)(input); }\\nvar roots = new Map();\\nvar emptyObject = {};\\nvar is = {\\n  obj: function obj(a) {\\n    return a === Object(a) && !is.arr(a);\\n  },\\n  fun: function fun(a) {\\n    return typeof a === 'function';\\n  },\\n  str: function str(a) {\\n    return typeof a === 'string';\\n  },\\n  num: function num(a) {\\n    return typeof a === 'number';\\n  },\\n  und: function und(a) {\\n    return a === void 0;\\n  },\\n  arr: function arr(a) {\\n    return Array.isArray(a);\\n  },\\n  equ: function equ(a, b) {\\n    // Wrong type or one of the two undefined, doesn't match\\n    if (typeof a !== typeof b || !!a !== !!b) return false; // Atomic, just compare a against b\\n\\n    if (is.str(a) || is.num(a) || is.obj(a)) return a === b; // Array, shallow compare first to see if it's a match\\n\\n    if (is.arr(a) && a == b) return true; // Last resort, go through keys\\n\\n    var i;\\n\\n    for (i in a) {\\n      if (!(i in b)) return false;\\n    }\\n\\n    for (i in b) {\\n      if (a[i] !== b[i]) return false;\\n    }\\n\\n    return is.und(i) ? a === b : true;\\n  }\\n};\\n\\nfunction createSubs(callback, subs) {\\n  var index = subs.length;\\n  subs.push(callback);\\n  return function () {\\n    return void subs.splice(index, 1);\\n  };\\n}\\n\\nvar globalEffects = [];\\nvar globalAfterEffects = [];\\nvar globalTailEffects = [];\\nvar addEffect = function addEffect(callback) {\\n  return createSubs(callback, globalEffects);\\n};\\nvar addAfterEffect = function addAfterEffect(callback) {\\n  return createSubs(callback, globalAfterEffects);\\n};\\nvar addTail = function addTail(callback) {\\n  return createSubs(callback, globalTailEffects);\\n};\\nfunction renderGl(state, timestamp, repeat, runGlobalEffects) {\\n  if (repeat === void 0) {\\n    repeat = 0;\\n  }\\n\\n  if (runGlobalEffects === void 0) {\\n    runGlobalEffects = false;\\n  }\\n\\n  // Run global effects\\n  if (runGlobalEffects) globalEffects.forEach(function (effect) {\\n    return effect(timestamp) && repeat++;\\n  }); // Run local effects\\n\\n  var delta = state.current.clock.getDelta();\\n  state.current.subscribers.forEach(function (sub) {\\n    return sub.ref.current(state.current, delta);\\n  }); // Decrease frame count\\n\\n  state.current.frames = Math.max(0, state.current.frames - 1);\\n  repeat += !state.current.invalidateFrameloop ? 1 : state.current.frames; // Render content\\n\\n  if (!state.current.manual) state.current.gl.render(state.current.scene, state.current.camera); // Run global effects\\n\\n  if (runGlobalEffects) globalAfterEffects.forEach(function (effect) {\\n    return effect(timestamp);\\n  });\\n  return repeat;\\n}\\nvar running = false;\\n\\nfunction renderLoop(timestamp) {\\n  running = true;\\n  var repeat = 0; // Run global effects\\n\\n  globalEffects.forEach(function (effect) {\\n    return effect(timestamp) && repeat++;\\n  });\\n  roots.forEach(function (root) {\\n    var state = root.containerInfo.__state; // If the frameloop is invalidated, do not run another frame\\n\\n    if (state.current.active && state.current.ready && (!state.current.invalidateFrameloop || state.current.frames > 0)) repeat = renderGl(state, timestamp, repeat);\\n  }); // Run global after-effects\\n\\n  globalAfterEffects.forEach(function (effect) {\\n    return effect(timestamp);\\n  });\\n  if (repeat !== 0) return requestAnimationFrame(renderLoop);else {\\n    // Tail call effects, they are called when rendering stops\\n    globalTailEffects.forEach(function (effect) {\\n      return effect(timestamp);\\n    });\\n  } // Flag end of operation\\n\\n  running = false;\\n}\\n\\nfunction invalidate(state, frames) {\\n  if (state === void 0) {\\n    state = true;\\n  }\\n\\n  if (frames === void 0) {\\n    frames = 2;\\n  }\\n\\n  if (state === true) roots.forEach(function (root) {\\n    return root.containerInfo.__state.current.frames = frames;\\n  });else if (state && state.current) {\\n    if (state.current.vr) return;\\n    state.current.frames = frames;\\n  }\\n\\n  if (!running) {\\n    running = true;\\n    requestAnimationFrame(renderLoop);\\n  }\\n}\\nvar catalogue = {};\\nvar extend = function extend(objects) {\\n  return void (catalogue = _extends({}, catalogue, objects));\\n};\\nfunction applyProps(instance, newProps, oldProps, accumulative) {\\n  if (oldProps === void 0) {\\n    oldProps = {};\\n  }\\n\\n  if (accumulative === void 0) {\\n    accumulative = false;\\n  }\\n\\n  // Filter equals, events and reserved props\\n  var container = instance.__container;\\n  var sameProps = Object.keys(newProps).filter(function (key) {\\n    return is.equ(newProps[key], oldProps[key]);\\n  });\\n  var handlers = Object.keys(newProps).filter(function (key) {\\n    // Event-handlers ...\\n    //   are functions, that\\n    //   start with \\\"on\\\", and\\n    //   contain the name \\\"Pointer\\\", \\\"Click\\\", \\\"ContextMenu\\\", or \\\"Wheel\\\"\\n    if (is.fun(newProps[key]) && key.startsWith('on')) {\\n      return key.includes('Pointer') || key.includes('Click') || key.includes('ContextMenu') || key.includes('Wheel');\\n    }\\n  });\\n  var leftOvers = accumulative ? Object.keys(oldProps).filter(function (key) {\\n    return newProps[key] === void 0;\\n  }) : [];\\n  var toFilter = [].concat(sameProps, ['children', 'key', 'ref']); // Instances use \\\"object\\\" as a reserved identifier\\n\\n  if (instance.__instance) toFilter.push('object');\\n  var filteredProps = toFilter.reduce(function (acc, prop) {\\n    var _ = acc[prop],\\n        rest = _objectWithoutPropertiesLoose(acc, [prop].map(_toPropertyKey));\\n\\n    return rest;\\n  }, newProps); // Add left-overs as undefined props so they can be removed\\n\\n  leftOvers.forEach(function (key) {\\n    return key !== 'children' && (filteredProps[key] = undefined);\\n  });\\n\\n  if (Object.keys(filteredProps).length > 0) {\\n    Object.entries(filteredProps).forEach(function (_ref) {\\n      var key = _ref[0],\\n          value = _ref[1];\\n\\n      if (!handlers.includes(key)) {\\n        var _instance$__container;\\n\\n        var root = instance;\\n        var target = root[key];\\n\\n        if (key.includes('-')) {\\n          var entries = key.split('-');\\n          target = entries.reduce(function (acc, key) {\\n            return acc[key];\\n          }, instance); // If the target is atomic, it forces us to switch the root\\n\\n          if (!(target && target.set)) {\\n            var _entries$reverse = entries.reverse(),\\n                _name = _entries$reverse[0],\\n                reverseEntries = _entries$reverse.slice(1);\\n\\n            root = reverseEntries.reverse().reduce(function (acc, key) {\\n              return acc[key];\\n            }, instance);\\n            key = _name;\\n          }\\n        } // Special treatment for objects with support for set/copy\\n\\n\\n        var isColorManagement = (_instance$__container = instance.__container) == null ? void 0 : _instance$__container.__state.current.colorManagement;\\n\\n        if (target && target.set && (target.copy || target instanceof THREE.Layers)) {\\n          var _target;\\n\\n          // If value is an array it has got to be the set function\\n          if (Array.isArray(value)) (_target = target).set.apply(_target, value); // Test again target.copy(class) next ...\\n          else if (target.copy && value && value.constructor && target.constructor.name === value.constructor.name) target.copy(value); // If nothing else fits, just set the single value, ignore undefined\\n            // https://github.com/react-spring/react-three-fiber/issues/274\\n            else if (value !== undefined) {\\n                target.set(value); // Auto-convert sRGB colors, for now ...\\n                // https://github.com/react-spring/react-three-fiber/issues/344\\n\\n                if (isColorManagement && target instanceof THREE.Color) {\\n                  target.convertSRGBToLinear();\\n                }\\n              } // Else, just overwrite the value\\n        } else {\\n          root[key] = value; // Auto-convert sRGB textures, for now ...\\n          // https://github.com/react-spring/react-three-fiber/issues/344\\n\\n          if (isColorManagement && root[key] instanceof THREE.Texture) {\\n            root[key].encoding = THREE.sRGBEncoding;\\n          }\\n        }\\n\\n        invalidateInstance(instance);\\n      }\\n    }); // Preemptively delete the instance from the containers interaction\\n\\n    if (accumulative && container && instance.raycast && instance.__handlers) {\\n      instance.__handlers = undefined;\\n\\n      var index = container.__interaction.indexOf(instance);\\n\\n      if (index > -1) container.__interaction.splice(index, 1);\\n    } // Prep interaction handlers\\n\\n\\n    if (handlers.length) {\\n      // Add interactive object to central container\\n      if (container && instance.raycast) container.__interaction.push(instance); // Add handlers to the instances handler-map\\n\\n      instance.__handlers = handlers.reduce(function (acc, key) {\\n        var _extends2;\\n\\n        return _extends({}, acc, (_extends2 = {}, _extends2[key.charAt(2).toLowerCase() + key.substr(3)] = newProps[key], _extends2));\\n      }, {});\\n    } // Call the update lifecycle when it is being updated, but only when it is part of the scene\\n\\n\\n    if (instance.parent) updateInstance(instance);\\n  }\\n}\\n\\nfunction invalidateInstance(instance) {\\n  if (instance.__container && instance.__container.__state) invalidate(instance.__container.__state);\\n}\\n\\nfunction updateInstance(instance) {\\n  if (instance.onUpdate) instance.onUpdate(instance);\\n}\\n\\nfunction createInstance(type, _ref2, container, hostContext, internalInstanceHandle) {\\n  var _ref2$args = _ref2.args,\\n      args = _ref2$args === void 0 ? [] : _ref2$args,\\n      props = _objectWithoutPropertiesLoose(_ref2, [\\\"args\\\"]);\\n\\n  var name = \\\"\\\" + type[0].toUpperCase() + type.slice(1);\\n  var instance;\\n\\n  if (type === 'primitive') {\\n    instance = props.object;\\n    instance.__instance = true;\\n  } else if (type === 'new') {\\n    instance = new props.object(args);\\n  } else {\\n    var target = catalogue[name] || THREE[name];\\n\\n    if (!target) {\\n      throw \\\"\\\\\\\"\\\" + name + \\\"\\\\\\\" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/react-spring/react-three-fiber#using-3rd-party-non-three-namespaced-objects-in-the-scene-graph\\\";\\n    }\\n\\n    instance = is.arr(args) ? _construct(target, args) : new target(args);\\n  } // Bind to the root container in case portals are being used\\n  // This is perhaps better for event management as we can keep them on a single instance\\n\\n\\n  while (container.__container) {\\n    container = container.__container;\\n  } // TODO: https://github.com/facebook/react/issues/17147\\n  // If it's still not there it means the portal was created on a virtual node outside of react\\n\\n\\n  if (!roots.has(container)) {\\n    var fn = function fn(node) {\\n      if (!node[\\\"return\\\"]) return node.stateNode && node.stateNode.containerInfo;else return fn(node[\\\"return\\\"]);\\n    };\\n\\n    container = fn(internalInstanceHandle);\\n  } // Apply initial props\\n\\n\\n  instance.__objects = [];\\n  instance.__container = container; // It should NOT call onUpdate on object instanciation, because it hasn't been added to the\\n  // view yet. If the callback relies on references for instance, they won't be ready yet, this is\\n  // why it passes \\\"false\\\" here\\n\\n  applyProps(instance, props, {});\\n  return instance;\\n}\\n\\nfunction appendChild(parentInstance, child) {\\n  if (child) {\\n    if (child.isObject3D) parentInstance.add(child);else {\\n      parentInstance.__objects.push(child);\\n\\n      child.parent = parentInstance; // The attach attribute implies that the object attaches itself on the parent\\n\\n      if (child.attach) parentInstance[child.attach] = child;else if (child.attachArray) {\\n        if (!is.arr(parentInstance[child.attachArray])) parentInstance[child.attachArray] = [];\\n        parentInstance[child.attachArray].push(child);\\n      } else if (child.attachObject) {\\n        if (!is.obj(parentInstance[child.attachObject[0]])) parentInstance[child.attachObject[0]] = {};\\n        parentInstance[child.attachObject[0]][child.attachObject[1]] = child;\\n      }\\n    }\\n    updateInstance(child);\\n    invalidateInstance(child);\\n  }\\n}\\n\\nfunction insertBefore(parentInstance, child, beforeChild) {\\n  if (child) {\\n    if (child.isObject3D) {\\n      child.parent = parentInstance;\\n      child.dispatchEvent({\\n        type: 'added'\\n      });\\n      var restSiblings = parentInstance.children.filter(function (sibling) {\\n        return sibling !== child;\\n      }); // TODO: the order is out of whack if data objects are present, has to be recalculated\\n\\n      var index = restSiblings.indexOf(beforeChild);\\n      parentInstance.children = [].concat(restSiblings.slice(0, index), [child], restSiblings.slice(index));\\n      updateInstance(child);\\n    } else appendChild(parentInstance, child); // TODO: order!!!\\n\\n\\n    invalidateInstance(child);\\n  }\\n}\\n\\nfunction removeRecursive(array, parent, clone) {\\n  if (clone === void 0) {\\n    clone = false;\\n  }\\n\\n  if (array) {\\n    // Three uses splice op's internally we may have to shallow-clone the array in order to safely remove items\\n    var target = clone ? [].concat(array) : array;\\n    target.forEach(function (child) {\\n      return removeChild(parent, child);\\n    });\\n  }\\n}\\n\\nfunction removeChild(parentInstance, child) {\\n  if (child) {\\n    if (child.isObject3D) {\\n      parentInstance.remove(child);\\n    } else {\\n      child.parent = null;\\n      if (parentInstance.__objects) parentInstance.__objects = parentInstance.__objects.filter(function (x) {\\n        return x !== child;\\n      }); // Remove attachment\\n\\n      if (child.attach) parentInstance[child.attach] = null;else if (child.attachArray) parentInstance[child.attachArray] = parentInstance[child.attachArray].filter(function (x) {\\n        return x !== child;\\n      });else if (child.attachObject) {\\n        delete parentInstance[child.attachObject[0]][child.attachObject[1]];\\n      }\\n    }\\n\\n    invalidateInstance(child); // Allow objects to bail out of recursive dispose alltogether by passing dispose={null}\\n\\n    if (child.dispose !== null) {\\n      scheduler.unstable_runWithPriority(scheduler.unstable_IdlePriority, function () {\\n        // Remove interactivity\\n        if (child.__container) child.__container.__interaction = child.__container.__interaction.filter(function (x) {\\n          return x !== child;\\n        }); // Remove nested child objects\\n\\n        removeRecursive(child.__objects, child);\\n        removeRecursive(child.children, child, true); // Dispose item\\n\\n        if (child.dispose) child.dispose(); // Remove references\\n\\n        delete child.__container;\\n        delete child.__objects;\\n      });\\n    }\\n  }\\n}\\n\\nfunction switchInstance(instance, type, newProps, fiber) {\\n  var parent = instance.parent;\\n  var newInstance = createInstance(type, newProps, instance.__container, null, fiber);\\n  removeChild(parent, instance);\\n  appendChild(parent, newInstance) // This evil hack switches the react-internal fiber node\\n  // https://github.com/facebook/react/issues/14983\\n  // https://github.com/facebook/react/pull/15021\\n  ;\\n  [fiber, fiber.alternate].forEach(function (fiber) {\\n    if (fiber !== null) {\\n      fiber.stateNode = newInstance;\\n\\n      if (fiber.ref) {\\n        if (is.fun(fiber.ref)) fiber.ref(newInstance);else fiber.ref.current = newInstance;\\n      }\\n    }\\n  });\\n}\\n\\nvar Renderer = Reconciler({\\n  now: scheduler.unstable_now,\\n  createInstance: createInstance,\\n  removeChild: removeChild,\\n  appendChild: appendChild,\\n  insertBefore: insertBefore,\\n  // @ts-ignore\\n  warnsIfNotActing: true,\\n  supportsMutation: true,\\n  isPrimaryRenderer: false,\\n  scheduleTimeout: is.fun(setTimeout) ? setTimeout : undefined,\\n  cancelTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\\n  // @ts-ignore\\n  setTimeout: is.fun(setTimeout) ? setTimeout : undefined,\\n  // @ts-ignore\\n  clearTimeout: is.fun(clearTimeout) ? clearTimeout : undefined,\\n  noTimeout: -1,\\n  appendInitialChild: appendChild,\\n  appendChildToContainer: appendChild,\\n  removeChildFromContainer: removeChild,\\n  insertInContainerBefore: insertBefore,\\n  commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps, fiber) {\\n    if (instance.__instance && newProps.object && newProps.object !== instance) {\\n      // <instance object={...} /> where the object reference has changed\\n      switchInstance(instance, type, newProps, fiber);\\n    } else {\\n      // This is a data object, let's extract critical information about it\\n      var _newProps$args = newProps.args,\\n          argsNew = _newProps$args === void 0 ? [] : _newProps$args,\\n          restNew = _objectWithoutPropertiesLoose(newProps, [\\\"args\\\"]);\\n\\n      var _oldProps$args = oldProps.args,\\n          argsOld = _oldProps$args === void 0 ? [] : _oldProps$args,\\n          restOld = _objectWithoutPropertiesLoose(oldProps, [\\\"args\\\"]); // If it has new props or arguments, then it needs to be re-instanciated\\n\\n\\n      var hasNewArgs = argsNew.some(function (value, index) {\\n        return is.obj(value) ? Object.entries(value).some(function (_ref3) {\\n          var key = _ref3[0],\\n              val = _ref3[1];\\n          return val !== argsOld[index][key];\\n        }) : value !== argsOld[index];\\n      });\\n\\n      if (hasNewArgs) {\\n        // Next we create a new instance and append it again\\n        switchInstance(instance, type, newProps, fiber);\\n      } else {\\n        // Otherwise just overwrite props\\n        applyProps(instance, restNew, restOld, true);\\n      }\\n    }\\n  },\\n  hideInstance: function hideInstance(instance) {\\n    if (instance.isObject3D) {\\n      instance.visible = false;\\n      invalidateInstance(instance);\\n    }\\n  },\\n  unhideInstance: function unhideInstance(instance, props) {\\n    if (instance.isObject3D && props.visible == null || props.visible) {\\n      instance.visible = true;\\n      invalidateInstance(instance);\\n    }\\n  },\\n  hideTextInstance: function hideTextInstance() {\\n    throw new Error('Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.');\\n  },\\n  getPublicInstance: function getPublicInstance(instance) {\\n    return instance;\\n  },\\n  getRootHostContext: function getRootHostContext() {\\n    return emptyObject;\\n  },\\n  getChildHostContext: function getChildHostContext() {\\n    return emptyObject;\\n  },\\n  createTextInstance: function createTextInstance() {},\\n  finalizeInitialChildren: function finalizeInitialChildren() {\\n    return false;\\n  },\\n  prepareUpdate: function prepareUpdate() {\\n    return emptyObject;\\n  },\\n  shouldDeprioritizeSubtree: function shouldDeprioritizeSubtree() {\\n    return false;\\n  },\\n  prepareForCommit: function prepareForCommit() {},\\n  resetAfterCommit: function resetAfterCommit() {},\\n  shouldSetTextContent: function shouldSetTextContent() {\\n    return false;\\n  }\\n});\\nvar LegacyRoot = 0;\\nvar ConcurrentRoot = 2;\\nvar hasSymbol = is.fun(Symbol) && Symbol[\\\"for\\\"];\\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol[\\\"for\\\"]('react.portal') : 0xeaca;\\nfunction render(element, container, state) {\\n  var root = roots.get(container);\\n\\n  if (!root) {\\n    container.__state = state;\\n    var newRoot = root = Renderer.createContainer(container, //@ts-ignore\\n    state !== undefined && state.current.concurrent ? ConcurrentRoot : LegacyRoot, false);\\n    roots.set(container, newRoot);\\n  }\\n\\n  Renderer.updateContainer(element, root, null, function () {\\n    return undefined;\\n  });\\n  return Renderer.getPublicRootInstance(root);\\n}\\nfunction unmountComponentAtNode(container) {\\n  var root = roots.get(container);\\n  if (root) Renderer.updateContainer(null, root, null, function () {\\n    return void roots[\\\"delete\\\"](container);\\n  });\\n}\\nfunction createPortal(children, containerInfo, implementation, key) {\\n  if (key === void 0) {\\n    key = null;\\n  }\\n\\n  if (!containerInfo.__objects) containerInfo.__objects = [];\\n  return {\\n    $$typeof: REACT_PORTAL_TYPE,\\n    key: key == null ? null : '' + key,\\n    children: children,\\n    containerInfo: containerInfo,\\n    implementation: implementation\\n  };\\n}\\nRenderer.injectIntoDevTools({\\n  bundleType: process.env.NODE_ENV === 'production' ? 0 : 1,\\n  version: version,\\n  rendererPackageName: 'react-three-fiber',\\n  //@ts-ignore\\n  findHostInstanceByFiber: Renderer.findHostInstance\\n});\\n\\nfunction _createForOfIteratorHelperLoose(o) { var i = 0; if (typeof Symbol === \\\"undefined\\\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; throw new TypeError(\\\"Invalid attempt to iterate non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\\\"); } i = o[Symbol.iterator](); return i.next.bind(i); }\\n\\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \\\"string\\\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \\\"Object\\\" && o.constructor) n = o.constructor.name; if (n === \\\"Map\\\" || n === \\\"Set\\\") return Array.from(n); if (n === \\\"Arguments\\\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\\n\\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\\nfunction isOrthographicCamera(def) {\\n  return def.isOrthographicCamera;\\n}\\n\\nfunction makeId(event) {\\n  return (event.eventObject || event.object).uuid + '/' + event.index;\\n}\\n\\nvar stateContext = React.createContext({});\\nvar useCanvas = function useCanvas(props) {\\n  var children = props.children,\\n      gl = props.gl,\\n      camera = props.camera,\\n      orthographic = props.orthographic,\\n      raycaster = props.raycaster,\\n      size = props.size,\\n      pixelRatio = props.pixelRatio,\\n      _props$vr = props.vr,\\n      vr = _props$vr === void 0 ? false : _props$vr,\\n      _props$concurrent = props.concurrent,\\n      concurrent = _props$concurrent === void 0 ? false : _props$concurrent,\\n      _props$shadowMap = props.shadowMap,\\n      shadowMap = _props$shadowMap === void 0 ? false : _props$shadowMap,\\n      _props$sRGB = props.sRGB,\\n      sRGB = _props$sRGB === void 0 ? false : _props$sRGB,\\n      _props$colorManagemen = props.colorManagement,\\n      colorManagement = _props$colorManagemen === void 0 ? false : _props$colorManagemen,\\n      _props$invalidateFram = props.invalidateFrameloop,\\n      invalidateFrameloop = _props$invalidateFram === void 0 ? false : _props$invalidateFram,\\n      _props$updateDefaultC = props.updateDefaultCamera,\\n      updateDefaultCamera = _props$updateDefaultC === void 0 ? true : _props$updateDefaultC,\\n      _props$noEvents = props.noEvents,\\n      noEvents = _props$noEvents === void 0 ? false : _props$noEvents,\\n      onCreated = props.onCreated,\\n      onPointerMissed = props.onPointerMissed; // Local, reactive state\\n\\n  var _useState = React.useState(false),\\n      ready = _useState[0],\\n      setReady = _useState[1];\\n\\n  var _useState2 = React.useState(function () {\\n    return new THREE.Vector2();\\n  }),\\n      mouse = _useState2[0];\\n\\n  var _useState3 = React.useState(function () {\\n    var ray = new THREE.Raycaster();\\n\\n    if (raycaster) {\\n      var filter = raycaster.filter,\\n          raycasterProps = _objectWithoutPropertiesLoose(raycaster, [\\\"filter\\\"]);\\n\\n      applyProps(ray, raycasterProps, {});\\n    }\\n\\n    return ray;\\n  }),\\n      defaultRaycaster = _useState3[0];\\n\\n  var _useState4 = React.useState(function () {\\n    var scene = new THREE.Scene();\\n    scene.__interaction = [];\\n    scene.__objects = [];\\n    return scene;\\n  }),\\n      defaultScene = _useState4[0];\\n\\n  var _useState5 = React.useState(function () {\\n    var cam = orthographic ? new THREE.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new THREE.PerspectiveCamera(75, 0, 0.1, 1000);\\n    cam.position.z = 5;\\n    if (camera) applyProps(cam, camera, {}); // Always look at [0, 0, 0]\\n\\n    cam.lookAt(0, 0, 0);\\n    return cam;\\n  }),\\n      defaultCam = _useState5[0],\\n      _setDefaultCamera = _useState5[1];\\n\\n  var _useState6 = React.useState(function () {\\n    return new THREE.Clock();\\n  }),\\n      clock = _useState6[0]; // Public state\\n\\n\\n  var state = React.useRef({\\n    ready: false,\\n    active: true,\\n    manual: 0,\\n    colorManagement: colorManagement,\\n    sRGB: sRGB,\\n    vr: vr,\\n    concurrent: concurrent,\\n    noEvents: noEvents,\\n    invalidateFrameloop: false,\\n    frames: 0,\\n    aspect: 0,\\n    subscribers: [],\\n    camera: defaultCam,\\n    scene: defaultScene,\\n    raycaster: defaultRaycaster,\\n    mouse: mouse,\\n    clock: clock,\\n    gl: gl,\\n    size: size,\\n    viewport: {\\n      width: 0,\\n      height: 0,\\n      factor: 0\\n    },\\n    initialClick: [0, 0],\\n    initialHits: [],\\n    pointer: new tinyEmitter.TinyEmitter(),\\n    captured: undefined,\\n    events: undefined,\\n    subscribe: function subscribe(ref, priority) {\\n      if (priority === void 0) {\\n        priority = 0;\\n      }\\n\\n      // If this subscription was given a priority, it takes rendering into its own hands\\n      // For that reason we switch off automatic rendering and increase the manual flag\\n      // As long as this flag is positive (there could be multiple render subscription)\\n      // ..there can be no internal rendering at all\\n      if (priority) state.current.manual++;\\n      state.current.subscribers.push({\\n        ref: ref,\\n        priority: priority\\n      }); // Sort layers from lowest to highest, meaning, highest priority renders last (on top of the other frames)\\n\\n      state.current.subscribers = state.current.subscribers.sort(function (a, b) {\\n        return a.priority - b.priority;\\n      });\\n      return function () {\\n        // Decrease manual flag if this subscription had a priority\\n        if (priority) state.current.manual--;\\n        state.current.subscribers = state.current.subscribers.filter(function (s) {\\n          return s.ref !== ref;\\n        });\\n      };\\n    },\\n    setDefaultCamera: function setDefaultCamera(camera) {\\n      return _setDefaultCamera(camera);\\n    },\\n    invalidate: function invalidate$1() {\\n      return invalidate(state);\\n    },\\n    intersect: function intersect(event, prepare) {\\n      if (event === void 0) {\\n        event = {};\\n      }\\n\\n      if (prepare === void 0) {\\n        prepare = true;\\n      }\\n\\n      return handlePointerMove(event, prepare);\\n    }\\n  }); // Writes locals into public state for distribution among subscribers, context, etc\\n\\n  React.useMemo(function () {\\n    state.current.ready = ready;\\n    state.current.size = size;\\n    state.current.camera = defaultCam;\\n    state.current.invalidateFrameloop = invalidateFrameloop;\\n    state.current.vr = vr;\\n    state.current.gl = gl;\\n    state.current.concurrent = concurrent;\\n    state.current.noEvents = noEvents;\\n  }, [invalidateFrameloop, vr, concurrent, noEvents, ready, size, defaultCam, gl]); // Adjusts default camera\\n\\n  React.useMemo(function () {\\n    state.current.aspect = size.width / size.height;\\n\\n    if (isOrthographicCamera(defaultCam)) {\\n      state.current.viewport = {\\n        width: size.width,\\n        height: size.height,\\n        factor: 1\\n      };\\n    } else {\\n      var target = new THREE.Vector3(0, 0, 0);\\n      var distance = defaultCam.position.distanceTo(target);\\n      var fov = defaultCam.fov * Math.PI / 180; // convert vertical fov to radians\\n\\n      var height = 2 * Math.tan(fov / 2) * distance; // visible height\\n\\n      var width = height * state.current.aspect;\\n      state.current.viewport = {\\n        width: width,\\n        height: height,\\n        factor: size.width / width\\n      };\\n    } // #92 (https://github.com/drcmda/react-three-fiber/issues/92)\\n    // Sometimes automatic default camera adjustment isn't wanted behaviour\\n\\n\\n    if (updateDefaultCamera) {\\n      if (isOrthographicCamera(defaultCam)) {\\n        defaultCam.left = size.width / -2;\\n        defaultCam.right = size.width / 2;\\n        defaultCam.top = size.height / 2;\\n        defaultCam.bottom = size.height / -2;\\n      } else {\\n        defaultCam.aspect = state.current.aspect;\\n      }\\n\\n      defaultCam.updateProjectionMatrix(); // #178: https://github.com/react-spring/react-three-fiber/issues/178\\n      // Update matrix world since the renderer is a frame late\\n\\n      defaultCam.updateMatrixWorld();\\n    }\\n\\n    gl.setSize(size.width, size.height);\\n    if (ready) invalidate(state);\\n  }, [defaultCam, gl, size, updateDefaultCamera]);\\n  /** Events ------------------------------------------------------------------------------------------------ */\\n\\n  /** Sets up defaultRaycaster */\\n\\n  var prepareRay = React.useCallback(function (_ref) {\\n    var clientX = _ref.clientX,\\n        clientY = _ref.clientY;\\n\\n    if (clientX !== void 0) {\\n      var _state$current$size = state.current.size,\\n          left = _state$current$size.left,\\n          right = _state$current$size.right,\\n          top = _state$current$size.top,\\n          bottom = _state$current$size.bottom;\\n      mouse.set((clientX - left) / (right - left) * 2 - 1, -((clientY - top) / (bottom - top)) * 2 + 1);\\n      defaultRaycaster.setFromCamera(mouse, state.current.camera);\\n    }\\n  }, []);\\n  /** Intersects interaction objects using the event input */\\n\\n  var intersect = React.useCallback(function (event, filter) {\\n    // Skip event handling when noEvents is set\\n    if (state.current.noEvents) return [];\\n    var seen = new Set();\\n    var hits = []; // Allow callers to eliminate event objects\\n\\n    var eventsObjects = filter ? filter(state.current.scene.__interaction) : state.current.scene.__interaction; // Intersect known handler objects and filter against duplicates\\n\\n    var intersects = defaultRaycaster.intersectObjects(eventsObjects, true).filter(function (item) {\\n      var id = makeId(item);\\n      if (seen.has(id)) return false;\\n      seen.add(id);\\n      return true;\\n    }); // #16031: (https://github.com/mrdoob/three.js/issues/16031)\\n    // Allow custom userland intersect sort order\\n\\n    if (raycaster && raycaster.filter && sharedState.current) {\\n      intersects = raycaster.filter(intersects, sharedState.current);\\n    }\\n\\n    for (var _iterator = _createForOfIteratorHelperLoose(intersects), _step; !(_step = _iterator()).done;) {\\n      var _intersect = _step.value;\\n      var eventObject = _intersect.object; // Bubble event up\\n\\n      while (eventObject) {\\n        var handlers = eventObject.__handlers;\\n        if (handlers) hits.push(_extends({}, _intersect, {\\n          eventObject: eventObject\\n        }));\\n        eventObject = eventObject.parent;\\n      }\\n    }\\n\\n    return hits;\\n  }, []);\\n  /**  Calculates click deltas */\\n\\n  var calculateDistance = React.useCallback(function (event) {\\n    var dx = event.clientX - state.current.initialClick[0];\\n    var dy = event.clientY - state.current.initialClick[1];\\n    return Math.round(Math.sqrt(dx * dx + dy * dy));\\n  }, []);\\n  var hovered = React.useMemo(function () {\\n    return new Map();\\n  }, []);\\n  /**  Handles intersections by forwarding them to handlers */\\n\\n  var temp = new THREE.Vector3();\\n  var handleIntersects = React.useCallback(function (event, fn, filter) {\\n    // Get fresh intersects\\n    var intersections = intersect(event, filter); // If the interaction is captured take that into account, the captured event has to be part of the intersects\\n\\n    if (state.current.captured && event.type !== 'click' && event.type !== 'wheel') {\\n      state.current.captured.forEach(function (captured) {\\n        if (!intersections.find(function (hit) {\\n          return hit.eventObject === captured.eventObject;\\n        })) intersections.push(captured);\\n      });\\n    } // If anything has been found, forward it to the event listeners\\n\\n\\n    if (intersections.length) {\\n      (function () {\\n        var unprojectedPoint = temp.set(mouse.x, mouse.y, 0).unproject(state.current.camera);\\n        var delta = event.type === 'click' ? calculateDistance(event) : 0;\\n\\n        var releasePointerCapture = function releasePointerCapture(id) {\\n          return event.target.releasePointerCapture(id);\\n        };\\n\\n        var localState = {\\n          stopped: false,\\n          captured: false\\n        };\\n\\n        var _loop = function _loop() {\\n          var hit = _step2.value;\\n\\n          var setPointerCapture = function setPointerCapture(id) {\\n            // If the hit is going to be captured flag that we're in captured state\\n            if (!localState.captured) {\\n              localState.captured = true; // The captured hit array is reset to collect hits\\n\\n              state.current.captured = [];\\n            } // Push hits to the array\\n\\n\\n            if (state.current.captured) {\\n              state.current.captured.push(hit);\\n            } // Call the original event now\\n            event.target.setPointerCapture(id);\\n          };\\n\\n          var raycastEvent = _extends({}, event, hit, {\\n            intersections: intersections,\\n            stopped: localState.stopped,\\n            delta: delta,\\n            unprojectedPoint: unprojectedPoint,\\n            ray: defaultRaycaster.ray,\\n            camera: state.current.camera,\\n            // Hijack stopPropagation, which just sets a flag\\n            stopPropagation: function stopPropagation() {\\n              // https://github.com/react-spring/react-three-fiber/issues/596\\n              // Events are not allowed to stop propagation if the pointer has been captured\\n              var cap = state.current.captured;\\n\\n              if (!cap || cap.find(function (h) {\\n                return h.eventObject.id === hit.eventObject.id;\\n              })) {\\n                raycastEvent.stopped = localState.stopped = true;\\n              }\\n            },\\n            // Pointer-capture needs the hit, on which the user may call stopPropagation()\\n            // This makes it harder to use the actual event, because then we loose the connection\\n            // to the actual hit, which would mean it's picking up all intersects ...\\n            target: _extends({}, event.target, {\\n              setPointerCapture: setPointerCapture,\\n              releasePointerCapture: releasePointerCapture\\n            }),\\n            currentTarget: _extends({}, event.currentTarget, {\\n              setPointerCapture: setPointerCapture,\\n              releasePointerCapture: releasePointerCapture\\n            }),\\n            sourceEvent: event\\n          });\\n\\n          fn(raycastEvent);\\n\\n          if (localState.stopped === true) {\\n            // Propagation is stopped, remove all other hover records\\n            // An event handler is only allowed to flush other handlers if it is hovered itself\\n            if (hovered.size && Array.from(hovered.values()).find(function (i) {\\n              return i.object === hit.object;\\n            })) {\\n              handlePointerCancel(raycastEvent, [hit]);\\n            }\\n\\n            return \\\"break\\\";\\n          }\\n        };\\n\\n        for (var _iterator2 = _createForOfIteratorHelperLoose(intersections), _step2; !(_step2 = _iterator2()).done;) {\\n          var _ret = _loop();\\n\\n          if (_ret === \\\"break\\\") break;\\n        }\\n      })();\\n    }\\n\\n    return intersections;\\n  }, []);\\n  var handlePointerMove = React.useCallback(function (event, prepare) {\\n    if (prepare === void 0) {\\n      prepare = true;\\n    }\\n\\n    state.current.pointer.emit('pointerMove', event);\\n    if (prepare) prepareRay(event);\\n    var hits = handleIntersects(event, function (data) {\\n      var eventObject = data.eventObject;\\n      var handlers = eventObject.__handlers; // Check presence of handlers\\n\\n      if (!handlers) return; // Call mouse move\\n\\n      if (handlers.pointerMove) handlers.pointerMove(data); // Check if mouse enter or out is present\\n\\n      if (handlers.pointerOver || handlers.pointerEnter || handlers.pointerOut || handlers.pointerLeave) {\\n        var id = makeId(data);\\n        var hoveredItem = hovered.get(id);\\n\\n        if (!hoveredItem) {\\n          // If the object wasn't previously hovered, book it and call its handler\\n          hovered.set(id, data);\\n          if (handlers.pointerOver) handlers.pointerOver(_extends({}, data, {\\n            type: 'pointerover'\\n          }));\\n          if (handlers.pointerEnter) handlers.pointerEnter(_extends({}, data, {\\n            type: 'pointerenter'\\n          }));\\n        } else if (hoveredItem.stopped) {\\n          // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\\n          data.stopPropagation();\\n        }\\n      }\\n    }, // This is onPointerMove, we're only interested in events that exhibit this particular event\\n    function (objects) {\\n      return objects.filter(function (obj) {\\n        return ['Move', 'Over', 'Enter', 'Out', 'Leave'].some(function (name) {\\n          return obj.__handlers['pointer' + name];\\n        });\\n      });\\n    }); // Take care of unhover\\n\\n    handlePointerCancel(event, hits, prepare);\\n    return hits;\\n  }, []);\\n  var handlePointerCancel = React.useCallback(function (event, hits, prepare) {\\n    if (prepare === void 0) {\\n      prepare = true;\\n    }\\n\\n    state.current.pointer.emit('pointerCancel', event);\\n    if (prepare) prepareRay(event);\\n    if (!hits) hits = handleIntersects(event, function () {\\n      return null;\\n    });\\n    Array.from(hovered.values()).forEach(function (data) {\\n      // When no objects were hit or the the hovered object wasn't found underneath the cursor\\n      // we call onPointerOut and delete the object from the hovered-elements map\\n      if (hits && (!hits.length || !hits.find(function (i) {\\n        return i.eventObject === data.eventObject;\\n      }))) {\\n        var eventObject = data.eventObject;\\n        var handlers = eventObject.__handlers;\\n\\n        if (handlers) {\\n          if (handlers.pointerOut) handlers.pointerOut(_extends({}, data, {\\n            type: 'pointerout'\\n          }));\\n          if (handlers.pointerLeave) handlers.pointerLeave(_extends({}, data, {\\n            type: 'pointerleave'\\n          }));\\n        }\\n\\n        hovered[\\\"delete\\\"](makeId(data));\\n      }\\n    });\\n  }, []);\\n  var handlePointer = React.useCallback(function (name) {\\n    return function (event, prepare) {\\n      if (prepare === void 0) {\\n        prepare = true;\\n      }\\n\\n      state.current.pointer.emit(name, event);\\n      if (prepare) prepareRay(event);\\n      var hits = handleIntersects(event, function (data) {\\n        var eventObject = data.eventObject;\\n        var handlers = eventObject.__handlers;\\n\\n        if (handlers && handlers[name]) {\\n          // Forward all events back to their respective handlers with the exception of click events,\\n          // which must use the initial target\\n          if (name !== 'click' && name !== 'contextMenu' && name !== 'doubleClick' || state.current.initialHits.includes(eventObject)) {\\n            handlers[name](data);\\n          }\\n        }\\n      }); // If a click yields no results, pass it back to the user as a miss\\n\\n      if (name === 'pointerDown') {\\n        state.current.initialClick = [event.clientX, event.clientY];\\n        state.current.initialHits = hits.map(function (hit) {\\n          return hit.eventObject;\\n        });\\n      }\\n\\n      if ((name === 'click' || name === 'contextMenu' || name === 'doubleClick') && !hits.length && onPointerMissed) {\\n        if (calculateDistance(event) <= 2) onPointerMissed();\\n      }\\n    };\\n  }, [onPointerMissed]);\\n  React.useMemo(function () {\\n    state.current.events = {\\n      onClick: handlePointer('click'),\\n      onContextMenu: handlePointer('contextMenu'),\\n      onDoubleClick: handlePointer('doubleClick'),\\n      onWheel: handlePointer('wheel'),\\n      onPointerDown: handlePointer('pointerDown'),\\n      onPointerUp: handlePointer('pointerUp'),\\n      onPointerLeave: function onPointerLeave(e) {\\n        return handlePointerCancel(e, []);\\n      },\\n      onPointerMove: handlePointerMove,\\n      // onGotPointerCapture is not needed any longer because the behaviour is hacked into\\n      // the event itself (see handleIntersects). But in order for non-web targets to simulate\\n      // it we keep the legacy event, which simply flags all current intersects as captured\\n      onGotPointerCaptureLegacy: function onGotPointerCaptureLegacy(e) {\\n        return state.current.captured = intersect(e);\\n      },\\n      onLostPointerCapture: function onLostPointerCapture(e) {\\n        return state.current.captured = undefined, handlePointerCancel(e);\\n      }\\n    };\\n  }, [onPointerMissed]);\\n  /** Events ------------------------------------------------------------------------------------------------- */\\n  // Only trigger the context provider when necessary\\n\\n  var sharedState = React.useRef();\\n  React.useMemo(function () {\\n    var _state$current = state.current,\\n        ready = _state$current.ready,\\n        manual = _state$current.manual,\\n        vr = _state$current.vr,\\n        noEvents = _state$current.noEvents,\\n        invalidateFrameloop = _state$current.invalidateFrameloop,\\n        frames = _state$current.frames,\\n        subscribers = _state$current.subscribers,\\n        captured = _state$current.captured,\\n        initialClick = _state$current.initialClick,\\n        initialHits = _state$current.initialHits,\\n        props = _objectWithoutPropertiesLoose(_state$current, [\\\"ready\\\", \\\"manual\\\", \\\"vr\\\", \\\"noEvents\\\", \\\"invalidateFrameloop\\\", \\\"frames\\\", \\\"subscribers\\\", \\\"captured\\\", \\\"initialClick\\\", \\\"initialHits\\\"]);\\n\\n    sharedState.current = props;\\n  }, [size, defaultCam]); // Update pixel ratio\\n\\n  React.useLayoutEffect(function () {\\n    return void (pixelRatio && gl.setPixelRatio(pixelRatio));\\n  }, [pixelRatio]); // Update shadow map\\n\\n  React.useLayoutEffect(function () {\\n    if (shadowMap) {\\n      gl.shadowMap.enabled = true;\\n      if (typeof shadowMap === 'object') Object.assign(gl.shadowMap, shadowMap);else gl.shadowMap.type = THREE.PCFSoftShadowMap;\\n    }\\n\\n    if (sRGB || colorManagement) {\\n      gl.toneMapping = THREE.ACESFilmicToneMapping;\\n      gl.outputEncoding = THREE.sRGBEncoding;\\n    }\\n  }, [shadowMap, sRGB, colorManagement]); // This component is a bridge into the three render context, when it gets rendered\\n  // we know we are ready to compile shaders, call subscribers, etc\\n\\n  var Canvas = React.useCallback(function Canvas(props) {\\n    var activate = function activate() {\\n      return setReady(true);\\n    }; // eslint-disable-next-line react-hooks/rules-of-hooks\\n\\n\\n    React.useEffect(function () {\\n      var result = onCreated && onCreated(state.current);\\n      return void (result && result.then ? result.then(activate) : activate());\\n    }, []);\\n    return props.children;\\n  }, []); // Render v-dom into scene\\n\\n  React.useLayoutEffect(function () {\\n    render( /*#__PURE__*/React.createElement(Canvas, null, /*#__PURE__*/React.createElement(stateContext.Provider, {\\n      value: sharedState.current\\n    }, typeof children === 'function' ? children(state.current) : children)), defaultScene, state);\\n  }, [ready, children, sharedState.current]);\\n  React.useLayoutEffect(function () {\\n    if (ready) {\\n      // Start render-loop, either via RAF or setAnimationLoop for VR\\n      if (!state.current.vr) {\\n        invalidate(state);\\n      } else if ((gl.xr || gl.vr) && gl.setAnimationLoop) {\\n        (gl.xr || gl.vr).enabled = true;\\n        gl.setAnimationLoop(function (t) {\\n          return renderGl(state, t, 0, true);\\n        });\\n      } else console.warn('the gl instance does not support VR!');\\n    }\\n  }, [ready, invalidateFrameloop]); // Dispose renderer on unmount\\n\\n  React.useEffect(function () {\\n    return function () {\\n      if (state.current.gl) {\\n        if (state.current.gl.forceContextLoss) state.current.gl.forceContextLoss();\\n        if (state.current.gl.dispose) state.current.gl.dispose();\\n        state.current.gl = undefined;\\n        unmountComponentAtNode(state.current.scene);\\n        state.current.active = false;\\n      }\\n    };\\n  }, []);\\n  return state.current.events;\\n};\\n\\nfunction useContext(context) {\\n  var result = React.useContext(context);\\n\\n  if (!result) {\\n    console.warn('hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks');\\n  }\\n\\n  return result;\\n}\\n\\nfunction useFrame(callback, renderPriority) {\\n  if (renderPriority === void 0) {\\n    renderPriority = 0;\\n  }\\n\\n  var _useContext = useContext(stateContext),\\n      subscribe = _useContext.subscribe; // Update ref\\n\\n\\n  var ref = React.useRef(callback);\\n  React.useLayoutEffect(function () {\\n    return void (ref.current = callback);\\n  }, [callback]); // Subscribe/unsub\\n\\n  React.useEffect(function () {\\n    var unsubscribe = subscribe(ref, renderPriority);\\n    return function () {\\n      return unsubscribe();\\n    };\\n  }, [renderPriority]);\\n  return null;\\n}\\nfunction useThree() {\\n  return useContext(stateContext);\\n}\\nfunction useUpdate(callback, dependents, optionalRef) {\\n  var _useContext2 = useContext(stateContext),\\n      invalidate = _useContext2.invalidate;\\n\\n  var localRef = React.useRef();\\n  var ref = optionalRef ? optionalRef : localRef;\\n  React.useLayoutEffect(function () {\\n    if (ref.current) {\\n      callback(ref.current);\\n      invalidate();\\n    }\\n  }, dependents);\\n  return ref;\\n}\\nfunction useResource(optionalRef) {\\n  var _useState = React.useState(false),\\n      _ = _useState[0],\\n      forceUpdate = _useState[1];\\n\\n  var localRef = React.useRef(undefined);\\n  var ref = optionalRef ? optionalRef : localRef;\\n  React.useLayoutEffect(function () {\\n    return void forceUpdate(function (i) {\\n      return !i;\\n    });\\n  }, [ref.current]);\\n  return [ref, ref.current];\\n}\\nvar blackList = ['id', 'uuid', 'type', 'children', 'parent', 'matrix', 'matrixWorld', 'matrixWorldNeedsUpdate', 'modelViewMatrix', 'normalMatrix'];\\n\\nfunction prune(props) {\\n  var reducedProps = _extends({}, props); // Remove black listed props\\n\\n\\n  blackList.forEach(function (name) {\\n    return delete reducedProps[name];\\n  }); // Remove functions\\n\\n  Object.keys(reducedProps).forEach(function (name) {\\n    return typeof reducedProps[name] === 'function' && delete reducedProps[name];\\n  }); // Prune materials and geometries\\n\\n  if (reducedProps.material) reducedProps.material = prune(reducedProps.material);\\n  if (reducedProps.geometry) reducedProps.geometry = prune(reducedProps.geometry); // Return cleansed object\\n\\n  return reducedProps;\\n}\\n\\nfunction useLoader(Proto, url, extensions) {\\n  var loader = React.useMemo(function () {\\n    // Construct new loader\\n    var temp = new Proto(); // Run loader extensions\\n\\n    if (extensions) extensions(temp);\\n    return temp;\\n  }, [Proto]); // Use suspense to load async assets\\n\\n  var results = usePromise(function (Proto, url) {\\n    var urlArray = Array.isArray(url) ? url : [url];\\n    return Promise.all(urlArray.map(function (url) {\\n      return new Promise(function (res) {\\n        return loader.load(url, function (data) {\\n          if (data.scene) {\\n            // This has to be deprecated at some point!\\n            data.__$ = []; // Nodes and materials are better\\n\\n            data.nodes = {};\\n            data.materials = {};\\n            data.scene.traverse(function (obj) {\\n              var _extends2;\\n\\n              data.__$.push(prune(obj));\\n\\n              if (obj.name) data.nodes = _extends({}, data.nodes, (_extends2 = {}, _extends2[obj.name] = obj, _extends2));\\n              if (obj.material && !data.materials[obj.material.name]) data.materials[obj.material.name] = obj.material;\\n            });\\n          }\\n\\n          res(data);\\n        });\\n      });\\n    }));\\n  }, [Proto, url]); // Return the object/s\\n\\n  return Array.isArray(url) ? results : results[0];\\n}\\nvar useCamera = function useCamera() {\\n  console.warn('The useCamera hook was moved to: https://github.com/react-spring/drei');\\n  return null;\\n};\\n\\nvar defaultStyles = {\\n  position: 'relative',\\n  width: '100%',\\n  height: '100%',\\n  overflow: 'hidden'\\n};\\n\\nfunction Content(_ref) {\\n  var children = _ref.children,\\n      setEvents = _ref.setEvents,\\n      container = _ref.container,\\n      renderer = _ref.renderer,\\n      effects = _ref.effects,\\n      props = _objectWithoutPropertiesLoose(_ref, [\\\"children\\\", \\\"setEvents\\\", \\\"container\\\", \\\"renderer\\\", \\\"effects\\\"]);\\n\\n  // Create renderer\\n  var _useState = React.useState(renderer),\\n      gl = _useState[0];\\n\\n  if (!gl) console.warn('No renderer created!'); // Mount and unmount managemenbt\\n\\n  React.useEffect(function () {\\n    return effects && effects(gl, container);\\n  }, []); // Init canvas, fetch events, hand them back to the wrapping div\\n\\n  var events = useCanvas(_extends({}, props, {\\n    children: children,\\n    gl: gl\\n  }));\\n  React.useEffect(function () {\\n    return void setEvents(events);\\n  }, [events]);\\n  return null;\\n}\\n\\nvar ResizeContainer = React__default.memo(function ResizeContainer(props) {\\n  var renderer = props.renderer,\\n      effects = props.effects,\\n      children = props.children,\\n      vr = props.vr,\\n      gl2 = props.gl2,\\n      concurrent = props.concurrent,\\n      shadowMap = props.shadowMap,\\n      sRGB = props.sRGB,\\n      colorManagement = props.colorManagement,\\n      orthographic = props.orthographic,\\n      invalidateFrameloop = props.invalidateFrameloop,\\n      updateDefaultCamera = props.updateDefaultCamera,\\n      noEvents = props.noEvents,\\n      gl = props.gl,\\n      camera = props.camera,\\n      raycaster = props.raycaster,\\n      pixelRatio = props.pixelRatio,\\n      onCreated = props.onCreated,\\n      onPointerMissed = props.onPointerMissed,\\n      preRender = props.preRender,\\n      resize = props.resize,\\n      style = props.style,\\n      restSpread = _objectWithoutPropertiesLoose(props, [\\\"renderer\\\", \\\"effects\\\", \\\"children\\\", \\\"vr\\\", \\\"gl2\\\", \\\"concurrent\\\", \\\"shadowMap\\\", \\\"sRGB\\\", \\\"colorManagement\\\", \\\"orthographic\\\", \\\"invalidateFrameloop\\\", \\\"updateDefaultCamera\\\", \\\"noEvents\\\", \\\"gl\\\", \\\"camera\\\", \\\"raycaster\\\", \\\"pixelRatio\\\", \\\"onCreated\\\", \\\"onPointerMissed\\\", \\\"preRender\\\", \\\"resize\\\", \\\"style\\\"]);\\n\\n  var containerRef = React.useRef(); // onGotPointerCaptureLegacy is a fake event used by non-web targets to simulate poinzter capture\\n\\n  var _useState2 = React.useState({}),\\n      _useState2$ = _useState2[0],\\n      onGotPointerCaptureLegacy = _useState2$.onGotPointerCaptureLegacy,\\n      events = _objectWithoutPropertiesLoose(_useState2$, [\\\"onGotPointerCaptureLegacy\\\"]),\\n      setEvents = _useState2[1];\\n\\n  var _useMeasure = useMeasure(resize || {\\n    scroll: true,\\n    debounce: {\\n      scroll: 50,\\n      resize: 0\\n    },\\n    polyfill: typeof window === 'undefined' || !window.ResizeObserver ? resizeObserver.ResizeObserver : undefined\\n  }),\\n      bind = _useMeasure[0],\\n      size = _useMeasure[1]; // Flag view ready once it's been measured out\\n\\n\\n  var readyFlag = React.useRef(false);\\n  var ready = React.useMemo(function () {\\n    return readyFlag.current = readyFlag.current || !!size.width && !!size.height;\\n  }, [size]);\\n  var state = React.useMemo(function () {\\n    return {\\n      size: size,\\n      setEvents: setEvents,\\n      container: containerRef.current\\n    };\\n  }, [size]); // Allow Gatsby, Next and other server side apps to run. Will output styles to reduce flickering.\\n\\n  if (typeof window === 'undefined') return /*#__PURE__*/React__default.createElement(\\\"div\\\", _extends({\\n    style: _extends({}, defaultStyles, style)\\n  }, restSpread), preRender); // Render the canvas into the dom\\n\\n  return /*#__PURE__*/React__default.createElement(\\\"div\\\", _extends({\\n    ref: mergeRefs([bind, containerRef]),\\n    style: _extends({}, defaultStyles, style)\\n  }, events, restSpread), preRender, ready && /*#__PURE__*/React__default.createElement(Content, _extends({}, props, state)));\\n});\\n\\nvar Canvas = React__default.memo(function Canvas(_ref) {\\n  var children = _ref.children,\\n      props = _objectWithoutPropertiesLoose(_ref, [\\\"children\\\"]);\\n\\n  var canvasRef = React.useRef();\\n  return /*#__PURE__*/React__default.createElement(ResizeContainer, _extends({}, props, {\\n    renderer: function renderer() {\\n      if (canvasRef.current) {\\n        var params = _extends({\\n          antialias: true,\\n          alpha: true\\n        }, props.gl);\\n\\n        var temp = new THREE.WebGLRenderer(_extends({\\n          powerPreference: 'high-performance',\\n          //stencil: false,\\n          //depth: false,\\n          canvas: canvasRef.current,\\n          context: props.gl2 ? canvasRef.current.getContext('webgl2', params) : undefined\\n        }, params));\\n        return temp;\\n      }\\n    },\\n    preRender: /*#__PURE__*/React__default.createElement(\\\"canvas\\\", {\\n      ref: canvasRef,\\n      style: {\\n        display: 'block'\\n      }\\n    })\\n  }), children);\\n});\\nvar Dom = function Dom() {\\n  console.warn('The experimental <Dom> component was renamed to <HTML> and moved to: https://github.com/react-spring/drei');\\n  return null;\\n};\\n\\nexports.Canvas = Canvas;\\nexports.Dom = Dom;\\nexports.Renderer = Renderer;\\nexports.addAfterEffect = addAfterEffect;\\nexports.addEffect = addEffect;\\nexports.addTail = addTail;\\nexports.applyProps = applyProps;\\nexports.createPortal = createPortal;\\nexports.extend = extend;\\nexports.invalidate = invalidate;\\nexports.isOrthographicCamera = isOrthographicCamera;\\nexports.render = render;\\nexports.renderGl = renderGl;\\nexports.stateContext = stateContext;\\nexports.unmountComponentAtNode = unmountComponentAtNode;\\nexports.useCamera = useCamera;\\nexports.useCanvas = useCanvas;\\nexports.useFrame = useFrame;\\nexports.useLoader = useLoader;\\nexports.useResource = useResource;\\nexports.useThree = useThree;\\nexports.useUpdate = useUpdate;\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_interopDefault\",\"ex\",\"_toPropertyKey\",\"arg\",\"prim\",\"Symbol\",\"toPrimitive\",\"undefined\",\"res\",\"call\",\"hint\",\"TypeError\",\"String\",\"key\",\"createSubs\",\"callback\",\"subs\",\"index\",\"length\",\"push\",\"splice\",\"renderGl\",\"state\",\"timestamp\",\"repeat\",\"runGlobalEffects\",\"globalEffects\",\"forEach\",\"effect\",\"delta\",\"current\",\"clock\",\"getDelta\",\"subscribers\",\"sub\",\"ref\",\"frames\",\"Math\",\"max\",\"invalidateFrameloop\",\"manual\",\"gl\",\"render\",\"scene\",\"camera\",\"globalAfterEffects\",\"renderLoop\",\"running\",\"roots\",\"root\",\"containerInfo\",\"__state\",\"active\",\"ready\",\"requestAnimationFrame\",\"globalTailEffects\",\"invalidate\",\"vr\",\"applyProps\",\"instance\",\"newProps\",\"oldProps\",\"accumulative\",\"container\",\"__container\",\"sameProps\",\"Object\",\"keys\",\"filter\",\"is\",\"equ\",\"handlers\",\"fun\",\"startsWith\",\"includes\",\"leftOvers\",\"toFilter\",\"concat\",\"__instance\",\"filteredProps\",\"reduce\",\"acc\",\"prop\",\"_objectWithoutPropertiesLoose\",\"rest\",\"map\",\"entries\",\"_ref\",\"value\",\"_instance$__container\",\"target\",\"split\",\"set\",\"_entries$reverse\",\"reverse\",\"_name\",\"slice\",\"reverseEntries\",\"isColorManagement\",\"colorManagement\",\"copy\",\"THREE\",\"Layers\",\"_target\",\"Array\",\"isArray\",\"apply\",\"constructor\",\"name\",\"Color\",\"convertSRGBToLinear\",\"Texture\",\"encoding\",\"sRGBEncoding\",\"invalidateInstance\",\"raycast\",\"__handlers\",\"__interaction\",\"indexOf\",\"_extends2\",\"_extends\",\"charAt\",\"toLowerCase\",\"substr\",\"parent\",\"updateInstance\",\"onUpdate\",\"createInstance\",\"type\",\"_ref2\",\"hostContext\",\"internalInstanceHandle\",\"_ref2$args\",\"args\",\"props\",\"toUpperCase\",\"object\",\"catalogue\",\"arr\",\"_construct\",\"has\",\"fn\",\"node\",\"stateNode\",\"__objects\",\"appendChild\",\"parentInstance\",\"child\",\"isObject3D\",\"add\",\"attach\",\"attachArray\",\"attachObject\",\"obj\",\"insertBefore\",\"beforeChild\",\"dispatchEvent\",\"restSiblings\",\"children\",\"sibling\",\"removeRecursive\",\"array\",\"clone\",\"removeChild\",\"remove\",\"x\",\"dispose\",\"scheduler\",\"unstable_runWithPriority\",\"unstable_IdlePriority\",\"switchInstance\",\"fiber\",\"newInstance\",\"alternate\",\"element\",\"get\",\"newRoot\",\"Renderer\",\"createContainer\",\"concurrent\",\"ConcurrentRoot\",\"LegacyRoot\",\"updateContainer\",\"getPublicRootInstance\",\"unmountComponentAtNode\",\"_createForOfIteratorHelperLoose\",\"o\",\"i\",\"iterator\",\"_unsupportedIterableToArray\",\"done\",\"next\",\"bind\",\"minLen\",\"_arrayLikeToArray\",\"n\",\"prototype\",\"toString\",\"from\",\"test\",\"len\",\"arr2\",\"makeId\",\"event\",\"uuid\",\"eventObject\",\"useContext\",\"context\",\"result\",\"React\",\"console\",\"warn\",\"prune\",\"reducedProps\",\"blackList\",\"material\",\"geometry\",\"Content\",\"setEvents\",\"renderer\",\"effects\",\"useState\",\"_useState\",\"useEffect\",\"events\",\"useCanvas\",\"defineProperty\",\"Reconciler\",\"React__default\",\"tinyEmitter\",\"usePromise\",\"useMeasure\",\"resizeObserver\",\"mergeRefs\",\"Map\",\"emptyObject\",\"a\",\"str\",\"num\",\"und\",\"b\",\"now\",\"unstable_now\",\"warnsIfNotActing\",\"supportsMutation\",\"isPrimaryRenderer\",\"scheduleTimeout\",\"setTimeout\",\"cancelTimeout\",\"clearTimeout\",\"noTimeout\",\"appendInitialChild\",\"appendChildToContainer\",\"removeChildFromContainer\",\"insertInContainerBefore\",\"commitUpdate\",\"updatePayload\",\"_newProps$args\",\"argsNew\",\"restNew\",\"_oldProps$args\",\"argsOld\",\"restOld\",\"some\",\"hasNewArgs\",\"_ref3\",\"val\",\"hideInstance\",\"visible\",\"unhideInstance\",\"hideTextInstance\",\"Error\",\"getPublicInstance\",\"getRootHostContext\",\"getChildHostContext\",\"createTextInstance\",\"finalizeInitialChildren\",\"prepareUpdate\",\"shouldDeprioritizeSubtree\",\"prepareForCommit\",\"resetAfterCommit\",\"shouldSetTextContent\",\"REACT_PORTAL_TYPE\",\"injectIntoDevTools\",\"bundleType\",\"version\",\"rendererPackageName\",\"findHostInstanceByFiber\",\"findHostInstance\",\"stateContext\",\"createContext\",\"orthographic\",\"raycaster\",\"size\",\"pixelRatio\",\"_props$vr\",\"_props$concurrent\",\"_props$shadowMap\",\"shadowMap\",\"_props$sRGB\",\"sRGB\",\"_props$colorManagemen\",\"_props$invalidateFram\",\"_props$updateDefaultC\",\"updateDefaultCamera\",\"_props$noEvents\",\"noEvents\",\"onCreated\",\"onPointerMissed\",\"setReady\",\"mouse\",\"_useState2\",\"Vector2\",\"defaultRaycaster\",\"_useState3\",\"ray\",\"Raycaster\",\"raycasterProps\",\"defaultScene\",\"_useState4\",\"Scene\",\"_useState5\",\"cam\",\"OrthographicCamera\",\"PerspectiveCamera\",\"position\",\"z\",\"lookAt\",\"defaultCam\",\"_setDefaultCamera\",\"_useState6\",\"Clock\",\"useRef\",\"aspect\",\"viewport\",\"width\",\"height\",\"factor\",\"initialClick\",\"initialHits\",\"pointer\",\"TinyEmitter\",\"captured\",\"subscribe\",\"priority\",\"sort\",\"s\",\"setDefaultCamera\",\"invalidate$1\",\"intersect\",\"prepare\",\"handlePointerMove\",\"useMemo\",\"isOrthographicCamera\",\"Vector3\",\"distance\",\"distanceTo\",\"tan\",\"fov\",\"PI\",\"left\",\"right\",\"top\",\"bottom\",\"updateProjectionMatrix\",\"updateMatrixWorld\",\"setSize\",\"prepareRay\",\"useCallback\",\"clientX\",\"clientY\",\"_state$current$size\",\"setFromCamera\",\"seen\",\"Set\",\"hits\",\"eventsObjects\",\"intersects\",\"intersectObjects\",\"item\",\"id\",\"sharedState\",\"_iterator\",\"_step\",\"_intersect\",\"calculateDistance\",\"dx\",\"dy\",\"round\",\"sqrt\",\"hovered\",\"temp\",\"handleIntersects\",\"intersections\",\"find\",\"hit\",\"unprojectedPoint\",\"y\",\"unproject\",\"releasePointerCapture\",\"_loop\",\"_step2\",\"setPointerCapture\",\"raycastEvent\",\"stopped\",\"stopPropagation\",\"cap\",\"h\",\"currentTarget\",\"sourceEvent\",\"values\",\"handlePointerCancel\",\"_iterator2\",\"_ret\",\"emit\",\"data\",\"pointerMove\",\"pointerOver\",\"pointerEnter\",\"pointerOut\",\"pointerLeave\",\"hoveredItem\",\"objects\",\"handlePointer\",\"onClick\",\"onContextMenu\",\"onDoubleClick\",\"onWheel\",\"onPointerDown\",\"onPointerUp\",\"onPointerLeave\",\"e\",\"onPointerMove\",\"onGotPointerCaptureLegacy\",\"onLostPointerCapture\",\"useLayoutEffect\",\"setPixelRatio\",\"enabled\",\"assign\",\"PCFSoftShadowMap\",\"toneMapping\",\"ACESFilmicToneMapping\",\"outputEncoding\",\"Canvas\",\"activate\",\"then\",\"createElement\",\"Provider\",\"xr\",\"setAnimationLoop\",\"t\",\"forceContextLoss\",\"defaultStyles\",\"overflow\",\"ResizeContainer\",\"memo\",\"preRender\",\"resize\",\"style\",\"restSpread\",\"containerRef\",\"_useState2$\",\"_useMeasure\",\"scroll\",\"debounce\",\"polyfill\",\"window\",\"ResizeObserver\",\"readyFlag\",\"canvasRef\",\"params\",\"antialias\",\"alpha\",\"WebGLRenderer\",\"powerPreference\",\"canvas\",\"gl2\",\"getContext\",\"display\",\"Dom\",\"addAfterEffect\",\"addEffect\",\"addTail\",\"createPortal\",\"implementation\",\"$$typeof\",\"extend\",\"def\",\"useCamera\",\"useFrame\",\"renderPriority\",\"_useContext\",\"unsubscribe\",\"useLoader\",\"Proto\",\"url\",\"extensions\",\"loader\",\"results\",\"urlArray\",\"Promise\",\"all\",\"load\",\"__$\",\"nodes\",\"materials\",\"traverse\",\"useResource\",\"optionalRef\",\"forceUpdate\",\"localRef\",\"useThree\",\"useUpdate\",\"dependents\",\"_useContext2\"]\n}\n"]