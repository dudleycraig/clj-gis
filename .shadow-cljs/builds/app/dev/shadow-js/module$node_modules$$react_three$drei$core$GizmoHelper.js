["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@react-three/drei/core/GizmoHelper.js"],"~:js","shadow$provide.module$node_modules$$react_three$drei$core$GizmoHelper=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _getRequireWildcardCache(){if(\"function\"!==typeof WeakMap)return null;var cache=new WeakMap;_getRequireWildcardCache=\nfunction(){return cache};return cache}function _slicedToArray(arr,i){var JSCompiler_temp=Array.isArray(arr)?arr:void 0;if(!JSCompiler_temp)if(Symbol.iterator in Object(arr)||\"[object Arguments]\"===Object.prototype.toString.call(arr)){JSCompiler_temp=[];var _n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(JSCompiler_temp.push(_s.value),!i||JSCompiler_temp.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i[\"return\"])_i[\"return\"]()}finally{if(_d)throw _e;\n}}}else JSCompiler_temp=void 0;if(!(arr=JSCompiler_temp))throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");return arr}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.useGizmoContext=exports.GizmoHelper=void 0;var React=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||\"object\"!==_typeof(obj)&&\"function\"!==typeof obj)return{\"default\":obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=\nObject.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj[\"default\"]=obj;cache&&cache.set(obj,newObj);return newObj}(require(\"module$node_modules$react$index\")),_fiber=require(\"module$node_modules$$react_three$fiber$dist$react_three_fiber_esm\"),_three=require(\"module$node_modules$three$build$three_module\"),\n_OrthographicCamera=require(\"module$node_modules$$react_three$drei$core$OrthographicCamera\"),_useCamera=require(\"module$node_modules$$react_three$drei$core$useCamera\"),Context=React.createContext({});exports.useGizmoContext=function(){return React.useContext(Context)};var turnRate=2*Math.PI,dummy=new _three.Object3D,matrix=new _three.Matrix4,q1=new _three.Quaternion,q2=new _three.Quaternion,target=new _three.Vector3,targetPosition=new _three.Vector3;exports.GizmoHelper=function(_ref){var _ref$alignment=\n_ref.alignment;_ref$alignment=void 0===_ref$alignment?\"bottom-right\":_ref$alignment;var _ref$margin=_ref.margin,margin=void 0===_ref$margin?[80,80]:_ref$margin,onUpdate=_ref.onUpdate,onTarget=_ref.onTarget;_ref=_ref.children;_ref$margin=(0,_fiber.useThree)(function(_ref2){return _ref2.size});var mainCamera=(0,_fiber.useThree)(function(_ref3){return _ref3.camera}),defaultControls=(0,_fiber.useThree)(function(_ref4){return _ref4.controls}),gl=(0,_fiber.useThree)(function(_ref5){return _ref5.gl}),scene=\n(0,_fiber.useThree)(function(_ref6){return _ref6.scene}),invalidate=(0,_fiber.useThree)(function(_ref7){return _ref7.invalidate}),backgroundRef=React.useRef(),gizmoRef=React.useRef(),virtualCam=React.useRef(null),_React$useState=React.useState(function(){return new _three.Scene}),virtualScene=_slicedToArray(_React$useState,1)[0],animating=React.useRef(!1),radius=React.useRef(0),focusPoint=React.useRef(new _three.Vector3(0,0,0));React.useEffect(function(){scene.background&&(backgroundRef.current=scene.background,\nscene.background=null,virtualScene.background=backgroundRef.current);return function(){backgroundRef.current&&(scene.background=backgroundRef.current)}},[]);(0,_fiber.useFrame)(function(_,delta){if(virtualCam.current&&gizmoRef.current){animating.current&&(.01>q1.angleTo(q2)?animating.current=!1:(q1.rotateTowards(q2,delta*turnRate),mainCamera.position.set(0,0,1).applyQuaternion(q1).multiplyScalar(radius.current).add(focusPoint.current),mainCamera.up.set(0,1,0).applyQuaternion(q1).normalize(),mainCamera.quaternion.copy(q1),\nonUpdate?onUpdate():defaultControls&&defaultControls.update(),invalidate()));var _gizmoRef$current;matrix.copy(mainCamera.matrix).invert();null==(_gizmoRef$current=gizmoRef.current)?void 0:_gizmoRef$current.quaternion.setFromRotationMatrix(matrix);gl.autoClear=!1;gl.clearDepth();gl.render(virtualScene,virtualCam.current)}});_React$useState={tweenCamera:function(direction){animating.current=!0;if(defaultControls||onTarget)focusPoint.current=(null==defaultControls?void 0:defaultControls.target)||(null==\nonTarget?void 0:onTarget());radius.current=mainCamera.position.distanceTo(target);q1.copy(mainCamera.quaternion);targetPosition.copy(direction).multiplyScalar(radius.current).add(target);dummy.lookAt(targetPosition);q2.copy(dummy.quaternion);invalidate()},raycast:(0,_useCamera.useCamera)(virtualCam)};var _margin=_slicedToArray(margin,2);margin=_margin[0];_margin=_margin[1];margin=_ref$alignment.endsWith(\"-left\")?-_ref$margin.width/2+margin:_ref$margin.width/2-margin;_ref$alignment=_ref$alignment.startsWith(\"top-\")?\n_ref$margin.height/2-_margin:-_ref$margin.height/2+_margin;return(0,_fiber.createPortal)(React.createElement(Context.Provider,{value:_React$useState},React.createElement(_OrthographicCamera.OrthographicCamera,{ref:virtualCam,makeDefault:!1,position:[0,0,200]}),React.createElement(\"group\",{ref:gizmoRef,position:[margin,_ref$alignment,0]},_ref)),virtualScene)}}","~:source","shadow$provide[\"module$node_modules$$react_three$drei$core$GizmoHelper\"] = function(global,require,module,exports) {\n\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useGizmoContext = exports.GizmoHelper = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _fiber = require(\"@react-three/fiber\");\n\nvar _three = require(\"three\");\n\nvar _OrthographicCamera = require(\"./OrthographicCamera.js\");\n\nvar _useCamera = require(\"./useCamera.js\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar Context =\n/*#__PURE__*/\nReact.createContext({});\n\nvar useGizmoContext = function useGizmoContext() {\n  return React.useContext(Context);\n};\n\nexports.useGizmoContext = useGizmoContext;\nvar turnRate = 2 * Math.PI; // turn rate in angles per second\n\nvar dummy = new _three.Object3D();\nvar matrix = new _three.Matrix4();\nvar q1 = new _three.Quaternion(),\n    q2 = new _three.Quaternion();\nvar target = new _three.Vector3();\nvar targetPosition = new _three.Vector3();\n\nvar GizmoHelper = function GizmoHelper(_ref) {\n  var _ref$alignment = _ref.alignment,\n      alignment = _ref$alignment === void 0 ? 'bottom-right' : _ref$alignment,\n      _ref$margin = _ref.margin,\n      margin = _ref$margin === void 0 ? [80, 80] : _ref$margin,\n      onUpdate = _ref.onUpdate,\n      onTarget = _ref.onTarget,\n      GizmoHelperComponent = _ref.children;\n  var size = (0, _fiber.useThree)(function (_ref2) {\n    var size = _ref2.size;\n    return size;\n  });\n  var mainCamera = (0, _fiber.useThree)(function (_ref3) {\n    var camera = _ref3.camera;\n    return camera;\n  }); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  var defaultControls = (0, _fiber.useThree)(function (_ref4) {\n    var controls = _ref4.controls;\n    return controls;\n  });\n  var gl = (0, _fiber.useThree)(function (_ref5) {\n    var gl = _ref5.gl;\n    return gl;\n  });\n  var scene = (0, _fiber.useThree)(function (_ref6) {\n    var scene = _ref6.scene;\n    return scene;\n  });\n  var invalidate = (0, _fiber.useThree)(function (_ref7) {\n    var invalidate = _ref7.invalidate;\n    return invalidate;\n  });\n  var backgroundRef = React.useRef();\n  var gizmoRef = React.useRef();\n  var virtualCam = React.useRef(null);\n\n  var _React$useState = React.useState(function () {\n    return new _three.Scene();\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      virtualScene = _React$useState2[0];\n\n  var animating = React.useRef(false);\n  var radius = React.useRef(0);\n  var focusPoint = React.useRef(new _three.Vector3(0, 0, 0));\n\n  var tweenCamera = function tweenCamera(direction) {\n    animating.current = true;\n    if (defaultControls || onTarget) focusPoint.current = (defaultControls == null ? void 0 : defaultControls.target) || (onTarget == null ? void 0 : onTarget());\n    radius.current = mainCamera.position.distanceTo(target); // Rotate from current camera orientation\n\n    q1.copy(mainCamera.quaternion); // To new current camera orientation\n\n    targetPosition.copy(direction).multiplyScalar(radius.current).add(target);\n    dummy.lookAt(targetPosition);\n    q2.copy(dummy.quaternion);\n    invalidate();\n  };\n\n  var animateStep = function animateStep(delta) {\n    if (!animating.current) return;\n\n    if (q1.angleTo(q2) < 0.01) {\n      animating.current = false;\n      return;\n    }\n\n    var step = delta * turnRate; // animate position by doing a slerp and then scaling the position on the unit sphere\n\n    q1.rotateTowards(q2, step); // animate orientation\n\n    mainCamera.position.set(0, 0, 1).applyQuaternion(q1).multiplyScalar(radius.current).add(focusPoint.current);\n    mainCamera.up.set(0, 1, 0).applyQuaternion(q1).normalize();\n    mainCamera.quaternion.copy(q1);\n    if (onUpdate) onUpdate();else if (defaultControls) defaultControls.update();\n    invalidate();\n  };\n\n  React.useEffect(function () {\n    if (scene.background) {\n      //Interchange the actual scene background with the virtual scene\n      backgroundRef.current = scene.background;\n      scene.background = null;\n      virtualScene.background = backgroundRef.current;\n    }\n\n    return function () {\n      // reset on unmount\n      if (backgroundRef.current) {\n        scene.background = backgroundRef.current;\n      }\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  var beforeRender = function beforeRender() {\n    var _gizmoRef$current; // Sync gizmo with main camera orientation\n\n\n    matrix.copy(mainCamera.matrix).invert();\n    (_gizmoRef$current = gizmoRef.current) == null ? void 0 : _gizmoRef$current.quaternion.setFromRotationMatrix(matrix);\n  };\n\n  (0, _fiber.useFrame)(function (_, delta) {\n    if (virtualCam.current && gizmoRef.current) {\n      animateStep(delta);\n      beforeRender();\n      gl.autoClear = false;\n      gl.clearDepth();\n      gl.render(virtualScene, virtualCam.current);\n    }\n  });\n  var gizmoHelperContext = {\n    tweenCamera: tweenCamera,\n    raycast: (0, _useCamera.useCamera)(virtualCam)\n  }; // Position gizmo component within scene\n\n  var _margin = _slicedToArray(margin, 2),\n      marginX = _margin[0],\n      marginY = _margin[1];\n\n  var x = alignment.endsWith('-left') ? -size.width / 2 + marginX : size.width / 2 - marginX;\n  var y = alignment.startsWith('top-') ? size.height / 2 - marginY : -size.height / 2 + marginY;\n  return (0, _fiber.createPortal)(\n  /*#__PURE__*/\n  React.createElement(Context.Provider, {\n    value: gizmoHelperContext\n  },\n  /*#__PURE__*/\n  React.createElement(_OrthographicCamera.OrthographicCamera, {\n    ref: virtualCam,\n    makeDefault: false,\n    position: [0, 0, 200]\n  }),\n  /*#__PURE__*/\n  React.createElement(\"group\", {\n    ref: gizmoRef,\n    position: [x, y, 0]\n  }, GizmoHelperComponent)), virtualScene);\n};\n\nexports.GizmoHelper = GizmoHelper;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$react_three$drei$core$useCamera","~$module$node_modules$three$build$three_module","~$module$node_modules$$react_three$fiber$dist$react_three_fiber_esm","~$module$node_modules$react$index","~$shadow.js","~$module$node_modules$$react_three$drei$core$OrthographicCamera"]],"~:properties",["^5",["useGizmoContext","__esModule","position","value","raycast","current","autoClear","tweenCamera","ref","GizmoHelper","makeDefault","background"]],"~:compiled-at",1630917516148,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$react_three$drei$core$GizmoHelper.js\",\n\"lineCount\":11,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@react-three/drei/core/GizmoHelper.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$react_three$drei$core$GizmoHelper\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.useGizmoContext = exports.GizmoHelper = void 0;\\n\\nvar React = _interopRequireWildcard(require(\\\"react\\\"));\\n\\nvar _fiber = require(\\\"@react-three/fiber\\\");\\n\\nvar _three = require(\\\"three\\\");\\n\\nvar _OrthographicCamera = require(\\\"./OrthographicCamera.js\\\");\\n\\nvar _useCamera = require(\\\"./useCamera.js\\\");\\n\\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \\\"function\\\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\\n\\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \\\"object\\\" && typeof obj !== \\\"function\\\") { return { \\\"default\\\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\\\"default\\\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\\n\\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\\n\\nfunction _nonIterableRest() { throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\"); }\\n\\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \\\"[object Arguments]\\\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\\\"return\\\"] != null) _i[\\\"return\\\"](); } finally { if (_d) throw _e; } } return _arr; }\\n\\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\\n\\nvar Context =\\n/*#__PURE__*/\\nReact.createContext({});\\n\\nvar useGizmoContext = function useGizmoContext() {\\n  return React.useContext(Context);\\n};\\n\\nexports.useGizmoContext = useGizmoContext;\\nvar turnRate = 2 * Math.PI; // turn rate in angles per second\\n\\nvar dummy = new _three.Object3D();\\nvar matrix = new _three.Matrix4();\\nvar q1 = new _three.Quaternion(),\\n    q2 = new _three.Quaternion();\\nvar target = new _three.Vector3();\\nvar targetPosition = new _three.Vector3();\\n\\nvar GizmoHelper = function GizmoHelper(_ref) {\\n  var _ref$alignment = _ref.alignment,\\n      alignment = _ref$alignment === void 0 ? 'bottom-right' : _ref$alignment,\\n      _ref$margin = _ref.margin,\\n      margin = _ref$margin === void 0 ? [80, 80] : _ref$margin,\\n      onUpdate = _ref.onUpdate,\\n      onTarget = _ref.onTarget,\\n      GizmoHelperComponent = _ref.children;\\n  var size = (0, _fiber.useThree)(function (_ref2) {\\n    var size = _ref2.size;\\n    return size;\\n  });\\n  var mainCamera = (0, _fiber.useThree)(function (_ref3) {\\n    var camera = _ref3.camera;\\n    return camera;\\n  }); // @ts-expect-error new in @react-three/fiber@7.0.5\\n\\n  var defaultControls = (0, _fiber.useThree)(function (_ref4) {\\n    var controls = _ref4.controls;\\n    return controls;\\n  });\\n  var gl = (0, _fiber.useThree)(function (_ref5) {\\n    var gl = _ref5.gl;\\n    return gl;\\n  });\\n  var scene = (0, _fiber.useThree)(function (_ref6) {\\n    var scene = _ref6.scene;\\n    return scene;\\n  });\\n  var invalidate = (0, _fiber.useThree)(function (_ref7) {\\n    var invalidate = _ref7.invalidate;\\n    return invalidate;\\n  });\\n  var backgroundRef = React.useRef();\\n  var gizmoRef = React.useRef();\\n  var virtualCam = React.useRef(null);\\n\\n  var _React$useState = React.useState(function () {\\n    return new _three.Scene();\\n  }),\\n      _React$useState2 = _slicedToArray(_React$useState, 1),\\n      virtualScene = _React$useState2[0];\\n\\n  var animating = React.useRef(false);\\n  var radius = React.useRef(0);\\n  var focusPoint = React.useRef(new _three.Vector3(0, 0, 0));\\n\\n  var tweenCamera = function tweenCamera(direction) {\\n    animating.current = true;\\n    if (defaultControls || onTarget) focusPoint.current = (defaultControls == null ? void 0 : defaultControls.target) || (onTarget == null ? void 0 : onTarget());\\n    radius.current = mainCamera.position.distanceTo(target); // Rotate from current camera orientation\\n\\n    q1.copy(mainCamera.quaternion); // To new current camera orientation\\n\\n    targetPosition.copy(direction).multiplyScalar(radius.current).add(target);\\n    dummy.lookAt(targetPosition);\\n    q2.copy(dummy.quaternion);\\n    invalidate();\\n  };\\n\\n  var animateStep = function animateStep(delta) {\\n    if (!animating.current) return;\\n\\n    if (q1.angleTo(q2) < 0.01) {\\n      animating.current = false;\\n      return;\\n    }\\n\\n    var step = delta * turnRate; // animate position by doing a slerp and then scaling the position on the unit sphere\\n\\n    q1.rotateTowards(q2, step); // animate orientation\\n\\n    mainCamera.position.set(0, 0, 1).applyQuaternion(q1).multiplyScalar(radius.current).add(focusPoint.current);\\n    mainCamera.up.set(0, 1, 0).applyQuaternion(q1).normalize();\\n    mainCamera.quaternion.copy(q1);\\n    if (onUpdate) onUpdate();else if (defaultControls) defaultControls.update();\\n    invalidate();\\n  };\\n\\n  React.useEffect(function () {\\n    if (scene.background) {\\n      //Interchange the actual scene background with the virtual scene\\n      backgroundRef.current = scene.background;\\n      scene.background = null;\\n      virtualScene.background = backgroundRef.current;\\n    }\\n\\n    return function () {\\n      // reset on unmount\\n      if (backgroundRef.current) {\\n        scene.background = backgroundRef.current;\\n      }\\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\\n  }, []);\\n\\n  var beforeRender = function beforeRender() {\\n    var _gizmoRef$current; // Sync gizmo with main camera orientation\\n\\n\\n    matrix.copy(mainCamera.matrix).invert();\\n    (_gizmoRef$current = gizmoRef.current) == null ? void 0 : _gizmoRef$current.quaternion.setFromRotationMatrix(matrix);\\n  };\\n\\n  (0, _fiber.useFrame)(function (_, delta) {\\n    if (virtualCam.current && gizmoRef.current) {\\n      animateStep(delta);\\n      beforeRender();\\n      gl.autoClear = false;\\n      gl.clearDepth();\\n      gl.render(virtualScene, virtualCam.current);\\n    }\\n  });\\n  var gizmoHelperContext = {\\n    tweenCamera: tweenCamera,\\n    raycast: (0, _useCamera.useCamera)(virtualCam)\\n  }; // Position gizmo component within scene\\n\\n  var _margin = _slicedToArray(margin, 2),\\n      marginX = _margin[0],\\n      marginY = _margin[1];\\n\\n  var x = alignment.endsWith('-left') ? -size.width / 2 + marginX : size.width / 2 - marginX;\\n  var y = alignment.startsWith('top-') ? size.height / 2 - marginY : -size.height / 2 + marginY;\\n  return (0, _fiber.createPortal)(\\n  /*#__PURE__*/\\n  React.createElement(Context.Provider, {\\n    value: gizmoHelperContext\\n  },\\n  /*#__PURE__*/\\n  React.createElement(_OrthographicCamera.OrthographicCamera, {\\n    ref: virtualCam,\\n    makeDefault: false,\\n    position: [0, 0, 200]\\n  }),\\n  /*#__PURE__*/\\n  React.createElement(\\\"group\\\", {\\n    ref: gizmoRef,\\n    position: [x, y, 0]\\n  }, GizmoHelperComponent)), virtualScene);\\n};\\n\\nexports.GizmoHelper = GizmoHelper;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_getRequireWildcardCache\",\"WeakMap\",\"cache\",\"_slicedToArray\",\"arr\",\"i\",\"Array\",\"isArray\",\"Object\",\"toString\",\"call\",\"_arr\",\"_n\",\"_d\",\"_e\",\"undefined\",\"_i\",\"_s\",\"done\",\"next\",\"push\",\"value\",\"length\",\"err\",\"TypeError\",\"defineProperty\",\"useGizmoContext\",\"GizmoHelper\",\"React\",\"_interopRequireWildcard\",\"__esModule\",\"has\",\"get\",\"newObj\",\"hasPropertyDescriptor\",\"getOwnPropertyDescriptor\",\"key\",\"hasOwnProperty\",\"desc\",\"set\",\"_fiber\",\"_three\",\"_OrthographicCamera\",\"_useCamera\",\"Context\",\"createContext\",\"useContext\",\"turnRate\",\"Math\",\"PI\",\"dummy\",\"Object3D\",\"matrix\",\"Matrix4\",\"q1\",\"Quaternion\",\"q2\",\"target\",\"Vector3\",\"targetPosition\",\"_ref\",\"_ref$alignment\",\"alignment\",\"_ref$margin\",\"margin\",\"onUpdate\",\"onTarget\",\"GizmoHelperComponent\",\"children\",\"size\",\"useThree\",\"_ref2\",\"mainCamera\",\"_ref3\",\"camera\",\"defaultControls\",\"_ref4\",\"controls\",\"gl\",\"_ref5\",\"scene\",\"_ref6\",\"invalidate\",\"_ref7\",\"backgroundRef\",\"useRef\",\"gizmoRef\",\"virtualCam\",\"_React$useState\",\"useState\",\"Scene\",\"virtualScene\",\"_React$useState2\",\"animating\",\"radius\",\"focusPoint\",\"useEffect\",\"background\",\"current\",\"useFrame\",\"_\",\"delta\",\"angleTo\",\"rotateTowards\",\"position\",\"applyQuaternion\",\"multiplyScalar\",\"add\",\"up\",\"normalize\",\"quaternion\",\"copy\",\"update\",\"_gizmoRef$current\",\"invert\",\"setFromRotationMatrix\",\"autoClear\",\"clearDepth\",\"render\",\"gizmoHelperContext\",\"tweenCamera\",\"direction\",\"distanceTo\",\"lookAt\",\"raycast\",\"useCamera\",\"_margin\",\"marginX\",\"marginY\",\"x\",\"endsWith\",\"width\",\"y\",\"startsWith\",\"height\",\"createPortal\",\"createElement\",\"Provider\",\"OrthographicCamera\",\"ref\",\"makeDefault\"]\n}\n"]