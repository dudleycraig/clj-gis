["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/nodes/inputs/ReflectorNode.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$nodes$inputs$ReflectorNode=function(global,require,module,exports){function ReflectorNode(mirror){_TempNode.TempNode.call(this,\"v4\");mirror&&this.setMirror(mirror)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.ReflectorNode=ReflectorNode;var _TempNode=require(\"module$node_modules$three_stdlib$nodes$core$TempNode\"),_InputNode=require(\"module$node_modules$three_stdlib$nodes$core$InputNode\"),_PositionNode=require(\"module$node_modules$three_stdlib$nodes$accessors$PositionNode\"),\n_OperatorNode=require(\"module$node_modules$three_stdlib$nodes$math$OperatorNode\"),_TextureNode=require(\"module$node_modules$three_stdlib$nodes$inputs$TextureNode\"),_Matrix4Node=require(\"module$node_modules$three_stdlib$nodes$inputs$Matrix4Node\");ReflectorNode.prototype=Object.create(_TempNode.TempNode.prototype);ReflectorNode.prototype.constructor=ReflectorNode;ReflectorNode.prototype.nodeType=\"Reflector\";ReflectorNode.prototype.setMirror=function(mirror){this.mirror=mirror;this.textureMatrix=new _Matrix4Node.Matrix4Node(this.mirror.material.uniforms.textureMatrix.value);\nthis.localPosition=new _PositionNode.PositionNode(_PositionNode.PositionNode.LOCAL);this.uv=new _OperatorNode.OperatorNode(this.textureMatrix,this.localPosition,_OperatorNode.OperatorNode.MUL);this.uvResult=new _OperatorNode.OperatorNode(null,this.uv,_OperatorNode.OperatorNode.ADD);this.texture=new _TextureNode.TextureNode(this.mirror.material.uniforms.tDiffuse.value,this.uv,null,!0)};ReflectorNode.prototype.generate=function(builder,output){if(builder.isShader(\"fragment\"))return this.uvResult.a=\nthis.offset,this.texture.uv=this.offset?this.uvResult:this.uv,\"sampler2D\"===output?this.texture.build(builder,output):builder.format(this.texture.build(builder,this.type),this.type,output);console.warn(\"THREE.ReflectorNode is not compatible with \"+builder.shader+\" shader.\");return builder.format(\"vec4( 0.0 )\",this.type,output)};ReflectorNode.prototype.copy=function(source){_InputNode.InputNode.prototype.copy.call(this,source);this.scope.mirror=source.mirror;return this};ReflectorNode.prototype.toJSON=\nfunction(meta){var data=this.getJSONNode(meta);data||(data=this.createJSONNode(meta),data.mirror=this.mirror.uuid,this.offset&&(data.offset=this.offset.toJSON(meta).uuid));return data}}","~:source","shadow$provide[\"module$node_modules$three_stdlib$nodes$inputs$ReflectorNode\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ReflectorNode = ReflectorNode;\n\nvar _TempNode = require(\"../core/TempNode.js\");\n\nvar _InputNode = require(\"../core/InputNode.js\");\n\nvar _PositionNode = require(\"../accessors/PositionNode.js\");\n\nvar _OperatorNode = require(\"../math/OperatorNode.js\");\n\nvar _TextureNode = require(\"./TextureNode.js\");\n\nvar _Matrix4Node = require(\"./Matrix4Node.js\");\n\nfunction ReflectorNode(mirror) {\n  _TempNode.TempNode.call(this, 'v4');\n\n  if (mirror) this.setMirror(mirror);\n}\n\nReflectorNode.prototype = Object.create(_TempNode.TempNode.prototype);\nReflectorNode.prototype.constructor = ReflectorNode;\nReflectorNode.prototype.nodeType = 'Reflector';\n\nReflectorNode.prototype.setMirror = function (mirror) {\n  this.mirror = mirror;\n  this.textureMatrix = new _Matrix4Node.Matrix4Node(this.mirror.material.uniforms.textureMatrix.value);\n  this.localPosition = new _PositionNode.PositionNode(_PositionNode.PositionNode.LOCAL);\n  this.uv = new _OperatorNode.OperatorNode(this.textureMatrix, this.localPosition, _OperatorNode.OperatorNode.MUL);\n  this.uvResult = new _OperatorNode.OperatorNode(null, this.uv, _OperatorNode.OperatorNode.ADD);\n  this.texture = new _TextureNode.TextureNode(this.mirror.material.uniforms.tDiffuse.value, this.uv, null, true);\n};\n\nReflectorNode.prototype.generate = function (builder, output) {\n  if (builder.isShader('fragment')) {\n    this.uvResult.a = this.offset;\n    this.texture.uv = this.offset ? this.uvResult : this.uv;\n\n    if (output === 'sampler2D') {\n      return this.texture.build(builder, output);\n    }\n\n    return builder.format(this.texture.build(builder, this.type), this.type, output);\n  } else {\n    console.warn('THREE.ReflectorNode is not compatible with ' + builder.shader + ' shader.');\n    return builder.format('vec4( 0.0 )', this.type, output);\n  }\n};\n\nReflectorNode.prototype.copy = function (source) {\n  _InputNode.InputNode.prototype.copy.call(this, source);\n\n  this.scope.mirror = source.mirror;\n  return this;\n};\n\nReflectorNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.mirror = this.mirror.uuid;\n    if (this.offset) data.offset = this.offset.toJSON(meta).uuid;\n  }\n\n  return data;\n};\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js","~$module$node_modules$three_stdlib$nodes$inputs$Matrix4Node","~$module$node_modules$three_stdlib$nodes$math$OperatorNode","~$module$node_modules$three_stdlib$nodes$accessors$PositionNode","~$module$node_modules$three_stdlib$nodes$core$InputNode","~$module$node_modules$three_stdlib$nodes$inputs$TextureNode","~$module$node_modules$three_stdlib$nodes$core$TempNode"]],"~:properties",["^5",["uvResult","offset","copy","ReflectorNode","textureMatrix","prototype","texture","setMirror","__esModule","localPosition","generate","nodeType","value","a","mirror","uv","constructor","toJSON"]],"~:compiled-at",1630917515275,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$nodes$inputs$ReflectorNode.js\",\n\"lineCount\":5,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/nodes/inputs/ReflectorNode.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$nodes$inputs$ReflectorNode\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.ReflectorNode = ReflectorNode;\\n\\nvar _TempNode = require(\\\"../core/TempNode.js\\\");\\n\\nvar _InputNode = require(\\\"../core/InputNode.js\\\");\\n\\nvar _PositionNode = require(\\\"../accessors/PositionNode.js\\\");\\n\\nvar _OperatorNode = require(\\\"../math/OperatorNode.js\\\");\\n\\nvar _TextureNode = require(\\\"./TextureNode.js\\\");\\n\\nvar _Matrix4Node = require(\\\"./Matrix4Node.js\\\");\\n\\nfunction ReflectorNode(mirror) {\\n  _TempNode.TempNode.call(this, 'v4');\\n\\n  if (mirror) this.setMirror(mirror);\\n}\\n\\nReflectorNode.prototype = Object.create(_TempNode.TempNode.prototype);\\nReflectorNode.prototype.constructor = ReflectorNode;\\nReflectorNode.prototype.nodeType = 'Reflector';\\n\\nReflectorNode.prototype.setMirror = function (mirror) {\\n  this.mirror = mirror;\\n  this.textureMatrix = new _Matrix4Node.Matrix4Node(this.mirror.material.uniforms.textureMatrix.value);\\n  this.localPosition = new _PositionNode.PositionNode(_PositionNode.PositionNode.LOCAL);\\n  this.uv = new _OperatorNode.OperatorNode(this.textureMatrix, this.localPosition, _OperatorNode.OperatorNode.MUL);\\n  this.uvResult = new _OperatorNode.OperatorNode(null, this.uv, _OperatorNode.OperatorNode.ADD);\\n  this.texture = new _TextureNode.TextureNode(this.mirror.material.uniforms.tDiffuse.value, this.uv, null, true);\\n};\\n\\nReflectorNode.prototype.generate = function (builder, output) {\\n  if (builder.isShader('fragment')) {\\n    this.uvResult.a = this.offset;\\n    this.texture.uv = this.offset ? this.uvResult : this.uv;\\n\\n    if (output === 'sampler2D') {\\n      return this.texture.build(builder, output);\\n    }\\n\\n    return builder.format(this.texture.build(builder, this.type), this.type, output);\\n  } else {\\n    console.warn('THREE.ReflectorNode is not compatible with ' + builder.shader + ' shader.');\\n    return builder.format('vec4( 0.0 )', this.type, output);\\n  }\\n};\\n\\nReflectorNode.prototype.copy = function (source) {\\n  _InputNode.InputNode.prototype.copy.call(this, source);\\n\\n  this.scope.mirror = source.mirror;\\n  return this;\\n};\\n\\nReflectorNode.prototype.toJSON = function (meta) {\\n  var data = this.getJSONNode(meta);\\n\\n  if (!data) {\\n    data = this.createJSONNode(meta);\\n    data.mirror = this.mirror.uuid;\\n    if (this.offset) data.offset = this.offset.toJSON(meta).uuid;\\n  }\\n\\n  return data;\\n};\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"ReflectorNode\",\"mirror\",\"_TempNode\",\"TempNode\",\"call\",\"setMirror\",\"Object\",\"defineProperty\",\"value\",\"_InputNode\",\"_PositionNode\",\"_OperatorNode\",\"_TextureNode\",\"_Matrix4Node\",\"prototype\",\"create\",\"constructor\",\"nodeType\",\"ReflectorNode.prototype.setMirror\",\"textureMatrix\",\"Matrix4Node\",\"material\",\"uniforms\",\"localPosition\",\"PositionNode\",\"LOCAL\",\"uv\",\"OperatorNode\",\"MUL\",\"uvResult\",\"ADD\",\"texture\",\"TextureNode\",\"tDiffuse\",\"generate\",\"ReflectorNode.prototype.generate\",\"builder\",\"output\",\"isShader\",\"a\",\"offset\",\"build\",\"format\",\"type\",\"console\",\"warn\",\"shader\",\"copy\",\"ReflectorNode.prototype.copy\",\"source\",\"InputNode\",\"scope\",\"toJSON\",\"ReflectorNode.prototype.toJSON\",\"meta\",\"data\",\"getJSONNode\",\"createJSONNode\",\"uuid\"]\n}\n"]