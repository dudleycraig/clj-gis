["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/loaders/LUTCubeLoader.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$loaders$LUTCubeLoader=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=\ndescriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};\nreturn _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};\nreturn _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.LUTCubeLoader=void 0;var _three=require(\"module$node_modules$three$build$three_module\");global=function(_Loader){function LUTCubeLoader(){if(!(this instanceof LUTCubeLoader))throw new TypeError(\"Cannot call a class as a function\");var call=_getPrototypeOf(LUTCubeLoader).apply(this,arguments);if(!call||\"object\"!==_typeof(call)&&\"function\"!==typeof call){if(void 0===this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\ncall=this}return call}_inherits(LUTCubeLoader,_Loader);_createClass(LUTCubeLoader,[{key:\"load\",value:function(url,onLoad,onProgress,onError){var _this=this,loader=new _three.FileLoader(this.manager);loader.setPath(this.path);loader.setResponseType(\"text\");loader.load(url,function(text){try{onLoad(_this.parse(text))}catch(e){onError?onError(e):console.error(e),_this.manager.itemError(url)}},onProgress,onError)}},{key:\"parse\",value:function(str){str=str.replace(/^#.*?(\\n|\\r)/gm,\"\").replace(/^\\s*?(\\n|\\r)/gm,\n\"\").trim();var title=null,size=null,domainMin=new _three.Vector3(0,0,0),domainMax=new _three.Vector3(1,1,1),lines=str.split(/[\\n\\r]+/g);str=null;for(var currIndex=0,i=0,l=lines.length;i<l;i++){var line=lines[i].trim(),split=line.split(/\\s/g);switch(split[0]){case \"TITLE\":title=line.substring(7,line.length-1);break;case \"LUT_3D_SIZE\":size=parseFloat(split[1]);str=new Uint8Array(size*size*size*3);break;case \"DOMAIN_MIN\":domainMin.x=parseFloat(split[1]);domainMin.y=parseFloat(split[2]);domainMin.z=parseFloat(split[3]);\nbreak;case \"DOMAIN_MAX\":domainMax.x=parseFloat(split[1]);domainMax.y=parseFloat(split[2]);domainMax.z=parseFloat(split[3]);break;default:line=parseFloat(split[0]);var g=parseFloat(split[1]);split=parseFloat(split[2]);if(1<line||0>line||1<g||0>g||1<split||0>split)throw Error(\"LUTCubeLoader : Non normalized values not supported.\");str[currIndex+0]=255*line;str[currIndex+1]=255*g;str[currIndex+2]=255*split;currIndex+=3}}lines=new _three.DataTexture;lines.image.data=str;lines.image.width=size;lines.image.height=\nsize*size;lines.format=_three.RGBFormat;lines.type=_three.UnsignedByteType;lines.magFilter=_three.LinearFilter;lines.minFilter=_three.LinearFilter;lines.wrapS=_three.ClampToEdgeWrapping;lines.wrapT=_three.ClampToEdgeWrapping;lines.generateMipmaps=!1;currIndex=new _three.DataTexture3D;currIndex.image.data=str;currIndex.image.width=size;currIndex.image.height=size;currIndex.image.depth=size;currIndex.format=_three.RGBFormat;currIndex.type=_three.UnsignedByteType;currIndex.magFilter=_three.LinearFilter;\ncurrIndex.minFilter=_three.LinearFilter;currIndex.wrapS=_three.ClampToEdgeWrapping;currIndex.wrapT=_three.ClampToEdgeWrapping;currIndex.wrapR=_three.ClampToEdgeWrapping;currIndex.generateMipmaps=!1;return{title,size,domainMin,domainMax,texture:lines,texture3D:currIndex}}}]);return LUTCubeLoader}(_three.Loader);exports.LUTCubeLoader=global}","~:source","shadow$provide[\"module$node_modules$three_stdlib$loaders$LUTCubeLoader\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LUTCubeLoader = void 0;\n\nvar _three = require(\"three\");\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n// https://wwwimages2.adobe.com/content/dam/acom/en/products/speedgrade/cc/pdfs/cube-lut-specification-1.0.pdf\nvar LUTCubeLoader =\n/*#__PURE__*/\nfunction (_Loader) {\n  _inherits(LUTCubeLoader, _Loader);\n\n  function LUTCubeLoader() {\n    _classCallCheck(this, LUTCubeLoader);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LUTCubeLoader).apply(this, arguments));\n  }\n\n  _createClass(LUTCubeLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var _this = this;\n\n      var loader = new _three.FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('text');\n      loader.load(url, function (text) {\n        try {\n          onLoad(_this.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          _this.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(str) {\n      // Remove empty lines and comments\n      str = str.replace(/^#.*?(\\n|\\r)/gm, '').replace(/^\\s*?(\\n|\\r)/gm, '').trim();\n      var title = null;\n      var size = null;\n      var domainMin = new _three.Vector3(0, 0, 0);\n      var domainMax = new _three.Vector3(1, 1, 1);\n      var lines = str.split(/[\\n\\r]+/g);\n      var data = null;\n      var currIndex = 0;\n\n      for (var i = 0, l = lines.length; i < l; i++) {\n        var line = lines[i].trim();\n        var split = line.split(/\\s/g);\n\n        switch (split[0]) {\n          case 'TITLE':\n            title = line.substring(7, line.length - 1);\n            break;\n\n          case 'LUT_3D_SIZE':\n            // TODO: A .CUBE LUT file specifies floating point values and could be represented with\n            // more precision than can be captured with Uint8Array.\n            var sizeToken = split[1];\n            size = parseFloat(sizeToken);\n            data = new Uint8Array(size * size * size * 3);\n            break;\n\n          case 'DOMAIN_MIN':\n            domainMin.x = parseFloat(split[1]);\n            domainMin.y = parseFloat(split[2]);\n            domainMin.z = parseFloat(split[3]);\n            break;\n\n          case 'DOMAIN_MAX':\n            domainMax.x = parseFloat(split[1]);\n            domainMax.y = parseFloat(split[2]);\n            domainMax.z = parseFloat(split[3]);\n            break;\n\n          default:\n            var r = parseFloat(split[0]);\n            var g = parseFloat(split[1]);\n            var b = parseFloat(split[2]);\n\n            if (r > 1.0 || r < 0.0 || g > 1.0 || g < 0.0 || b > 1.0 || b < 0.0) {\n              throw new Error('LUTCubeLoader : Non normalized values not supported.');\n            }\n\n            data[currIndex + 0] = r * 255;\n            data[currIndex + 1] = g * 255;\n            data[currIndex + 2] = b * 255;\n            currIndex += 3;\n        }\n      }\n\n      var texture = new _three.DataTexture();\n      texture.image.data = data;\n      texture.image.width = size;\n      texture.image.height = size * size;\n      texture.format = _three.RGBFormat;\n      texture.type = _three.UnsignedByteType;\n      texture.magFilter = _three.LinearFilter;\n      texture.minFilter = _three.LinearFilter;\n      texture.wrapS = _three.ClampToEdgeWrapping;\n      texture.wrapT = _three.ClampToEdgeWrapping;\n      texture.generateMipmaps = false;\n      var texture3D = new _three.DataTexture3D();\n      texture3D.image.data = data;\n      texture3D.image.width = size;\n      texture3D.image.height = size;\n      texture3D.image.depth = size;\n      texture3D.format = _three.RGBFormat;\n      texture3D.type = _three.UnsignedByteType;\n      texture3D.magFilter = _three.LinearFilter;\n      texture3D.minFilter = _three.LinearFilter;\n      texture3D.wrapS = _three.ClampToEdgeWrapping;\n      texture3D.wrapT = _three.ClampToEdgeWrapping;\n      texture3D.wrapR = _three.ClampToEdgeWrapping;\n      texture3D.generateMipmaps = false;\n      return {\n        title: title,\n        size: size,\n        domainMin: domainMin,\n        domainMax: domainMax,\n        texture: texture,\n        texture3D: texture3D\n      };\n    }\n  }]);\n\n  return LUTCubeLoader;\n}(_three.Loader);\n\nexports.LUTCubeLoader = LUTCubeLoader;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js"]],"~:properties",["^5",["domainMax","z","wrapS","wrapR","width","prototype","height","LUTCubeLoader","texture","domainMin","key","x","__esModule","configurable","value","enumerable","magFilter","writable","title","type","y","wrapT","depth","__proto__","generateMipmaps","size","texture3D","minFilter","data","format","constructor"]],"~:compiled-at",1630917515604,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$loaders$LUTCubeLoader.js\",\n\"lineCount\":9,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/loaders/LUTCubeLoader.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$loaders$LUTCubeLoader\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.LUTCubeLoader = void 0;\\n\\nvar _three = require(\\\"three\\\");\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\n// https://wwwimages2.adobe.com/content/dam/acom/en/products/speedgrade/cc/pdfs/cube-lut-specification-1.0.pdf\\nvar LUTCubeLoader =\\n/*#__PURE__*/\\nfunction (_Loader) {\\n  _inherits(LUTCubeLoader, _Loader);\\n\\n  function LUTCubeLoader() {\\n    _classCallCheck(this, LUTCubeLoader);\\n\\n    return _possibleConstructorReturn(this, _getPrototypeOf(LUTCubeLoader).apply(this, arguments));\\n  }\\n\\n  _createClass(LUTCubeLoader, [{\\n    key: \\\"load\\\",\\n    value: function load(url, onLoad, onProgress, onError) {\\n      var _this = this;\\n\\n      var loader = new _three.FileLoader(this.manager);\\n      loader.setPath(this.path);\\n      loader.setResponseType('text');\\n      loader.load(url, function (text) {\\n        try {\\n          onLoad(_this.parse(text));\\n        } catch (e) {\\n          if (onError) {\\n            onError(e);\\n          } else {\\n            console.error(e);\\n          }\\n\\n          _this.manager.itemError(url);\\n        }\\n      }, onProgress, onError);\\n    }\\n  }, {\\n    key: \\\"parse\\\",\\n    value: function parse(str) {\\n      // Remove empty lines and comments\\n      str = str.replace(/^#.*?(\\\\n|\\\\r)/gm, '').replace(/^\\\\s*?(\\\\n|\\\\r)/gm, '').trim();\\n      var title = null;\\n      var size = null;\\n      var domainMin = new _three.Vector3(0, 0, 0);\\n      var domainMax = new _three.Vector3(1, 1, 1);\\n      var lines = str.split(/[\\\\n\\\\r]+/g);\\n      var data = null;\\n      var currIndex = 0;\\n\\n      for (var i = 0, l = lines.length; i < l; i++) {\\n        var line = lines[i].trim();\\n        var split = line.split(/\\\\s/g);\\n\\n        switch (split[0]) {\\n          case 'TITLE':\\n            title = line.substring(7, line.length - 1);\\n            break;\\n\\n          case 'LUT_3D_SIZE':\\n            // TODO: A .CUBE LUT file specifies floating point values and could be represented with\\n            // more precision than can be captured with Uint8Array.\\n            var sizeToken = split[1];\\n            size = parseFloat(sizeToken);\\n            data = new Uint8Array(size * size * size * 3);\\n            break;\\n\\n          case 'DOMAIN_MIN':\\n            domainMin.x = parseFloat(split[1]);\\n            domainMin.y = parseFloat(split[2]);\\n            domainMin.z = parseFloat(split[3]);\\n            break;\\n\\n          case 'DOMAIN_MAX':\\n            domainMax.x = parseFloat(split[1]);\\n            domainMax.y = parseFloat(split[2]);\\n            domainMax.z = parseFloat(split[3]);\\n            break;\\n\\n          default:\\n            var r = parseFloat(split[0]);\\n            var g = parseFloat(split[1]);\\n            var b = parseFloat(split[2]);\\n\\n            if (r > 1.0 || r < 0.0 || g > 1.0 || g < 0.0 || b > 1.0 || b < 0.0) {\\n              throw new Error('LUTCubeLoader : Non normalized values not supported.');\\n            }\\n\\n            data[currIndex + 0] = r * 255;\\n            data[currIndex + 1] = g * 255;\\n            data[currIndex + 2] = b * 255;\\n            currIndex += 3;\\n        }\\n      }\\n\\n      var texture = new _three.DataTexture();\\n      texture.image.data = data;\\n      texture.image.width = size;\\n      texture.image.height = size * size;\\n      texture.format = _three.RGBFormat;\\n      texture.type = _three.UnsignedByteType;\\n      texture.magFilter = _three.LinearFilter;\\n      texture.minFilter = _three.LinearFilter;\\n      texture.wrapS = _three.ClampToEdgeWrapping;\\n      texture.wrapT = _three.ClampToEdgeWrapping;\\n      texture.generateMipmaps = false;\\n      var texture3D = new _three.DataTexture3D();\\n      texture3D.image.data = data;\\n      texture3D.image.width = size;\\n      texture3D.image.height = size;\\n      texture3D.image.depth = size;\\n      texture3D.format = _three.RGBFormat;\\n      texture3D.type = _three.UnsignedByteType;\\n      texture3D.magFilter = _three.LinearFilter;\\n      texture3D.minFilter = _three.LinearFilter;\\n      texture3D.wrapS = _three.ClampToEdgeWrapping;\\n      texture3D.wrapT = _three.ClampToEdgeWrapping;\\n      texture3D.wrapR = _three.ClampToEdgeWrapping;\\n      texture3D.generateMipmaps = false;\\n      return {\\n        title: title,\\n        size: size,\\n        domainMin: domainMin,\\n        domainMax: domainMax,\\n        texture: texture,\\n        texture3D: texture3D\\n      };\\n    }\\n  }]);\\n\\n  return LUTCubeLoader;\\n}(_three.Loader);\\n\\nexports.LUTCubeLoader = LUTCubeLoader;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"Object\",\"defineProperty\",\"key\",\"_createClass\",\"Constructor\",\"protoProps\",\"staticProps\",\"_getPrototypeOf\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_inherits\",\"subClass\",\"superClass\",\"TypeError\",\"create\",\"value\",\"_setPrototypeOf\",\"p\",\"LUTCubeLoader\",\"_three\",\"_Loader\",\"instance\",\"apply\",\"arguments\",\"call\",\"self\",\"ReferenceError\",\"load\",\"url\",\"onLoad\",\"onProgress\",\"onError\",\"_this\",\"loader\",\"FileLoader\",\"manager\",\"setPath\",\"path\",\"setResponseType\",\"text\",\"parse\",\"e\",\"console\",\"error\",\"itemError\",\"str\",\"replace\",\"trim\",\"title\",\"size\",\"domainMin\",\"Vector3\",\"domainMax\",\"lines\",\"split\",\"data\",\"currIndex\",\"l\",\"line\",\"substring\",\"parseFloat\",\"sizeToken\",\"Uint8Array\",\"x\",\"y\",\"z\",\"r\",\"g\",\"b\",\"Error\",\"texture\",\"DataTexture\",\"image\",\"width\",\"height\",\"format\",\"RGBFormat\",\"type\",\"UnsignedByteType\",\"magFilter\",\"LinearFilter\",\"minFilter\",\"wrapS\",\"ClampToEdgeWrapping\",\"wrapT\",\"generateMipmaps\",\"texture3D\",\"DataTexture3D\",\"depth\",\"wrapR\",\"Loader\"]\n}\n"]