["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-mesh-bvh/src/MeshBVHVisualizer.js"],"~:js","shadow$provide.module$node_modules$three_mesh_bvh$src$MeshBVHVisualizer=function(global,require,module,exports){function _get(target$jscomp$0,property$jscomp$0,receiver$jscomp$0){_get=\"undefined\"!==typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){for(;!Object.prototype.hasOwnProperty.call(target,property)&&(target=_getPrototypeOf(target),null!==target););if(target)return property=Object.getOwnPropertyDescriptor(target,property),property.get?property.get.call(receiver):property.value};\nreturn _get(target$jscomp$0,property$jscomp$0,receiver$jscomp$0||target$jscomp$0)}function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\");\n}function _possibleConstructorReturn(self,call){if(call&&(\"object\"===_typeof(call)||\"function\"===typeof call))return call;if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=\nprops[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");\nsubClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports[\"default\"]=void 0;var _three=require(\"module$node_modules$three$build$three_module\"),_ArrayBoxUtilities=\nrequire(\"module$node_modules$three_mesh_bvh$src$Utils$ArrayBoxUtilities\"),boundingBox=new _three.Box3,MeshBVHRootVisualizer=function(_Object3D){function MeshBVHRootVisualizer(mesh,material){var depth=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,group=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck(this,MeshBVHRootVisualizer);var _this=_possibleConstructorReturn(this,_getPrototypeOf(MeshBVHRootVisualizer).call(this));_this.material=material;_this.geometry=new _three.BufferGeometry;\n_this.name=\"MeshBVHRootVisualizer\";_this.depth=depth;_this.displayParents=!1;_this.mesh=mesh;_this.displayEdges=!0;_this._group=group;return _this}_inherits(MeshBVHRootVisualizer,_Object3D);_createClass(MeshBVHRootVisualizer,[{key:\"isMesh\",get:function(){return!this.displayEdges}},{key:\"isLineSegments\",get:function(){return this.displayEdges}},{key:\"isLine\",get:function(){return this.displayEdges}}]);_createClass(MeshBVHRootVisualizer,[{key:\"raycast\",value:function(){}},{key:\"update\",value:function(){var geometry=\nthis.geometry,boundsTree=this.mesh.geometry.boundsTree,group=this._group;geometry.dispose();this.visible=!1;if(boundsTree){var targetDepth=this.depth-1,displayParents=this.displayParents,boundsCount=0;boundsTree.traverse(function(depth,isLeaf){if(depth===targetDepth||isLeaf)return boundsCount++,!0;displayParents&&boundsCount++},group);var posIndex=0,positionArray=new Float32Array(24*boundsCount);boundsTree.traverse(function(depth,isLeaf,boundingData){if((depth=depth===targetDepth||isLeaf)||displayParents){(0,\n_ArrayBoxUtilities.arrayToBox)(boundingData,boundingBox);boundingData=boundingBox.min;isLeaf=boundingBox.max;for(var x=-1;1>=x;x+=2)for(var xVal=0>x?boundingData.x:isLeaf.x,y=-1;1>=y;y+=2)for(var yVal=0>y?boundingData.y:isLeaf.y,z=-1;1>=z;z+=2){var zVal=0>z?boundingData.z:isLeaf.z;positionArray[posIndex+0]=xVal;positionArray[posIndex+1]=yVal;positionArray[posIndex+2]=zVal;posIndex+=3}return depth}},group);group=this.displayEdges?new Uint8Array([0,4,1,5,2,6,3,7,0,2,1,3,4,6,5,7,0,1,2,3,4,5,6,7]):new Uint8Array([0,\n1,2,2,1,3,4,6,5,6,7,5,1,4,5,0,4,1,2,3,6,3,7,6,0,2,4,2,6,4,1,5,3,3,5,7]);boundsTree=65535<positionArray.length?new Uint32Array(group.length*boundsCount):new Uint16Array(group.length*boundsCount);for(var indexLength=group.length,i=0;i<boundsCount;i++)for(var posOffset=8*i,indexOffset=i*indexLength,j=0;j<indexLength;j++)boundsTree[indexOffset+j]=posOffset+group[j];geometry.setIndex(new _three.BufferAttribute(boundsTree,1,!1));geometry.setAttribute(\"position\",new _three.BufferAttribute(positionArray,\n3,!1));this.visible=!0}}}]);return MeshBVHRootVisualizer}(_three.Object3D);global=function(_Group){function MeshBVHVisualizer(mesh){var depth=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;_classCallCheck(this,MeshBVHVisualizer);var _this2=_possibleConstructorReturn(this,_getPrototypeOf(MeshBVHVisualizer).call(this));_this2.name=\"MeshBVHVisualizer\";_this2.depth=depth;_this2.mesh=mesh;_this2.displayParents=!1;_this2.displayEdges=!0;_this2._roots=[];depth=new _three.LineBasicMaterial({color:65416,\ntransparent:!0,opacity:.3,depthWrite:!1});var meshMaterial=new _three.MeshBasicMaterial({color:65416,transparent:!0,opacity:.3,depthWrite:!1});meshMaterial.color=depth.color;_this2.edgeMaterial=depth;_this2.meshMaterial=meshMaterial;_this2.update();return _this2}_inherits(MeshBVHVisualizer,_Group);_createClass(MeshBVHVisualizer,[{key:\"color\",get:function(){return this.edgeMaterial.color}},{key:\"opacity\",get:function(){return this.edgeMaterial.opacity},set:function(v){this.edgeMaterial.opacity=v;this.meshMaterial.opacity=\nv}}]);_createClass(MeshBVHVisualizer,[{key:\"update\",value:function(){var bvh=this.mesh.geometry.boundsTree;for(bvh=bvh?bvh._roots.length:0;this._roots.length>bvh;)this._roots.pop();for(var i=0;i<bvh;i++){if(i>=this._roots.length){var _root=new MeshBVHRootVisualizer(this.mesh,this.edgeMaterial,this.depth,i);this.add(_root);this._roots.push(_root)}_root=this._roots[i];_root.depth=this.depth;_root.mesh=this.mesh;_root.displayParents=this.displayParents;_root.displayEdges=this.displayEdges;_root.material=\nthis.displayEdges?this.edgeMaterial:this.meshMaterial;_root.update()}}},{key:\"updateMatrixWorld\",value:function(){var _get2;this.position.copy(this.mesh.position);this.rotation.copy(this.mesh.rotation);this.scale.copy(this.mesh.scale);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(_get2=_get(_getPrototypeOf(MeshBVHVisualizer.prototype),\"updateMatrixWorld\",this)).call.apply(_get2,[this].concat(args))}},{key:\"copy\",value:function(source){this.depth=\nsource.depth;this.mesh=source.mesh}},{key:\"clone\",value:function(){return new MeshBVHVisualizer(this.mesh,this.depth)}},{key:\"dispose\",value:function(){this.edgeMaterial.dispose();this.meshMaterial.dispose();for(var children=this.children,i=0,l=children.length;i<l;i++)children[i].geometry.dispose()}}]);return MeshBVHVisualizer}(_three.Group);exports[\"default\"]=global}","~:source","shadow$provide[\"module$node_modules$three_mesh_bvh$src$MeshBVHVisualizer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _three = require(\"three\");\n\nvar _ArrayBoxUtilities = require(\"./Utils/ArrayBoxUtilities.js\");\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar boundingBox = new _three.Box3();\n\nvar MeshBVHRootVisualizer =\n/*#__PURE__*/\nfunction (_Object3D) {\n  _inherits(MeshBVHRootVisualizer, _Object3D);\n\n  _createClass(MeshBVHRootVisualizer, [{\n    key: \"isMesh\",\n    get: function get() {\n      return !this.displayEdges;\n    }\n  }, {\n    key: \"isLineSegments\",\n    get: function get() {\n      return this.displayEdges;\n    }\n  }, {\n    key: \"isLine\",\n    get: function get() {\n      return this.displayEdges;\n    }\n  }]);\n\n  function MeshBVHRootVisualizer(mesh, material) {\n    var _this;\n\n    var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n    var group = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    _classCallCheck(this, MeshBVHRootVisualizer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MeshBVHRootVisualizer).call(this));\n    _this.material = material;\n    _this.geometry = new _three.BufferGeometry();\n    _this.name = 'MeshBVHRootVisualizer';\n    _this.depth = depth;\n    _this.displayParents = false;\n    _this.mesh = mesh;\n    _this.displayEdges = true;\n    _this._group = group;\n    return _this;\n  }\n\n  _createClass(MeshBVHRootVisualizer, [{\n    key: \"raycast\",\n    value: function raycast() {}\n  }, {\n    key: \"update\",\n    value: function update() {\n      var geometry = this.geometry;\n      var boundsTree = this.mesh.geometry.boundsTree;\n      var group = this._group;\n      geometry.dispose();\n      this.visible = false;\n\n      if (boundsTree) {\n        // count the number of bounds required\n        var targetDepth = this.depth - 1;\n        var displayParents = this.displayParents;\n        var boundsCount = 0;\n        boundsTree.traverse(function (depth, isLeaf) {\n          if (depth === targetDepth || isLeaf) {\n            boundsCount++;\n            return true;\n          } else if (displayParents) {\n            boundsCount++;\n          }\n        }, group); // fill in the position buffer with the bounds corners\n\n        var posIndex = 0;\n        var positionArray = new Float32Array(8 * 3 * boundsCount);\n        boundsTree.traverse(function (depth, isLeaf, boundingData) {\n          var terminate = depth === targetDepth || isLeaf;\n\n          if (terminate || displayParents) {\n            (0, _ArrayBoxUtilities.arrayToBox)(boundingData, boundingBox);\n            var min = boundingBox.min,\n                max = boundingBox.max;\n\n            for (var x = -1; x <= 1; x += 2) {\n              var xVal = x < 0 ? min.x : max.x;\n\n              for (var y = -1; y <= 1; y += 2) {\n                var yVal = y < 0 ? min.y : max.y;\n\n                for (var z = -1; z <= 1; z += 2) {\n                  var zVal = z < 0 ? min.z : max.z;\n                  positionArray[posIndex + 0] = xVal;\n                  positionArray[posIndex + 1] = yVal;\n                  positionArray[posIndex + 2] = zVal;\n                  posIndex += 3;\n                }\n              }\n            }\n\n            return terminate;\n          }\n        }, group);\n        var indexArray;\n        var indices;\n\n        if (this.displayEdges) {\n          // fill in the index buffer to point to the corner points\n          indices = new Uint8Array([// x axis\n          0, 4, 1, 5, 2, 6, 3, 7, // y axis\n          0, 2, 1, 3, 4, 6, 5, 7, // z axis\n          0, 1, 2, 3, 4, 5, 6, 7]);\n        } else {\n          indices = new Uint8Array([// X-, X+\n          0, 1, 2, 2, 1, 3, 4, 6, 5, 6, 7, 5, // Y-, Y+\n          1, 4, 5, 0, 4, 1, 2, 3, 6, 3, 7, 6, // Z-, Z+\n          0, 2, 4, 2, 6, 4, 1, 5, 3, 3, 5, 7]);\n        }\n\n        if (positionArray.length > 65535) {\n          indexArray = new Uint32Array(indices.length * boundsCount);\n        } else {\n          indexArray = new Uint16Array(indices.length * boundsCount);\n        }\n\n        var indexLength = indices.length;\n\n        for (var i = 0; i < boundsCount; i++) {\n          var posOffset = i * 8;\n          var indexOffset = i * indexLength;\n\n          for (var j = 0; j < indexLength; j++) {\n            indexArray[indexOffset + j] = posOffset + indices[j];\n          }\n        } // update the geometry\n\n\n        geometry.setIndex(new _three.BufferAttribute(indexArray, 1, false));\n        geometry.setAttribute('position', new _three.BufferAttribute(positionArray, 3, false));\n        this.visible = true;\n      }\n    }\n  }]);\n\n  return MeshBVHRootVisualizer;\n}(_three.Object3D);\n\nvar MeshBVHVisualizer =\n/*#__PURE__*/\nfunction (_Group) {\n  _inherits(MeshBVHVisualizer, _Group);\n\n  _createClass(MeshBVHVisualizer, [{\n    key: \"color\",\n    get: function get() {\n      return this.edgeMaterial.color;\n    }\n  }, {\n    key: \"opacity\",\n    get: function get() {\n      return this.edgeMaterial.opacity;\n    },\n    set: function set(v) {\n      this.edgeMaterial.opacity = v;\n      this.meshMaterial.opacity = v;\n    }\n  }]);\n\n  function MeshBVHVisualizer(mesh) {\n    var _this2;\n\n    var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n\n    _classCallCheck(this, MeshBVHVisualizer);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(MeshBVHVisualizer).call(this));\n    _this2.name = 'MeshBVHVisualizer';\n    _this2.depth = depth;\n    _this2.mesh = mesh;\n    _this2.displayParents = false;\n    _this2.displayEdges = true;\n    _this2._roots = [];\n    var edgeMaterial = new _three.LineBasicMaterial({\n      color: 0x00FF88,\n      transparent: true,\n      opacity: 0.3,\n      depthWrite: false\n    });\n    var meshMaterial = new _three.MeshBasicMaterial({\n      color: 0x00FF88,\n      transparent: true,\n      opacity: 0.3,\n      depthWrite: false\n    });\n    meshMaterial.color = edgeMaterial.color;\n    _this2.edgeMaterial = edgeMaterial;\n    _this2.meshMaterial = meshMaterial;\n\n    _this2.update();\n\n    return _this2;\n  }\n\n  _createClass(MeshBVHVisualizer, [{\n    key: \"update\",\n    value: function update() {\n      var bvh = this.mesh.geometry.boundsTree;\n      var totalRoots = bvh ? bvh._roots.length : 0;\n\n      while (this._roots.length > totalRoots) {\n        this._roots.pop();\n      }\n\n      for (var i = 0; i < totalRoots; i++) {\n        if (i >= this._roots.length) {\n          var _root = new MeshBVHRootVisualizer(this.mesh, this.edgeMaterial, this.depth, i);\n\n          this.add(_root);\n\n          this._roots.push(_root);\n        }\n\n        var root = this._roots[i];\n        root.depth = this.depth;\n        root.mesh = this.mesh;\n        root.displayParents = this.displayParents;\n        root.displayEdges = this.displayEdges;\n        root.material = this.displayEdges ? this.edgeMaterial : this.meshMaterial;\n        root.update();\n      }\n    }\n  }, {\n    key: \"updateMatrixWorld\",\n    value: function updateMatrixWorld() {\n      var _get2;\n\n      this.position.copy(this.mesh.position);\n      this.rotation.copy(this.mesh.rotation);\n      this.scale.copy(this.mesh.scale);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      (_get2 = _get(_getPrototypeOf(MeshBVHVisualizer.prototype), \"updateMatrixWorld\", this)).call.apply(_get2, [this].concat(args));\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(source) {\n      this.depth = source.depth;\n      this.mesh = source.mesh;\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      return new MeshBVHVisualizer(this.mesh, this.depth);\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.edgeMaterial.dispose();\n      this.meshMaterial.dispose();\n      var children = this.children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].geometry.dispose();\n      }\n    }\n  }]);\n\n  return MeshBVHVisualizer;\n}(_three.Group);\n\nvar _default = MeshBVHVisualizer;\nexports[\"default\"] = _default;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$module$node_modules$three_mesh_bvh$src$Utils$ArrayBoxUtilities","~$shadow.js"]],"~:properties",["^5",["_group","prototype","transparent","key","meshMaterial","__esModule","_roots","name","configurable","value","visible","geometry","enumerable","writable","mesh","depth","__proto__","depthWrite","displayEdges","set","edgeMaterial","displayParents","get","color","opacity","constructor","material"]],"~:compiled-at",1630917516188,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_mesh_bvh$src$MeshBVHVisualizer.js\",\n\"lineCount\":15,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-mesh-bvh/src/MeshBVHVisualizer.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_mesh_bvh$src$MeshBVHVisualizer\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports[\\\"default\\\"] = void 0;\\n\\nvar _three = require(\\\"three\\\");\\n\\nvar _ArrayBoxUtilities = require(\\\"./Utils/ArrayBoxUtilities.js\\\");\\n\\nfunction _get(target, property, receiver) { if (typeof Reflect !== \\\"undefined\\\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\\n\\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\nvar boundingBox = new _three.Box3();\\n\\nvar MeshBVHRootVisualizer =\\n/*#__PURE__*/\\nfunction (_Object3D) {\\n  _inherits(MeshBVHRootVisualizer, _Object3D);\\n\\n  _createClass(MeshBVHRootVisualizer, [{\\n    key: \\\"isMesh\\\",\\n    get: function get() {\\n      return !this.displayEdges;\\n    }\\n  }, {\\n    key: \\\"isLineSegments\\\",\\n    get: function get() {\\n      return this.displayEdges;\\n    }\\n  }, {\\n    key: \\\"isLine\\\",\\n    get: function get() {\\n      return this.displayEdges;\\n    }\\n  }]);\\n\\n  function MeshBVHRootVisualizer(mesh, material) {\\n    var _this;\\n\\n    var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\\n    var group = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\\n\\n    _classCallCheck(this, MeshBVHRootVisualizer);\\n\\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MeshBVHRootVisualizer).call(this));\\n    _this.material = material;\\n    _this.geometry = new _three.BufferGeometry();\\n    _this.name = 'MeshBVHRootVisualizer';\\n    _this.depth = depth;\\n    _this.displayParents = false;\\n    _this.mesh = mesh;\\n    _this.displayEdges = true;\\n    _this._group = group;\\n    return _this;\\n  }\\n\\n  _createClass(MeshBVHRootVisualizer, [{\\n    key: \\\"raycast\\\",\\n    value: function raycast() {}\\n  }, {\\n    key: \\\"update\\\",\\n    value: function update() {\\n      var geometry = this.geometry;\\n      var boundsTree = this.mesh.geometry.boundsTree;\\n      var group = this._group;\\n      geometry.dispose();\\n      this.visible = false;\\n\\n      if (boundsTree) {\\n        // count the number of bounds required\\n        var targetDepth = this.depth - 1;\\n        var displayParents = this.displayParents;\\n        var boundsCount = 0;\\n        boundsTree.traverse(function (depth, isLeaf) {\\n          if (depth === targetDepth || isLeaf) {\\n            boundsCount++;\\n            return true;\\n          } else if (displayParents) {\\n            boundsCount++;\\n          }\\n        }, group); // fill in the position buffer with the bounds corners\\n\\n        var posIndex = 0;\\n        var positionArray = new Float32Array(8 * 3 * boundsCount);\\n        boundsTree.traverse(function (depth, isLeaf, boundingData) {\\n          var terminate = depth === targetDepth || isLeaf;\\n\\n          if (terminate || displayParents) {\\n            (0, _ArrayBoxUtilities.arrayToBox)(boundingData, boundingBox);\\n            var min = boundingBox.min,\\n                max = boundingBox.max;\\n\\n            for (var x = -1; x <= 1; x += 2) {\\n              var xVal = x < 0 ? min.x : max.x;\\n\\n              for (var y = -1; y <= 1; y += 2) {\\n                var yVal = y < 0 ? min.y : max.y;\\n\\n                for (var z = -1; z <= 1; z += 2) {\\n                  var zVal = z < 0 ? min.z : max.z;\\n                  positionArray[posIndex + 0] = xVal;\\n                  positionArray[posIndex + 1] = yVal;\\n                  positionArray[posIndex + 2] = zVal;\\n                  posIndex += 3;\\n                }\\n              }\\n            }\\n\\n            return terminate;\\n          }\\n        }, group);\\n        var indexArray;\\n        var indices;\\n\\n        if (this.displayEdges) {\\n          // fill in the index buffer to point to the corner points\\n          indices = new Uint8Array([// x axis\\n          0, 4, 1, 5, 2, 6, 3, 7, // y axis\\n          0, 2, 1, 3, 4, 6, 5, 7, // z axis\\n          0, 1, 2, 3, 4, 5, 6, 7]);\\n        } else {\\n          indices = new Uint8Array([// X-, X+\\n          0, 1, 2, 2, 1, 3, 4, 6, 5, 6, 7, 5, // Y-, Y+\\n          1, 4, 5, 0, 4, 1, 2, 3, 6, 3, 7, 6, // Z-, Z+\\n          0, 2, 4, 2, 6, 4, 1, 5, 3, 3, 5, 7]);\\n        }\\n\\n        if (positionArray.length > 65535) {\\n          indexArray = new Uint32Array(indices.length * boundsCount);\\n        } else {\\n          indexArray = new Uint16Array(indices.length * boundsCount);\\n        }\\n\\n        var indexLength = indices.length;\\n\\n        for (var i = 0; i < boundsCount; i++) {\\n          var posOffset = i * 8;\\n          var indexOffset = i * indexLength;\\n\\n          for (var j = 0; j < indexLength; j++) {\\n            indexArray[indexOffset + j] = posOffset + indices[j];\\n          }\\n        } // update the geometry\\n\\n\\n        geometry.setIndex(new _three.BufferAttribute(indexArray, 1, false));\\n        geometry.setAttribute('position', new _three.BufferAttribute(positionArray, 3, false));\\n        this.visible = true;\\n      }\\n    }\\n  }]);\\n\\n  return MeshBVHRootVisualizer;\\n}(_three.Object3D);\\n\\nvar MeshBVHVisualizer =\\n/*#__PURE__*/\\nfunction (_Group) {\\n  _inherits(MeshBVHVisualizer, _Group);\\n\\n  _createClass(MeshBVHVisualizer, [{\\n    key: \\\"color\\\",\\n    get: function get() {\\n      return this.edgeMaterial.color;\\n    }\\n  }, {\\n    key: \\\"opacity\\\",\\n    get: function get() {\\n      return this.edgeMaterial.opacity;\\n    },\\n    set: function set(v) {\\n      this.edgeMaterial.opacity = v;\\n      this.meshMaterial.opacity = v;\\n    }\\n  }]);\\n\\n  function MeshBVHVisualizer(mesh) {\\n    var _this2;\\n\\n    var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\\n\\n    _classCallCheck(this, MeshBVHVisualizer);\\n\\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(MeshBVHVisualizer).call(this));\\n    _this2.name = 'MeshBVHVisualizer';\\n    _this2.depth = depth;\\n    _this2.mesh = mesh;\\n    _this2.displayParents = false;\\n    _this2.displayEdges = true;\\n    _this2._roots = [];\\n    var edgeMaterial = new _three.LineBasicMaterial({\\n      color: 0x00FF88,\\n      transparent: true,\\n      opacity: 0.3,\\n      depthWrite: false\\n    });\\n    var meshMaterial = new _three.MeshBasicMaterial({\\n      color: 0x00FF88,\\n      transparent: true,\\n      opacity: 0.3,\\n      depthWrite: false\\n    });\\n    meshMaterial.color = edgeMaterial.color;\\n    _this2.edgeMaterial = edgeMaterial;\\n    _this2.meshMaterial = meshMaterial;\\n\\n    _this2.update();\\n\\n    return _this2;\\n  }\\n\\n  _createClass(MeshBVHVisualizer, [{\\n    key: \\\"update\\\",\\n    value: function update() {\\n      var bvh = this.mesh.geometry.boundsTree;\\n      var totalRoots = bvh ? bvh._roots.length : 0;\\n\\n      while (this._roots.length > totalRoots) {\\n        this._roots.pop();\\n      }\\n\\n      for (var i = 0; i < totalRoots; i++) {\\n        if (i >= this._roots.length) {\\n          var _root = new MeshBVHRootVisualizer(this.mesh, this.edgeMaterial, this.depth, i);\\n\\n          this.add(_root);\\n\\n          this._roots.push(_root);\\n        }\\n\\n        var root = this._roots[i];\\n        root.depth = this.depth;\\n        root.mesh = this.mesh;\\n        root.displayParents = this.displayParents;\\n        root.displayEdges = this.displayEdges;\\n        root.material = this.displayEdges ? this.edgeMaterial : this.meshMaterial;\\n        root.update();\\n      }\\n    }\\n  }, {\\n    key: \\\"updateMatrixWorld\\\",\\n    value: function updateMatrixWorld() {\\n      var _get2;\\n\\n      this.position.copy(this.mesh.position);\\n      this.rotation.copy(this.mesh.rotation);\\n      this.scale.copy(this.mesh.scale);\\n\\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\\n        args[_key] = arguments[_key];\\n      }\\n\\n      (_get2 = _get(_getPrototypeOf(MeshBVHVisualizer.prototype), \\\"updateMatrixWorld\\\", this)).call.apply(_get2, [this].concat(args));\\n    }\\n  }, {\\n    key: \\\"copy\\\",\\n    value: function copy(source) {\\n      this.depth = source.depth;\\n      this.mesh = source.mesh;\\n    }\\n  }, {\\n    key: \\\"clone\\\",\\n    value: function clone() {\\n      return new MeshBVHVisualizer(this.mesh, this.depth);\\n    }\\n  }, {\\n    key: \\\"dispose\\\",\\n    value: function dispose() {\\n      this.edgeMaterial.dispose();\\n      this.meshMaterial.dispose();\\n      var children = this.children;\\n\\n      for (var i = 0, l = children.length; i < l; i++) {\\n        children[i].geometry.dispose();\\n      }\\n    }\\n  }]);\\n\\n  return MeshBVHVisualizer;\\n}(_three.Group);\\n\\nvar _default = MeshBVHVisualizer;\\nexports[\\\"default\\\"] = _default;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_get\",\"target\",\"property\",\"receiver\",\"Reflect\",\"get\",\"Object\",\"prototype\",\"hasOwnProperty\",\"call\",\"object\",\"_getPrototypeOf\",\"base\",\"desc\",\"getOwnPropertyDescriptor\",\"value\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"_classCallCheck\",\"instance\",\"Constructor\",\"TypeError\",\"_possibleConstructorReturn\",\"self\",\"ReferenceError\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_defineProperties\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"defineProperty\",\"key\",\"_createClass\",\"protoProps\",\"staticProps\",\"_inherits\",\"subClass\",\"superClass\",\"create\",\"_setPrototypeOf\",\"p\",\"_three\",\"_ArrayBoxUtilities\",\"boundingBox\",\"Box3\",\"MeshBVHRootVisualizer\",\"_Object3D\",\"mesh\",\"material\",\"depth\",\"arguments\",\"undefined\",\"group\",\"_this\",\"geometry\",\"BufferGeometry\",\"name\",\"displayParents\",\"displayEdges\",\"_group\",\"raycast\",\"update\",\"boundsTree\",\"dispose\",\"visible\",\"targetDepth\",\"boundsCount\",\"traverse\",\"isLeaf\",\"posIndex\",\"positionArray\",\"Float32Array\",\"boundingData\",\"terminate\",\"arrayToBox\",\"min\",\"max\",\"x\",\"xVal\",\"y\",\"yVal\",\"z\",\"zVal\",\"indices\",\"Uint8Array\",\"indexArray\",\"Uint32Array\",\"Uint16Array\",\"indexLength\",\"posOffset\",\"indexOffset\",\"j\",\"setIndex\",\"BufferAttribute\",\"setAttribute\",\"Object3D\",\"MeshBVHVisualizer\",\"_Group\",\"_this2\",\"_roots\",\"edgeMaterial\",\"LineBasicMaterial\",\"color\",\"transparent\",\"opacity\",\"depthWrite\",\"meshMaterial\",\"MeshBasicMaterial\",\"set\",\"v\",\"bvh\",\"totalRoots\",\"pop\",\"_root\",\"add\",\"push\",\"root\",\"updateMatrixWorld\",\"_get2\",\"position\",\"copy\",\"rotation\",\"scale\",\"_len\",\"args\",\"Array\",\"_key\",\"apply\",\"concat\",\"source\",\"clone\",\"children\",\"l\",\"Group\"]\n}\n"]