["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/loaders/LUT3dlLoader.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$loaders$LUT3dlLoader=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=\ndescriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};\nreturn _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};\nreturn _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.LUT3dlLoader=void 0;var _three=require(\"module$node_modules$three$build$three_module\");global=function(_Loader){function LUT3dlLoader(){if(!(this instanceof LUT3dlLoader))throw new TypeError(\"Cannot call a class as a function\");var call=_getPrototypeOf(LUT3dlLoader).apply(this,arguments);if(!call||\"object\"!==_typeof(call)&&\"function\"!==typeof call){if(void 0===this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\ncall=this}return call}_inherits(LUT3dlLoader,_Loader);_createClass(LUT3dlLoader,[{key:\"load\",value:function(url,onLoad,onProgress,onError){var _this=this,loader=new _three.FileLoader(this.manager);loader.setPath(this.path);loader.setResponseType(\"text\");loader.load(url,function(text){try{onLoad(_this.parse(text))}catch(e){onError?onError(e):console.error(e),_this.manager.itemError(url)}},onProgress,onError)}},{key:\"parse\",value:function(str){str=str.replace(/^#.*?(\\n|\\r)/gm,\"\").replace(/^\\s*?(\\n|\\r)/gm,\n\"\").trim();var lines=str.split(/[\\n\\r]+/g),gridLines=lines[0].trim().split(/\\s+/g).map(function(e){return parseFloat(e)}),gridStep=gridLines[1]-gridLines[0];str=gridLines.length;for(var i=1,l=gridLines.length;i<l;i++)if(gridStep!==gridLines[i]-gridLines[i-1])throw Error(\"LUT3dlLoader: Inconsistent grid size not supported.\");gridLines=Array(str*str*str*3);i=gridStep=0;l=1;for(var _l=lines.length;l<_l;l++){var split=lines[l].trim().split(/\\s/g),r=parseFloat(split[0]),g=parseFloat(split[1]);split=parseFloat(split[2]);\ni=Math.max(i,r,g,split);var pixelIndex=gridStep%str*str*str+Math.floor(gridStep/str)%str*str+Math.floor(gridStep/(str*str))%str;gridLines[3*pixelIndex]=r;gridLines[3*pixelIndex+1]=g;gridLines[3*pixelIndex+2]=split;gridStep+=1}lines=Math.pow(2,Math.ceil(Math.log2(i)));gridStep=0;for(i=gridLines.length;gridStep<i;gridStep++)gridLines[gridStep]=255*gridLines[gridStep]/lines;lines=new Uint8Array(gridLines);gridLines=new _three.DataTexture;gridLines.image.data=lines;gridLines.image.width=str;gridLines.image.height=\nstr*str;gridLines.format=_three.RGBFormat;gridLines.type=_three.UnsignedByteType;gridLines.magFilter=_three.LinearFilter;gridLines.minFilter=_three.LinearFilter;gridLines.wrapS=_three.ClampToEdgeWrapping;gridLines.wrapT=_three.ClampToEdgeWrapping;gridLines.generateMipmaps=!1;gridStep=new _three.DataTexture3D;gridStep.image.data=lines;gridStep.image.width=str;gridStep.image.height=str;gridStep.image.depth=str;gridStep.format=_three.RGBFormat;gridStep.type=_three.UnsignedByteType;gridStep.magFilter=\n_three.LinearFilter;gridStep.minFilter=_three.LinearFilter;gridStep.wrapS=_three.ClampToEdgeWrapping;gridStep.wrapT=_three.ClampToEdgeWrapping;gridStep.wrapR=_three.ClampToEdgeWrapping;gridStep.generateMipmaps=!1;return{size:str,texture:gridLines,texture3D:gridStep}}}]);return LUT3dlLoader}(_three.Loader);exports.LUT3dlLoader=global}","~:source","shadow$provide[\"module$node_modules$three_stdlib$loaders$LUT3dlLoader\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LUT3dlLoader = void 0;\n\nvar _three = require(\"three\");\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n// http://download.autodesk.com/us/systemdocs/help/2011/lustre/index.html?url=./files/WSc4e151a45a3b785a24c3d9a411df9298473-7ffd.htm,topicNumber=d0e9492\nvar LUT3dlLoader =\n/*#__PURE__*/\nfunction (_Loader) {\n  _inherits(LUT3dlLoader, _Loader);\n\n  function LUT3dlLoader() {\n    _classCallCheck(this, LUT3dlLoader);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LUT3dlLoader).apply(this, arguments));\n  }\n\n  _createClass(LUT3dlLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      var _this = this;\n\n      var loader = new _three.FileLoader(this.manager);\n      loader.setPath(this.path);\n      loader.setResponseType('text');\n      loader.load(url, function (text) {\n        try {\n          onLoad(_this.parse(text));\n        } catch (e) {\n          if (onError) {\n            onError(e);\n          } else {\n            console.error(e);\n          }\n\n          _this.manager.itemError(url);\n        }\n      }, onProgress, onError);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(str) {\n      // remove empty lines and comment lints\n      str = str.replace(/^#.*?(\\n|\\r)/gm, '').replace(/^\\s*?(\\n|\\r)/gm, '').trim();\n      var lines = str.split(/[\\n\\r]+/g); // first line is the positions on the grid that are provided by the LUT\n\n      var gridLines = lines[0].trim().split(/\\s+/g).map(function (e) {\n        return parseFloat(e);\n      });\n      var gridStep = gridLines[1] - gridLines[0];\n      var size = gridLines.length;\n\n      for (var i = 1, l = gridLines.length; i < l; i++) {\n        if (gridStep !== gridLines[i] - gridLines[i - 1]) {\n          throw new Error('LUT3dlLoader: Inconsistent grid size not supported.');\n        }\n      }\n\n      var dataArray = new Array(size * size * size * 3);\n      var index = 0;\n      var maxOutputValue = 0.0;\n\n      for (var _i = 1, _l = lines.length; _i < _l; _i++) {\n        var line = lines[_i].trim();\n\n        var split = line.split(/\\s/g);\n        var r = parseFloat(split[0]);\n        var g = parseFloat(split[1]);\n        var b = parseFloat(split[2]);\n        maxOutputValue = Math.max(maxOutputValue, r, g, b);\n        var bLayer = index % size;\n        var gLayer = Math.floor(index / size) % size;\n        var rLayer = Math.floor(index / (size * size)) % size; // b grows first, then g, then r\n\n        var pixelIndex = bLayer * size * size + gLayer * size + rLayer;\n        dataArray[3 * pixelIndex + 0] = r;\n        dataArray[3 * pixelIndex + 1] = g;\n        dataArray[3 * pixelIndex + 2] = b;\n        index += 1;\n      } // Find the apparent bit depth of the stored RGB values and scale the\n      // values to [ 0, 255 ].\n\n\n      var bits = Math.ceil(Math.log2(maxOutputValue));\n      var maxBitValue = Math.pow(2.0, bits);\n\n      for (var _i2 = 0, _l2 = dataArray.length; _i2 < _l2; _i2++) {\n        var val = dataArray[_i2];\n        dataArray[_i2] = 255 * val / maxBitValue;\n      }\n\n      var data = new Uint8Array(dataArray);\n      var texture = new _three.DataTexture();\n      texture.image.data = data;\n      texture.image.width = size;\n      texture.image.height = size * size;\n      texture.format = _three.RGBFormat;\n      texture.type = _three.UnsignedByteType;\n      texture.magFilter = _three.LinearFilter;\n      texture.minFilter = _three.LinearFilter;\n      texture.wrapS = _three.ClampToEdgeWrapping;\n      texture.wrapT = _three.ClampToEdgeWrapping;\n      texture.generateMipmaps = false;\n      var texture3D = new _three.DataTexture3D();\n      texture3D.image.data = data;\n      texture3D.image.width = size;\n      texture3D.image.height = size;\n      texture3D.image.depth = size;\n      texture3D.format = _three.RGBFormat;\n      texture3D.type = _three.UnsignedByteType;\n      texture3D.magFilter = _three.LinearFilter;\n      texture3D.minFilter = _three.LinearFilter;\n      texture3D.wrapS = _three.ClampToEdgeWrapping;\n      texture3D.wrapT = _three.ClampToEdgeWrapping;\n      texture3D.wrapR = _three.ClampToEdgeWrapping;\n      texture3D.generateMipmaps = false;\n      return {\n        size: size,\n        texture: texture,\n        texture3D: texture3D\n      };\n    }\n  }]);\n\n  return LUT3dlLoader;\n}(_three.Loader);\n\nexports.LUT3dlLoader = LUT3dlLoader;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js"]],"~:properties",["^5",["wrapS","wrapR","LUT3dlLoader","width","prototype","height","texture","key","__esModule","configurable","value","enumerable","magFilter","writable","type","wrapT","depth","__proto__","generateMipmaps","size","texture3D","minFilter","data","format","constructor"]],"~:compiled-at",1630917515882,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$loaders$LUT3dlLoader.js\",\n\"lineCount\":9,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/loaders/LUT3dlLoader.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$loaders$LUT3dlLoader\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.LUT3dlLoader = void 0;\\n\\nvar _three = require(\\\"three\\\");\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\n// http://download.autodesk.com/us/systemdocs/help/2011/lustre/index.html?url=./files/WSc4e151a45a3b785a24c3d9a411df9298473-7ffd.htm,topicNumber=d0e9492\\nvar LUT3dlLoader =\\n/*#__PURE__*/\\nfunction (_Loader) {\\n  _inherits(LUT3dlLoader, _Loader);\\n\\n  function LUT3dlLoader() {\\n    _classCallCheck(this, LUT3dlLoader);\\n\\n    return _possibleConstructorReturn(this, _getPrototypeOf(LUT3dlLoader).apply(this, arguments));\\n  }\\n\\n  _createClass(LUT3dlLoader, [{\\n    key: \\\"load\\\",\\n    value: function load(url, onLoad, onProgress, onError) {\\n      var _this = this;\\n\\n      var loader = new _three.FileLoader(this.manager);\\n      loader.setPath(this.path);\\n      loader.setResponseType('text');\\n      loader.load(url, function (text) {\\n        try {\\n          onLoad(_this.parse(text));\\n        } catch (e) {\\n          if (onError) {\\n            onError(e);\\n          } else {\\n            console.error(e);\\n          }\\n\\n          _this.manager.itemError(url);\\n        }\\n      }, onProgress, onError);\\n    }\\n  }, {\\n    key: \\\"parse\\\",\\n    value: function parse(str) {\\n      // remove empty lines and comment lints\\n      str = str.replace(/^#.*?(\\\\n|\\\\r)/gm, '').replace(/^\\\\s*?(\\\\n|\\\\r)/gm, '').trim();\\n      var lines = str.split(/[\\\\n\\\\r]+/g); // first line is the positions on the grid that are provided by the LUT\\n\\n      var gridLines = lines[0].trim().split(/\\\\s+/g).map(function (e) {\\n        return parseFloat(e);\\n      });\\n      var gridStep = gridLines[1] - gridLines[0];\\n      var size = gridLines.length;\\n\\n      for (var i = 1, l = gridLines.length; i < l; i++) {\\n        if (gridStep !== gridLines[i] - gridLines[i - 1]) {\\n          throw new Error('LUT3dlLoader: Inconsistent grid size not supported.');\\n        }\\n      }\\n\\n      var dataArray = new Array(size * size * size * 3);\\n      var index = 0;\\n      var maxOutputValue = 0.0;\\n\\n      for (var _i = 1, _l = lines.length; _i < _l; _i++) {\\n        var line = lines[_i].trim();\\n\\n        var split = line.split(/\\\\s/g);\\n        var r = parseFloat(split[0]);\\n        var g = parseFloat(split[1]);\\n        var b = parseFloat(split[2]);\\n        maxOutputValue = Math.max(maxOutputValue, r, g, b);\\n        var bLayer = index % size;\\n        var gLayer = Math.floor(index / size) % size;\\n        var rLayer = Math.floor(index / (size * size)) % size; // b grows first, then g, then r\\n\\n        var pixelIndex = bLayer * size * size + gLayer * size + rLayer;\\n        dataArray[3 * pixelIndex + 0] = r;\\n        dataArray[3 * pixelIndex + 1] = g;\\n        dataArray[3 * pixelIndex + 2] = b;\\n        index += 1;\\n      } // Find the apparent bit depth of the stored RGB values and scale the\\n      // values to [ 0, 255 ].\\n\\n\\n      var bits = Math.ceil(Math.log2(maxOutputValue));\\n      var maxBitValue = Math.pow(2.0, bits);\\n\\n      for (var _i2 = 0, _l2 = dataArray.length; _i2 < _l2; _i2++) {\\n        var val = dataArray[_i2];\\n        dataArray[_i2] = 255 * val / maxBitValue;\\n      }\\n\\n      var data = new Uint8Array(dataArray);\\n      var texture = new _three.DataTexture();\\n      texture.image.data = data;\\n      texture.image.width = size;\\n      texture.image.height = size * size;\\n      texture.format = _three.RGBFormat;\\n      texture.type = _three.UnsignedByteType;\\n      texture.magFilter = _three.LinearFilter;\\n      texture.minFilter = _three.LinearFilter;\\n      texture.wrapS = _three.ClampToEdgeWrapping;\\n      texture.wrapT = _three.ClampToEdgeWrapping;\\n      texture.generateMipmaps = false;\\n      var texture3D = new _three.DataTexture3D();\\n      texture3D.image.data = data;\\n      texture3D.image.width = size;\\n      texture3D.image.height = size;\\n      texture3D.image.depth = size;\\n      texture3D.format = _three.RGBFormat;\\n      texture3D.type = _three.UnsignedByteType;\\n      texture3D.magFilter = _three.LinearFilter;\\n      texture3D.minFilter = _three.LinearFilter;\\n      texture3D.wrapS = _three.ClampToEdgeWrapping;\\n      texture3D.wrapT = _three.ClampToEdgeWrapping;\\n      texture3D.wrapR = _three.ClampToEdgeWrapping;\\n      texture3D.generateMipmaps = false;\\n      return {\\n        size: size,\\n        texture: texture,\\n        texture3D: texture3D\\n      };\\n    }\\n  }]);\\n\\n  return LUT3dlLoader;\\n}(_three.Loader);\\n\\nexports.LUT3dlLoader = LUT3dlLoader;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"Object\",\"defineProperty\",\"key\",\"_createClass\",\"Constructor\",\"protoProps\",\"staticProps\",\"_getPrototypeOf\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_inherits\",\"subClass\",\"superClass\",\"TypeError\",\"create\",\"value\",\"_setPrototypeOf\",\"p\",\"LUT3dlLoader\",\"_three\",\"_Loader\",\"instance\",\"apply\",\"arguments\",\"call\",\"self\",\"ReferenceError\",\"load\",\"url\",\"onLoad\",\"onProgress\",\"onError\",\"_this\",\"loader\",\"FileLoader\",\"manager\",\"setPath\",\"path\",\"setResponseType\",\"text\",\"parse\",\"e\",\"console\",\"error\",\"itemError\",\"str\",\"replace\",\"trim\",\"lines\",\"split\",\"gridLines\",\"map\",\"parseFloat\",\"gridStep\",\"size\",\"l\",\"Error\",\"dataArray\",\"Array\",\"maxOutputValue\",\"index\",\"_i\",\"_l\",\"line\",\"r\",\"g\",\"b\",\"Math\",\"max\",\"pixelIndex\",\"floor\",\"maxBitValue\",\"pow\",\"ceil\",\"bits\",\"log2\",\"_i2\",\"_l2\",\"val\",\"data\",\"Uint8Array\",\"texture\",\"DataTexture\",\"image\",\"width\",\"height\",\"format\",\"RGBFormat\",\"type\",\"UnsignedByteType\",\"magFilter\",\"LinearFilter\",\"minFilter\",\"wrapS\",\"ClampToEdgeWrapping\",\"wrapT\",\"generateMipmaps\",\"texture3D\",\"DataTexture3D\",\"depth\",\"wrapR\",\"Loader\"]\n}\n"]