["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/nodes/accessors/PositionNode.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$nodes$accessors$PositionNode=function(global,require,module,exports){function PositionNode(scope){_TempNode.TempNode.call(this,\"v3\");this.scope=scope||PositionNode.LOCAL}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.PositionNode=PositionNode;var _TempNode=require(\"module$node_modules$three_stdlib$nodes$core$TempNode\");global=require(\"module$node_modules$three_stdlib$nodes$core$NodeLib\");PositionNode.LOCAL=\"local\";PositionNode.WORLD=\n\"world\";PositionNode.VIEW=\"view\";PositionNode.PROJECTION=\"projection\";PositionNode.prototype=Object.create(_TempNode.TempNode.prototype);PositionNode.prototype.constructor=PositionNode;PositionNode.prototype.nodeType=\"Position\";PositionNode.prototype.getType=function(){switch(this.scope){case PositionNode.PROJECTION:return\"v4\"}return this.type};PositionNode.prototype.getShared=function(){switch(this.scope){case PositionNode.LOCAL:case PositionNode.WORLD:return!1}return!0};PositionNode.prototype.generate=\nfunction(builder,output){switch(this.scope){case PositionNode.LOCAL:if(builder.isShader(\"vertex\"))var result=\"transformed\";else builder.requires.position=!0,result=\"vPosition\";break;case PositionNode.WORLD:if(builder.isShader(\"vertex\"))return\"( modelMatrix * vec4( transformed, 1.0 ) ).xyz\";builder.requires.worldPosition=!0;result=\"vWPosition\";break;case PositionNode.VIEW:result=builder.isShader(\"vertex\")?\"-mvPosition.xyz\":\"vViewPosition\";break;case PositionNode.PROJECTION:result=builder.isShader(\"vertex\")?\n\"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )\":\"vec4( 0.0 )\"}return builder.format(result,this.getType(builder),output)};PositionNode.prototype.copy=function(source){_TempNode.TempNode.prototype.copy.call(this,source);this.scope=source.scope;return this};PositionNode.prototype.toJSON=function(meta){var data=this.getJSONNode(meta);data||(data=this.createJSONNode(meta),data.scope=this.scope);return data};global.NodeLib.addKeyword(\"position\",function(){return new PositionNode});global.NodeLib.addKeyword(\"worldPosition\",\nfunction(){return new PositionNode(PositionNode.WORLD)});global.NodeLib.addKeyword(\"viewPosition\",function(){return new PositionNode(PositionNode.VIEW)})}","~:source","shadow$provide[\"module$node_modules$three_stdlib$nodes$accessors$PositionNode\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PositionNode = PositionNode;\n\nvar _TempNode = require(\"../core/TempNode.js\");\n\nvar _NodeLib = require(\"../core/NodeLib.js\");\n\nfunction PositionNode(scope) {\n  _TempNode.TempNode.call(this, 'v3');\n\n  this.scope = scope || PositionNode.LOCAL;\n}\n\nPositionNode.LOCAL = 'local';\nPositionNode.WORLD = 'world';\nPositionNode.VIEW = 'view';\nPositionNode.PROJECTION = 'projection';\nPositionNode.prototype = Object.create(_TempNode.TempNode.prototype);\nPositionNode.prototype.constructor = PositionNode;\nPositionNode.prototype.nodeType = 'Position';\n\nPositionNode.prototype.getType = function () {\n  switch (this.scope) {\n    case PositionNode.PROJECTION:\n      return 'v4';\n  }\n\n  return this.type;\n};\n\nPositionNode.prototype.getShared = function ()\n/* builder */\n{\n  switch (this.scope) {\n    case PositionNode.LOCAL:\n    case PositionNode.WORLD:\n      return false;\n  }\n\n  return true;\n};\n\nPositionNode.prototype.generate = function (builder, output) {\n  var result;\n\n  switch (this.scope) {\n    case PositionNode.LOCAL:\n      if (builder.isShader('vertex')) {\n        result = 'transformed';\n      } else {\n        builder.requires.position = true;\n        result = 'vPosition';\n      }\n\n      break;\n\n    case PositionNode.WORLD:\n      if (builder.isShader('vertex')) {\n        return '( modelMatrix * vec4( transformed, 1.0 ) ).xyz';\n      } else {\n        builder.requires.worldPosition = true;\n        result = 'vWPosition';\n      }\n\n      break;\n\n    case PositionNode.VIEW:\n      result = builder.isShader('vertex') ? '-mvPosition.xyz' : 'vViewPosition';\n      break;\n\n    case PositionNode.PROJECTION:\n      result = builder.isShader('vertex') ? '( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )' : 'vec4( 0.0 )';\n      break;\n  }\n\n  return builder.format(result, this.getType(builder), output);\n};\n\nPositionNode.prototype.copy = function (source) {\n  _TempNode.TempNode.prototype.copy.call(this, source);\n\n  this.scope = source.scope;\n  return this;\n};\n\nPositionNode.prototype.toJSON = function (meta) {\n  var data = this.getJSONNode(meta);\n\n  if (!data) {\n    data = this.createJSONNode(meta);\n    data.scope = this.scope;\n  }\n\n  return data;\n};\n\n_NodeLib.NodeLib.addKeyword('position', function () {\n  return new PositionNode();\n});\n\n_NodeLib.NodeLib.addKeyword('worldPosition', function () {\n  return new PositionNode(PositionNode.WORLD);\n});\n\n_NodeLib.NodeLib.addKeyword('viewPosition', function () {\n  return new PositionNode(PositionNode.VIEW);\n});\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js","~$module$node_modules$three_stdlib$nodes$core$NodeLib","~$module$node_modules$three_stdlib$nodes$core$TempNode"]],"~:properties",["^5",["getType","copy","prototype","PROJECTION","__esModule","generate","VIEW","worldPosition","position","PositionNode","LOCAL","nodeType","value","getShared","scope","WORLD","constructor","toJSON"]],"~:compiled-at",1630917515213,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$nodes$accessors$PositionNode.js\",\n\"lineCount\":5,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/nodes/accessors/PositionNode.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$nodes$accessors$PositionNode\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.PositionNode = PositionNode;\\n\\nvar _TempNode = require(\\\"../core/TempNode.js\\\");\\n\\nvar _NodeLib = require(\\\"../core/NodeLib.js\\\");\\n\\nfunction PositionNode(scope) {\\n  _TempNode.TempNode.call(this, 'v3');\\n\\n  this.scope = scope || PositionNode.LOCAL;\\n}\\n\\nPositionNode.LOCAL = 'local';\\nPositionNode.WORLD = 'world';\\nPositionNode.VIEW = 'view';\\nPositionNode.PROJECTION = 'projection';\\nPositionNode.prototype = Object.create(_TempNode.TempNode.prototype);\\nPositionNode.prototype.constructor = PositionNode;\\nPositionNode.prototype.nodeType = 'Position';\\n\\nPositionNode.prototype.getType = function () {\\n  switch (this.scope) {\\n    case PositionNode.PROJECTION:\\n      return 'v4';\\n  }\\n\\n  return this.type;\\n};\\n\\nPositionNode.prototype.getShared = function ()\\n/* builder */\\n{\\n  switch (this.scope) {\\n    case PositionNode.LOCAL:\\n    case PositionNode.WORLD:\\n      return false;\\n  }\\n\\n  return true;\\n};\\n\\nPositionNode.prototype.generate = function (builder, output) {\\n  var result;\\n\\n  switch (this.scope) {\\n    case PositionNode.LOCAL:\\n      if (builder.isShader('vertex')) {\\n        result = 'transformed';\\n      } else {\\n        builder.requires.position = true;\\n        result = 'vPosition';\\n      }\\n\\n      break;\\n\\n    case PositionNode.WORLD:\\n      if (builder.isShader('vertex')) {\\n        return '( modelMatrix * vec4( transformed, 1.0 ) ).xyz';\\n      } else {\\n        builder.requires.worldPosition = true;\\n        result = 'vWPosition';\\n      }\\n\\n      break;\\n\\n    case PositionNode.VIEW:\\n      result = builder.isShader('vertex') ? '-mvPosition.xyz' : 'vViewPosition';\\n      break;\\n\\n    case PositionNode.PROJECTION:\\n      result = builder.isShader('vertex') ? '( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )' : 'vec4( 0.0 )';\\n      break;\\n  }\\n\\n  return builder.format(result, this.getType(builder), output);\\n};\\n\\nPositionNode.prototype.copy = function (source) {\\n  _TempNode.TempNode.prototype.copy.call(this, source);\\n\\n  this.scope = source.scope;\\n  return this;\\n};\\n\\nPositionNode.prototype.toJSON = function (meta) {\\n  var data = this.getJSONNode(meta);\\n\\n  if (!data) {\\n    data = this.createJSONNode(meta);\\n    data.scope = this.scope;\\n  }\\n\\n  return data;\\n};\\n\\n_NodeLib.NodeLib.addKeyword('position', function () {\\n  return new PositionNode();\\n});\\n\\n_NodeLib.NodeLib.addKeyword('worldPosition', function () {\\n  return new PositionNode(PositionNode.WORLD);\\n});\\n\\n_NodeLib.NodeLib.addKeyword('viewPosition', function () {\\n  return new PositionNode(PositionNode.VIEW);\\n});\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"PositionNode\",\"scope\",\"_TempNode\",\"TempNode\",\"call\",\"LOCAL\",\"Object\",\"defineProperty\",\"value\",\"_NodeLib\",\"WORLD\",\"VIEW\",\"PROJECTION\",\"prototype\",\"create\",\"constructor\",\"nodeType\",\"getType\",\"PositionNode.prototype.getType\",\"type\",\"getShared\",\"PositionNode.prototype.getShared\",\"generate\",\"PositionNode.prototype.generate\",\"builder\",\"output\",\"isShader\",\"result\",\"requires\",\"position\",\"worldPosition\",\"format\",\"copy\",\"PositionNode.prototype.copy\",\"source\",\"toJSON\",\"PositionNode.prototype.toJSON\",\"meta\",\"data\",\"getJSONNode\",\"createJSONNode\",\"NodeLib\",\"addKeyword\"]\n}\n"]