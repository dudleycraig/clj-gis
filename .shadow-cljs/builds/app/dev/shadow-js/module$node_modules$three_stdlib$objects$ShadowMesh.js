["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/objects/ShadowMesh.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$objects$ShadowMesh=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=\ndescriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};\nreturn _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};\nreturn _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.ShadowMesh=void 0;var _three=require(\"module$node_modules$three$build$three_module\"),_shadowMatrix=new _three.Matrix4;global=function(_Mesh){function ShadowMesh(mesh){if(!(this instanceof ShadowMesh))throw new TypeError(\"Cannot call a class as a function\");var _this=new _three.MeshBasicMaterial({color:0,transparent:!0,opacity:.6,depthWrite:!1});_this=_getPrototypeOf(ShadowMesh).call(this,mesh.geometry,\n_this);if(!_this||\"object\"!==_typeof(_this)&&\"function\"!==typeof _this){if(void 0===this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");_this=this}_this.meshMatrix=mesh.matrixWorld;_this.frustumCulled=!1;_this.matrixAutoUpdate=!1;return _this}_inherits(ShadowMesh,_Mesh);_createClass(ShadowMesh,[{key:\"update\",value:function(plane,lightPosition4D){var dot=plane.normal.x*lightPosition4D.x+plane.normal.y*lightPosition4D.y+plane.normal.z*lightPosition4D.z+-plane.constant*\nlightPosition4D.w,sme=_shadowMatrix.elements;sme[0]=dot-lightPosition4D.x*plane.normal.x;sme[4]=-lightPosition4D.x*plane.normal.y;sme[8]=-lightPosition4D.x*plane.normal.z;sme[12]=-lightPosition4D.x*-plane.constant;sme[1]=-lightPosition4D.y*plane.normal.x;sme[5]=dot-lightPosition4D.y*plane.normal.y;sme[9]=-lightPosition4D.y*plane.normal.z;sme[13]=-lightPosition4D.y*-plane.constant;sme[2]=-lightPosition4D.z*plane.normal.x;sme[6]=-lightPosition4D.z*plane.normal.y;sme[10]=dot-lightPosition4D.z*plane.normal.z;\nsme[14]=-lightPosition4D.z*-plane.constant;sme[3]=-lightPosition4D.w*plane.normal.x;sme[7]=-lightPosition4D.w*plane.normal.y;sme[11]=-lightPosition4D.w*plane.normal.z;sme[15]=dot-lightPosition4D.w*-plane.constant;this.matrix.multiplyMatrices(_shadowMatrix,this.meshMatrix)}}]);return ShadowMesh}(_three.Mesh);exports.ShadowMesh=global;global.prototype.isShadowMesh=!0}","~:source","shadow$provide[\"module$node_modules$three_stdlib$objects$ShadowMesh\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ShadowMesh = void 0;\n\nvar _three = require(\"three\");\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/**\n * A shadow Mesh that follows a shadow-casting Mesh in the scene, but is confined to a single plane.\n */\nvar _shadowMatrix = new _three.Matrix4();\n\nvar ShadowMesh =\n/*#__PURE__*/\nfunction (_Mesh) {\n  _inherits(ShadowMesh, _Mesh);\n\n  function ShadowMesh(mesh) {\n    var _this;\n\n    _classCallCheck(this, ShadowMesh);\n\n    var shadowMaterial = new _three.MeshBasicMaterial({\n      color: 0x000000,\n      transparent: true,\n      opacity: 0.6,\n      depthWrite: false\n    });\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShadowMesh).call(this, mesh.geometry, shadowMaterial));\n    _this.meshMatrix = mesh.matrixWorld;\n    _this.frustumCulled = false;\n    _this.matrixAutoUpdate = false;\n    return _this;\n  }\n\n  _createClass(ShadowMesh, [{\n    key: \"update\",\n    value: function update(plane, lightPosition4D) {\n      // based on https://www.opengl.org/archives/resources/features/StencilTalk/tsld021.htm\n      var dot = plane.normal.x * lightPosition4D.x + plane.normal.y * lightPosition4D.y + plane.normal.z * lightPosition4D.z + -plane.constant * lightPosition4D.w;\n      var sme = _shadowMatrix.elements;\n      sme[0] = dot - lightPosition4D.x * plane.normal.x;\n      sme[4] = -lightPosition4D.x * plane.normal.y;\n      sme[8] = -lightPosition4D.x * plane.normal.z;\n      sme[12] = -lightPosition4D.x * -plane.constant;\n      sme[1] = -lightPosition4D.y * plane.normal.x;\n      sme[5] = dot - lightPosition4D.y * plane.normal.y;\n      sme[9] = -lightPosition4D.y * plane.normal.z;\n      sme[13] = -lightPosition4D.y * -plane.constant;\n      sme[2] = -lightPosition4D.z * plane.normal.x;\n      sme[6] = -lightPosition4D.z * plane.normal.y;\n      sme[10] = dot - lightPosition4D.z * plane.normal.z;\n      sme[14] = -lightPosition4D.z * -plane.constant;\n      sme[3] = -lightPosition4D.w * plane.normal.x;\n      sme[7] = -lightPosition4D.w * plane.normal.y;\n      sme[11] = -lightPosition4D.w * plane.normal.z;\n      sme[15] = dot - lightPosition4D.w * -plane.constant;\n      this.matrix.multiplyMatrices(_shadowMatrix, this.meshMatrix);\n    }\n  }]);\n\n  return ShadowMesh;\n}(_three.Mesh);\n\nexports.ShadowMesh = ShadowMesh;\nShadowMesh.prototype.isShadowMesh = true;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js"]],"~:properties",["^5",["isShadowMesh","frustumCulled","meshMatrix","prototype","transparent","key","__esModule","matrixAutoUpdate","configurable","value","enumerable","writable","ShadowMesh","__proto__","depthWrite","color","opacity","constructor"]],"~:compiled-at",1630917515364,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$objects$ShadowMesh.js\",\n\"lineCount\":7,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/objects/ShadowMesh.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$objects$ShadowMesh\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.ShadowMesh = void 0;\\n\\nvar _three = require(\\\"three\\\");\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\n/**\\n * A shadow Mesh that follows a shadow-casting Mesh in the scene, but is confined to a single plane.\\n */\\nvar _shadowMatrix = new _three.Matrix4();\\n\\nvar ShadowMesh =\\n/*#__PURE__*/\\nfunction (_Mesh) {\\n  _inherits(ShadowMesh, _Mesh);\\n\\n  function ShadowMesh(mesh) {\\n    var _this;\\n\\n    _classCallCheck(this, ShadowMesh);\\n\\n    var shadowMaterial = new _three.MeshBasicMaterial({\\n      color: 0x000000,\\n      transparent: true,\\n      opacity: 0.6,\\n      depthWrite: false\\n    });\\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShadowMesh).call(this, mesh.geometry, shadowMaterial));\\n    _this.meshMatrix = mesh.matrixWorld;\\n    _this.frustumCulled = false;\\n    _this.matrixAutoUpdate = false;\\n    return _this;\\n  }\\n\\n  _createClass(ShadowMesh, [{\\n    key: \\\"update\\\",\\n    value: function update(plane, lightPosition4D) {\\n      // based on https://www.opengl.org/archives/resources/features/StencilTalk/tsld021.htm\\n      var dot = plane.normal.x * lightPosition4D.x + plane.normal.y * lightPosition4D.y + plane.normal.z * lightPosition4D.z + -plane.constant * lightPosition4D.w;\\n      var sme = _shadowMatrix.elements;\\n      sme[0] = dot - lightPosition4D.x * plane.normal.x;\\n      sme[4] = -lightPosition4D.x * plane.normal.y;\\n      sme[8] = -lightPosition4D.x * plane.normal.z;\\n      sme[12] = -lightPosition4D.x * -plane.constant;\\n      sme[1] = -lightPosition4D.y * plane.normal.x;\\n      sme[5] = dot - lightPosition4D.y * plane.normal.y;\\n      sme[9] = -lightPosition4D.y * plane.normal.z;\\n      sme[13] = -lightPosition4D.y * -plane.constant;\\n      sme[2] = -lightPosition4D.z * plane.normal.x;\\n      sme[6] = -lightPosition4D.z * plane.normal.y;\\n      sme[10] = dot - lightPosition4D.z * plane.normal.z;\\n      sme[14] = -lightPosition4D.z * -plane.constant;\\n      sme[3] = -lightPosition4D.w * plane.normal.x;\\n      sme[7] = -lightPosition4D.w * plane.normal.y;\\n      sme[11] = -lightPosition4D.w * plane.normal.z;\\n      sme[15] = dot - lightPosition4D.w * -plane.constant;\\n      this.matrix.multiplyMatrices(_shadowMatrix, this.meshMatrix);\\n    }\\n  }]);\\n\\n  return ShadowMesh;\\n}(_three.Mesh);\\n\\nexports.ShadowMesh = ShadowMesh;\\nShadowMesh.prototype.isShadowMesh = true;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"Object\",\"defineProperty\",\"key\",\"_createClass\",\"Constructor\",\"protoProps\",\"staticProps\",\"_getPrototypeOf\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_inherits\",\"subClass\",\"superClass\",\"TypeError\",\"create\",\"value\",\"_setPrototypeOf\",\"p\",\"ShadowMesh\",\"_three\",\"_shadowMatrix\",\"Matrix4\",\"_Mesh\",\"mesh\",\"instance\",\"shadowMaterial\",\"MeshBasicMaterial\",\"color\",\"transparent\",\"opacity\",\"depthWrite\",\"call\",\"geometry\",\"self\",\"ReferenceError\",\"_this\",\"meshMatrix\",\"matrixWorld\",\"frustumCulled\",\"matrixAutoUpdate\",\"update\",\"plane\",\"lightPosition4D\",\"dot\",\"normal\",\"x\",\"y\",\"z\",\"constant\",\"w\",\"sme\",\"elements\",\"matrix\",\"multiplyMatrices\",\"Mesh\",\"isShadowMesh\"]\n}\n"]