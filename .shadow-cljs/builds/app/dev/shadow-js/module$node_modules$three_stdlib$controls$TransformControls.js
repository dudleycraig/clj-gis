["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/controls/TransformControls.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$controls$TransformControls=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\");\n}function _possibleConstructorReturn(self,call){return!call||\"object\"!==_typeof(call)&&\"function\"!==typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&\nsuperClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}function _get(target$jscomp$0,property$jscomp$0,receiver$jscomp$0){_get=\"undefined\"!==typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){for(;!Object.prototype.hasOwnProperty.call(target,\nproperty)&&(target=_getPrototypeOf(target),null!==target););if(target)return property=Object.getOwnPropertyDescriptor(target,property),property.get?property.get.call(receiver):property.value};return _get(target$jscomp$0,property$jscomp$0,receiver$jscomp$0||target$jscomp$0)}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}Object.defineProperty(exports,\"__esModule\",\n{value:!0});exports.TransformControlsPlane=exports.TransformControlsGizmo=exports.TransformControls=void 0;var _defineProperty2=function(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}(require(\"module$node_modules$$babel$runtime$helpers$esm$defineProperty\")),_three=require(\"module$node_modules$three$build$three_module\");global=function(_Object3D){function TransformControls(camera,domElement){_classCallCheck(this,TransformControls);var _this=_possibleConstructorReturn(this,_getPrototypeOf(TransformControls).call(this));\n(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"isTransformControls\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"visible\",!1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"domElement\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"raycaster\",new _three.Raycaster);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"gizmo\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"plane\",void 0);(0,\n_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"tempVector\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"tempVector2\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"tempQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"unit\",{X:new _three.Vector3(1,0,0),Y:new _three.Vector3(0,1,0),Z:new _three.Vector3(0,0,1)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"pointStart\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"pointEnd\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"offset\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"rotationAxis\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"startNorm\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"endNorm\",new _three.Vector3);(0,\n_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"rotationAngle\",0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"cameraPosition\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"cameraQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"cameraScale\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"parentPosition\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"parentQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"parentQuaternionInv\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"parentScale\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"worldPositionStart\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"worldQuaternionStart\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"worldScaleStart\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"worldPosition\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"worldQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"worldQuaternionInv\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"worldScale\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"eye\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"positionStart\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"quaternionStart\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"scaleStart\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"camera\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"object\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"enabled\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"axis\",null);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"mode\",\"translate\");(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"translationSnap\",null);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"rotationSnap\",null);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"scaleSnap\",null);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"space\",\"world\");(0,\n_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"size\",1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"dragging\",!1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"showX\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"showY\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"showZ\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"changeEvent\",{type:\"change\"});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"mouseDownEvent\",{type:\"mouseDown\"});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"mouseUpEvent\",{type:\"mouseUp\",mode:_this.mode});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"objectChangeEvent\",{type:\"objectChange\"});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"intersectObjectWithRay\",function(object,raycaster,includeInvisible){object=raycaster.intersectObject(object,!0);for(raycaster=0;raycaster<object.length;raycaster++)if(object[raycaster].object.visible||\nincludeInvisible)return object[raycaster];return!1});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"attach\",function(object){_this.object=object;_this.visible=!0;return _assertThisInitialized(_this)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"detach\",function(){_this.object=void 0;_this.visible=!1;_this.axis=null;return _assertThisInitialized(_this)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"updateMatrixWorld\",function(){void 0!==_this.object&&\n(_this.object.updateMatrixWorld(),null===_this.object.parent?console.error(\"TransformControls: The attached 3D object must be a part of the scene graph.\"):_this.object.parent.matrixWorld.decompose(_this.parentPosition,_this.parentQuaternion,_this.parentScale),_this.object.matrixWorld.decompose(_this.worldPosition,_this.worldQuaternion,_this.worldScale),_this.parentQuaternionInv.copy(_this.parentQuaternion).invert(),_this.worldQuaternionInv.copy(_this.worldQuaternion).invert());_this.camera.updateMatrixWorld();\n_this.camera.matrixWorld.decompose(_this.cameraPosition,_this.cameraQuaternion,_this.cameraScale);_this.eye.copy(_this.cameraPosition).sub(_this.worldPosition).normalize();_get(_getPrototypeOf(TransformControls.prototype),\"updateMatrixWorld\",_assertThisInitialized(_this)).call(_assertThisInitialized(_this))});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"pointerHover\",function(pointer){void 0!==_this.object&&!0!==_this.dragging&&(_this.raycaster.setFromCamera(pointer,_this.camera),\npointer=_this.intersectObjectWithRay(_this.gizmo.picker[_this.mode],_this.raycaster),_this.axis=pointer?pointer.object.name:null)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"pointerDown\",function(pointer){if(void 0!==_this.object&&!0!==_this.dragging&&0===pointer.button&&null!==_this.axis){_this.raycaster.setFromCamera(pointer,_this.camera);if(pointer=_this.intersectObjectWithRay(_this.plane,_this.raycaster,!0)){var space=_this.space;if(\"scale\"===_this.mode)space=\"local\";else if(\"E\"===\n_this.axis||\"XYZE\"===_this.axis||\"XYZ\"===_this.axis)space=\"world\";\"local\"===space&&\"rotate\"===_this.mode&&(space=_this.rotationSnap,\"X\"===_this.axis&&space&&(_this.object.rotation.x=Math.round(_this.object.rotation.x/space)*space),\"Y\"===_this.axis&&space&&(_this.object.rotation.y=Math.round(_this.object.rotation.y/space)*space),\"Z\"===_this.axis&&space&&(_this.object.rotation.z=Math.round(_this.object.rotation.z/space)*space));_this.object.updateMatrixWorld();_this.object.parent&&_this.object.parent.updateMatrixWorld();\n_this.positionStart.copy(_this.object.position);_this.quaternionStart.copy(_this.object.quaternion);_this.scaleStart.copy(_this.object.scale);_this.object.matrixWorld.decompose(_this.worldPositionStart,_this.worldQuaternionStart,_this.worldScaleStart);_this.pointStart.copy(pointer.point).sub(_this.worldPositionStart)}_this.dragging=!0;_this.mouseDownEvent.type=_this.mode;_this.dispatchEvent(_this.mouseDownEvent)}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"pointerMove\",function(pointer){var axis=\n_this.axis,mode=_this.mode,object=_this.object,space=_this.space;if(\"scale\"===mode)space=\"local\";else if(\"E\"===axis||\"XYZE\"===axis||\"XYZ\"===axis)space=\"world\";if(void 0!==object&&null!==axis&&!1!==_this.dragging&&-1===pointer.button&&(_this.raycaster.setFromCamera(pointer,_this.camera),pointer=_this.intersectObjectWithRay(_this.plane,_this.raycaster,!0))){_this.pointEnd.copy(pointer.point).sub(_this.worldPositionStart);if(\"translate\"===mode)_this.offset.copy(_this.pointEnd).sub(_this.pointStart),\n\"local\"===space&&\"XYZ\"!==axis&&_this.offset.applyQuaternion(_this.worldQuaternionInv),-1===axis.indexOf(\"X\")&&(_this.offset.x=0),-1===axis.indexOf(\"Y\")&&(_this.offset.y=0),-1===axis.indexOf(\"Z\")&&(_this.offset.z=0),\"local\"===space&&\"XYZ\"!==axis?_this.offset.applyQuaternion(_this.quaternionStart).divide(_this.parentScale):_this.offset.applyQuaternion(_this.parentQuaternionInv).divide(_this.parentScale),object.position.copy(_this.offset).add(_this.positionStart),_this.translationSnap&&(\"local\"===space&&\n(object.position.applyQuaternion(_this.tempQuaternion.copy(_this.quaternionStart).invert()),-1!==axis.search(\"X\")&&(object.position.x=Math.round(object.position.x/_this.translationSnap)*_this.translationSnap),-1!==axis.search(\"Y\")&&(object.position.y=Math.round(object.position.y/_this.translationSnap)*_this.translationSnap),-1!==axis.search(\"Z\")&&(object.position.z=Math.round(object.position.z/_this.translationSnap)*_this.translationSnap),object.position.applyQuaternion(_this.quaternionStart)),\"world\"===\nspace&&(object.parent&&object.position.add(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld)),-1!==axis.search(\"X\")&&(object.position.x=Math.round(object.position.x/_this.translationSnap)*_this.translationSnap),-1!==axis.search(\"Y\")&&(object.position.y=Math.round(object.position.y/_this.translationSnap)*_this.translationSnap),-1!==axis.search(\"Z\")&&(object.position.z=Math.round(object.position.z/_this.translationSnap)*_this.translationSnap),object.parent&&object.position.sub(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld))));\nelse if(\"scale\"===mode)-1!==axis.search(\"XYZ\")?(space=_this.pointEnd.length()/_this.pointStart.length(),0>_this.pointEnd.dot(_this.pointStart)&&(space*=-1),_this.tempVector2.set(space,space,space)):(_this.tempVector.copy(_this.pointStart),_this.tempVector2.copy(_this.pointEnd),_this.tempVector.applyQuaternion(_this.worldQuaternionInv),_this.tempVector2.applyQuaternion(_this.worldQuaternionInv),_this.tempVector2.divide(_this.tempVector),-1===axis.search(\"X\")&&(_this.tempVector2.x=1),-1===axis.search(\"Y\")&&\n(_this.tempVector2.y=1),-1===axis.search(\"Z\")&&(_this.tempVector2.z=1)),object.scale.copy(_this.scaleStart).multiply(_this.tempVector2),_this.scaleSnap&&_this.object&&(-1!==axis.search(\"X\")&&(_this.object.scale.x=Math.round(object.scale.x/_this.scaleSnap)*_this.scaleSnap||_this.scaleSnap),-1!==axis.search(\"Y\")&&(object.scale.y=Math.round(object.scale.y/_this.scaleSnap)*_this.scaleSnap||_this.scaleSnap),-1!==axis.search(\"Z\")&&(object.scale.z=Math.round(object.scale.z/_this.scaleSnap)*_this.scaleSnap||\n_this.scaleSnap));else if(\"rotate\"===mode){_this.offset.copy(_this.pointEnd).sub(_this.pointStart);mode=20/_this.worldPosition.distanceTo(_this.tempVector.setFromMatrixPosition(_this.camera.matrixWorld));if(\"E\"===axis)_this.rotationAxis.copy(_this.eye),_this.rotationAngle=_this.pointEnd.angleTo(_this.pointStart),_this.startNorm.copy(_this.pointStart).normalize(),_this.endNorm.copy(_this.pointEnd).normalize(),_this.rotationAngle*=0>_this.endNorm.cross(_this.startNorm).dot(_this.eye)?1:-1;else if(\"XYZE\"===\naxis)_this.rotationAxis.copy(_this.offset).cross(_this.eye).normalize(),_this.rotationAngle=_this.offset.dot(_this.tempVector.copy(_this.rotationAxis).cross(_this.eye))*mode;else if(\"X\"===axis||\"Y\"===axis||\"Z\"===axis)_this.rotationAxis.copy(_this.unit[axis]),_this.tempVector.copy(_this.unit[axis]),\"local\"===space&&_this.tempVector.applyQuaternion(_this.worldQuaternion),_this.rotationAngle=_this.offset.dot(_this.tempVector.cross(_this.eye).normalize())*mode;_this.rotationSnap&&(_this.rotationAngle=\nMath.round(_this.rotationAngle/_this.rotationSnap)*_this.rotationSnap);\"local\"===space&&\"E\"!==axis&&\"XYZE\"!==axis?(object.quaternion.copy(_this.quaternionStart),object.quaternion.multiply(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis,_this.rotationAngle)).normalize()):(_this.rotationAxis.applyQuaternion(_this.parentQuaternionInv),object.quaternion.copy(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis,_this.rotationAngle)),object.quaternion.multiply(_this.quaternionStart).normalize())}_this.dispatchEvent(_this.changeEvent);\n_this.dispatchEvent(_this.objectChangeEvent)}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"pointerUp\",function(pointer){0===pointer.button&&(_this.dragging&&null!==_this.axis&&(_this.mouseUpEvent.mode=_this.mode,_this.dispatchEvent(_this.mouseUpEvent)),_this.dragging=!1,_this.axis=null)});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"getPointer\",function(event){var _this$domElement$owne;if(_this.domElement&&null!==(_this$domElement$owne=_this.domElement.ownerDocument)&&\nvoid 0!==_this$domElement$owne&&_this$domElement$owne.pointerLockElement)return{x:0,y:0,button:event.button};var _this$domElement;_this$domElement$owne=event.changedTouches?event.changedTouches[0]:event;var rect=null===(_this$domElement=_this.domElement)||void 0===_this$domElement?void 0:_this$domElement.getBoundingClientRect();return{x:(_this$domElement$owne.clientX-rect.left)/rect.width*2-1,y:-(_this$domElement$owne.clientY-rect.top)/rect.height*2+1,button:event.button}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"onPointerHover\",function(event){if(_this.enabled)switch(event.pointerType){case \"mouse\":case \"pen\":_this.pointerHover(_this.getPointer(event))}});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onPointerDown\",function(event){var _this$domElement$owne2;_this.enabled&&(_this.domElement.style.touchAction=\"none\",null===(_this$domElement$owne2=_this.domElement.ownerDocument)||void 0===_this$domElement$owne2?void 0:_this$domElement$owne2.addEventListener(\"pointermove\",_this.onPointerMove),\n_this.pointerHover(_this.getPointer(event)),_this.pointerDown(_this.getPointer(event)))});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onPointerMove\",function(event){_this.enabled&&_this.pointerMove(_this.getPointer(event))});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"onPointerUp\",function(event){var _this$domElement$owne3;_this.enabled&&(_this.domElement.style.touchAction=\"\",null===(_this$domElement$owne3=_this.domElement.ownerDocument)||void 0===_this$domElement$owne3?\nvoid 0:_this$domElement$owne3.removeEventListener(\"pointermove\",_this.onPointerMove),_this.pointerUp(_this.getPointer(event)))});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"getMode\",function(){return _this.mode});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"setMode\",function(mode){_this.mode=mode});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"setTranslationSnap\",function(translationSnap){_this.translationSnap=translationSnap});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\n\"setRotationSnap\",function(rotationSnap){_this.rotationSnap=rotationSnap});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"setScaleSnap\",function(scaleSnap){_this.scaleSnap=scaleSnap});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"setSize\",function(size){_this.size=size});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"setSpace\",function(space){_this.space=space});(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"update\",function(){console.warn(\"THREE.TransformControls: update function has no more functionality and therefore has been deprecated.\")});\n(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"dispose\",function(){var _this$domElement$owne4,_this$domElement$owne5;_this.domElement.removeEventListener(\"pointerdown\",_this.onPointerDown);_this.domElement.removeEventListener(\"pointermove\",_this.onPointerHover);null===(_this$domElement$owne4=_this.domElement.ownerDocument)||void 0===_this$domElement$owne4?void 0:_this$domElement$owne4.removeEventListener(\"pointermove\",_this.onPointerMove);null===(_this$domElement$owne5=_this.domElement.ownerDocument)||\nvoid 0===_this$domElement$owne5?void 0:_this$domElement$owne5.removeEventListener(\"pointerup\",_this.onPointerUp);_this.traverse(function(child){child.geometry&&child.geometry.dispose();child.material&&child.material.dispose()})});void 0===domElement&&(console.warn('THREE.TransformControls: The second parameter \"domElement\" is now mandatory.'),_this.domElement=document);_this.domElement=domElement;_this.camera=camera;_this.gizmo=new TransformControlsGizmo;_this.add(_this.gizmo);_this.plane=new TransformControlsPlane;\n_this.add(_this.plane);camera=function(propName,defaultValue){var propValue=defaultValue;Object.defineProperty(_assertThisInitialized(_this),propName,{get:function(){return void 0!==propValue?propValue:defaultValue},set:function(value){propValue!==value&&(propValue=value,this.plane[propName]=value,this.gizmo[propName]=value,this.dispatchEvent({type:propName+\"-changed\",value}),this.dispatchEvent(this.changeEvent))}});_this[propName]=defaultValue;_this.plane[propName]=defaultValue;_this.gizmo[propName]=\ndefaultValue};camera(\"camera\",_this.camera);camera(\"object\",_this.object);camera(\"enabled\",_this.enabled);camera(\"axis\",_this.axis);camera(\"mode\",_this.mode);camera(\"translationSnap\",_this.translationSnap);camera(\"rotationSnap\",_this.rotationSnap);camera(\"scaleSnap\",_this.scaleSnap);camera(\"space\",_this.space);camera(\"size\",_this.size);camera(\"dragging\",_this.dragging);camera(\"showX\",_this.showX);camera(\"showY\",_this.showY);camera(\"showZ\",_this.showZ);camera(\"worldPosition\",_this.worldPosition);camera(\"worldPositionStart\",\n_this.worldPositionStart);camera(\"worldQuaternion\",_this.worldQuaternion);camera(\"worldQuaternionStart\",_this.worldQuaternionStart);camera(\"cameraPosition\",_this.cameraPosition);camera(\"cameraQuaternion\",_this.cameraQuaternion);camera(\"pointStart\",_this.pointStart);camera(\"pointEnd\",_this.pointEnd);camera(\"rotationAxis\",_this.rotationAxis);camera(\"rotationAngle\",_this.rotationAngle);camera(\"eye\",_this.eye);domElement.addEventListener(\"pointerdown\",_this.onPointerDown);domElement.addEventListener(\"pointermove\",\n_this.onPointerHover);_this.domElement.ownerDocument.addEventListener(\"pointerup\",_this.onPointerUp);return _this}_inherits(TransformControls,_Object3D);return TransformControls}(_three.Object3D);exports.TransformControls=global;var TransformControlsGizmo=function(_Object3D2){function TransformControlsGizmo(){_classCallCheck(this,TransformControlsGizmo);var _this2=_possibleConstructorReturn(this,_getPrototypeOf(TransformControlsGizmo).call(this));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\n\"isTransformControlsGizmo\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"type\",\"TransformControlsGizmo\");(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"tempVector\",new _three.Vector3(0,0,0));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"tempEuler\",new _three.Euler);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"alignVector\",new _three.Vector3(0,1,0));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"zeroVector\",\nnew _three.Vector3(0,0,0));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"lookAtMatrix\",new _three.Matrix4);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"tempQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"tempQuaternion2\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"identityQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\n\"unitX\",new _three.Vector3(1,0,0));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"unitY\",new _three.Vector3(0,1,0));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"unitZ\",new _three.Vector3(0,0,1));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"gizmo\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"picker\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"helper\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\n\"rotationAxis\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"cameraPosition\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"worldPositionStart\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"worldQuaternionStart\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"worldPosition\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\n\"worldQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"eye\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"camera\",null);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"enabled\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"axis\",null);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"mode\",\"translate\");(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\n\"space\",\"world\");(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"size\",1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"dragging\",!1);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"showX\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"showY\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"showZ\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this2),\"updateMatrixWorld\",function(){var space=_this2.space;\n\"scale\"===_this2.mode&&(space=\"local\");var quaternion=\"local\"===space?_this2.worldQuaternion:_this2.identityQuaternion;_this2.gizmo.translate.visible=\"translate\"===_this2.mode;_this2.gizmo.rotate.visible=\"rotate\"===_this2.mode;_this2.gizmo.scale.visible=\"scale\"===_this2.mode;_this2.helper.translate.visible=\"translate\"===_this2.mode;_this2.helper.rotate.visible=\"rotate\"===_this2.mode;_this2.helper.scale.visible=\"scale\"===_this2.mode;var handles=[];handles=handles.concat(_this2.picker[_this2.mode].children);\nhandles=handles.concat(_this2.gizmo[_this2.mode].children);handles=handles.concat(_this2.helper[_this2.mode].children);space=function(i){var handle=handles[i];handle.visible=!0;handle.rotation.set(0,0,0);handle.position.copy(_this2.worldPosition);i=void 0;i=_this2.camera.isOrthographicCamera?(_this2.camera.top-_this2.camera.bottom)/_this2.camera.zoom:_this2.worldPosition.distanceTo(_this2.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*_this2.camera.fov/360)/_this2.camera.zoom,7);handle.scale.set(1,\n1,1).multiplyScalar(i*_this2.size/7);if(\"helper\"===handle.tag)return handle.visible=!1,\"AXIS\"===handle.name?(handle.position.copy(_this2.worldPositionStart),handle.visible=!!_this2.axis,\"X\"===_this2.axis&&(_this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0,0,0)),handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion),.9<Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye))&&(handle.visible=!1)),\"Y\"===_this2.axis&&(_this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0,\n0,Math.PI/2)),handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion),.9<Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye))&&(handle.visible=!1)),\"Z\"===_this2.axis&&(_this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0,Math.PI/2,0)),handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion),.9<Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye))&&(handle.visible=!1)),\"XYZE\"===_this2.axis&&(_this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0,\nMath.PI/2,0)),_this2.alignVector.copy(_this2.rotationAxis),handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.zeroVector,_this2.alignVector,_this2.unitY)),handle.quaternion.multiply(_this2.tempQuaternion),handle.visible=_this2.dragging),\"E\"===_this2.axis&&(handle.visible=!1)):\"START\"===handle.name?(handle.position.copy(_this2.worldPositionStart),handle.visible=_this2.dragging):\"END\"===handle.name?(handle.position.copy(_this2.worldPosition),handle.visible=_this2.dragging):\"DELTA\"===\nhandle.name?(handle.position.copy(_this2.worldPositionStart),handle.quaternion.copy(_this2.worldQuaternionStart),_this2.tempVector.set(1E-10,1E-10,1E-10).add(_this2.worldPositionStart).sub(_this2.worldPosition).multiplyScalar(-1),_this2.tempVector.applyQuaternion(_this2.worldQuaternionStart.clone().invert()),handle.scale.copy(_this2.tempVector),handle.visible=_this2.dragging):(handle.quaternion.copy(quaternion),_this2.dragging?handle.position.copy(_this2.worldPositionStart):handle.position.copy(_this2.worldPosition),\n_this2.axis&&(handle.visible=-1!==_this2.axis.search(handle.name))),\"continue\";handle.quaternion.copy(quaternion);\"translate\"===_this2.mode||\"scale\"===_this2.mode?((\"X\"===handle.name||\"XYZX\"===handle.name)&&.99<Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye))&&(handle.scale.set(1E-10,1E-10,1E-10),handle.visible=!1),(\"Y\"===handle.name||\"XYZY\"===handle.name)&&.99<Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye))&&(handle.scale.set(1E-10,\n1E-10,1E-10),handle.visible=!1),(\"Z\"===handle.name||\"XYZZ\"===handle.name)&&.99<Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye))&&(handle.scale.set(1E-10,1E-10,1E-10),handle.visible=!1),\"XY\"===handle.name&&.2>Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye))&&(handle.scale.set(1E-10,1E-10,1E-10),handle.visible=!1),\"YZ\"===handle.name&&.2>Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye))&&\n(handle.scale.set(1E-10,1E-10,1E-10),handle.visible=!1),\"XZ\"===handle.name&&.2>Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye))&&(handle.scale.set(1E-10,1E-10,1E-10),handle.visible=!1),-1!==handle.name.search(\"X\")&&(0>_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)?\"fwd\"===handle.tag?handle.visible=!1:handle.scale.x*=-1:\"bwd\"===handle.tag&&(handle.visible=!1)),-1!==handle.name.search(\"Y\")&&(0>_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)?\n\"fwd\"===handle.tag?handle.visible=!1:handle.scale.y*=-1:\"bwd\"===handle.tag&&(handle.visible=!1)),-1!==handle.name.search(\"Z\")&&(0>_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)?\"fwd\"===handle.tag?handle.visible=!1:handle.scale.z*=-1:\"bwd\"===handle.tag&&(handle.visible=!1))):\"rotate\"===_this2.mode&&(_this2.tempQuaternion2.copy(quaternion),_this2.alignVector.copy(_this2.eye).applyQuaternion(_this2.tempQuaternion.copy(quaternion).invert()),-1!==handle.name.search(\"E\")&&\nhandle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.eye,_this2.zeroVector,_this2.unitY)),\"X\"===handle.name&&(_this2.tempQuaternion.setFromAxisAngle(_this2.unitX,Math.atan2(-_this2.alignVector.y,_this2.alignVector.z)),_this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2,_this2.tempQuaternion),handle.quaternion.copy(_this2.tempQuaternion)),\"Y\"===handle.name&&(_this2.tempQuaternion.setFromAxisAngle(_this2.unitY,Math.atan2(_this2.alignVector.x,_this2.alignVector.z)),\n_this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2,_this2.tempQuaternion),handle.quaternion.copy(_this2.tempQuaternion)),\"Z\"===handle.name&&(_this2.tempQuaternion.setFromAxisAngle(_this2.unitZ,Math.atan2(_this2.alignVector.y,_this2.alignVector.x)),_this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2,_this2.tempQuaternion),handle.quaternion.copy(_this2.tempQuaternion)));handle.visible=handle.visible&&(-1===handle.name.indexOf(\"X\")||_this2.showX);handle.visible=handle.visible&&\n(-1===handle.name.indexOf(\"Y\")||_this2.showY);handle.visible=handle.visible&&(-1===handle.name.indexOf(\"Z\")||_this2.showZ);handle.visible=handle.visible&&(-1===handle.name.indexOf(\"E\")||_this2.showX&&_this2.showY&&_this2.showZ);handle.material.tempOpacity=handle.material.tempOpacity||handle.material.opacity;handle.material.tempColor=handle.material.tempColor||handle.material.color.clone();handle.material.color.copy(handle.material.tempColor);handle.material.opacity=handle.material.tempOpacity;_this2.enabled?\n_this2.axis&&(handle.name===_this2.axis?handle.material.opacity=1:_this2.axis.split(\"\").some(function(a){return handle.name===a})?handle.material.opacity=1:handle.material.opacity*=.25,handle.material.color.lerp(new _three.Color(1,1,1),.5)):(handle.material.opacity*=.5,handle.material.color.lerp(new _three.Color(1,1,1),.5))};for(var i$jscomp$0=0;i$jscomp$0<handles.length;i$jscomp$0++)space(i$jscomp$0);_get(_getPrototypeOf(TransformControlsGizmo.prototype),\"updateMatrixWorld\",_assertThisInitialized(_this2)).call(_assertThisInitialized(_this2))});\nvar gizmoMaterial=new _three.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:_three.DoubleSide,fog:!1,toneMapped:!1}),gizmoLineMaterial=new _three.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),matInvisible=gizmoMaterial.clone();matInvisible.opacity=.15;var matHelper=gizmoMaterial.clone();matHelper.opacity=.33;var matRed=gizmoMaterial.clone();matRed.color.set(16711680);var matGreen=gizmoMaterial.clone();matGreen.color.set(65280);var matBlue=\ngizmoMaterial.clone();matBlue.color.set(255);var matWhiteTransparent=gizmoMaterial.clone();matWhiteTransparent.opacity=.25;var matYellowTransparent=matWhiteTransparent.clone();matYellowTransparent.color.set(16776960);var matCyanTransparent=matWhiteTransparent.clone();matCyanTransparent.color.set(65535);var matMagentaTransparent=matWhiteTransparent.clone();matMagentaTransparent.color.set(16711935);gizmoMaterial.clone().color.set(16776960);var matLineRed=gizmoLineMaterial.clone();matLineRed.color.set(16711680);\nvar matLineGreen=gizmoLineMaterial.clone();matLineGreen.color.set(65280);var matLineBlue=gizmoLineMaterial.clone();matLineBlue.color.set(255);var matLineCyan=gizmoLineMaterial.clone();matLineCyan.color.set(65535);var matLineMagenta=gizmoLineMaterial.clone();matLineMagenta.color.set(16711935);var matLineYellow=gizmoLineMaterial.clone();matLineYellow.color.set(16776960);var matLineGray=gizmoLineMaterial.clone();matLineGray.color.set(7895160);var matLineYellowTransparent=matLineYellow.clone();matLineYellowTransparent.opacity=\n.25;gizmoLineMaterial=new _three.CylinderGeometry(0,.05,.2,12,1,!1);var scaleHandleGeometry=new _three.BoxGeometry(.125,.125,.125),lineGeometry=new _three.BufferGeometry;lineGeometry.setAttribute(\"position\",new _three.Float32BufferAttribute([0,0,0,1,0,0],3));var CircleGeometry=function(radius,arc){for(var geometry=new _three.BufferGeometry,vertices=[],i=0;i<=64*arc;++i)vertices.push(0,Math.cos(i/32*Math.PI)*radius,Math.sin(i/32*Math.PI)*radius);geometry.setAttribute(\"position\",new _three.Float32BufferAttribute(vertices,\n3));return geometry};gizmoLineMaterial={X:[[new _three.Mesh(gizmoLineMaterial,matRed),[1,0,0],[0,0,-Math.PI/2],null,\"fwd\"],[new _three.Mesh(gizmoLineMaterial,matRed),[1,0,0],[0,0,Math.PI/2],null,\"bwd\"],[new _three.Line(lineGeometry,matLineRed)]],Y:[[new _three.Mesh(gizmoLineMaterial,matGreen),[0,1,0],null,null,\"fwd\"],[new _three.Mesh(gizmoLineMaterial,matGreen),[0,1,0],[Math.PI,0,0],null,\"bwd\"],[new _three.Line(lineGeometry,matLineGreen),null,[0,0,Math.PI/2]]],Z:[[new _three.Mesh(gizmoLineMaterial,\nmatBlue),[0,0,1],[Math.PI/2,0,0],null,\"fwd\"],[new _three.Mesh(gizmoLineMaterial,matBlue),[0,0,1],[-Math.PI/2,0,0],null,\"bwd\"],[new _three.Line(lineGeometry,matLineBlue),null,[0,-Math.PI/2,0]]],XYZ:[[new _three.Mesh(new _three.OctahedronGeometry(.1,0),matWhiteTransparent.clone()),[0,0,0],[0,0,0]]],XY:[[new _three.Mesh(new _three.PlaneGeometry(.295,.295),matYellowTransparent.clone()),[.15,.15,0]],[new _three.Line(lineGeometry,matLineYellow),[.18,.3,0],null,[.125,1,1]],[new _three.Line(lineGeometry,\nmatLineYellow),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new _three.Mesh(new _three.PlaneGeometry(.295,.295),matCyanTransparent.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new _three.Line(lineGeometry,matLineCyan),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new _three.Line(lineGeometry,matLineCyan),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new _three.Mesh(new _three.PlaneGeometry(.295,.295),matMagentaTransparent.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new _three.Line(lineGeometry,matLineMagenta),[.18,\n0,.3],null,[.125,1,1]],[new _three.Line(lineGeometry,matLineMagenta),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]};gizmoMaterial={X:[[new _three.Mesh(new _three.CylinderGeometry(.2,0,1,4,1,!1),matInvisible),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new _three.Mesh(new _three.CylinderGeometry(.2,0,1,4,1,!1),matInvisible),[0,.6,0]]],Z:[[new _three.Mesh(new _three.CylinderGeometry(.2,0,1,4,1,!1),matInvisible),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new _three.Mesh(new _three.OctahedronGeometry(.2,0),matInvisible)]],XY:[[new _three.Mesh(new _three.PlaneGeometry(.4,\n.4),matInvisible),[.2,.2,0]]],YZ:[[new _three.Mesh(new _three.PlaneGeometry(.4,.4),matInvisible),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new _three.Mesh(new _three.PlaneGeometry(.4,.4),matInvisible),[.2,0,.2],[-Math.PI/2,0,0]]]};var helperTranslate={START:[[new _three.Mesh(new _three.OctahedronGeometry(.01,2),matHelper),null,null,null,\"helper\"]],END:[[new _three.Mesh(new _three.OctahedronGeometry(.01,2),matHelper),null,null,null,\"helper\"]],DELTA:[[new _three.Line(function(){var geometry=new _three.BufferGeometry;\ngeometry.setAttribute(\"position\",new _three.Float32BufferAttribute([0,0,0,1,1,1],3));return geometry}(),matHelper),null,null,null,\"helper\"]],X:[[new _three.Line(lineGeometry,matHelper.clone()),[-1E3,0,0],null,[1E6,1,1],\"helper\"]],Y:[[new _three.Line(lineGeometry,matHelper.clone()),[0,-1E3,0],[0,0,Math.PI/2],[1E6,1,1],\"helper\"]],Z:[[new _three.Line(lineGeometry,matHelper.clone()),[0,0,-1E3],[0,-Math.PI/2,0],[1E6,1,1],\"helper\"]]};matLineGray={X:[[new _three.Line(CircleGeometry(1,.5),matLineRed)],[new _three.Mesh(new _three.OctahedronGeometry(.04,\n0),matRed),[0,0,.99],null,[1,3,1]]],Y:[[new _three.Line(CircleGeometry(1,.5),matLineGreen),null,[0,0,-Math.PI/2]],[new _three.Mesh(new _three.OctahedronGeometry(.04,0),matGreen),[0,0,.99],null,[3,1,1]]],Z:[[new _three.Line(CircleGeometry(1,.5),matLineBlue),null,[0,Math.PI/2,0]],[new _three.Mesh(new _three.OctahedronGeometry(.04,0),matBlue),[.99,0,0],null,[1,3,1]]],E:[[new _three.Line(CircleGeometry(1.25,1),matLineYellowTransparent),null,[0,Math.PI/2,0]],[new _three.Mesh(new _three.CylinderGeometry(.03,\n0,.15,4,1,!1),matLineYellowTransparent),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new _three.Mesh(new _three.CylinderGeometry(.03,0,.15,4,1,!1),matLineYellowTransparent),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new _three.Mesh(new _three.CylinderGeometry(.03,0,.15,4,1,!1),matLineYellowTransparent),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new _three.Mesh(new _three.CylinderGeometry(.03,0,.15,4,1,!1),matLineYellowTransparent),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new _three.Line(CircleGeometry(1,1),matLineGray),\nnull,[0,Math.PI/2,0]]]};matLineYellowTransparent={AXIS:[[new _three.Line(lineGeometry,matHelper.clone()),[-1E3,0,0],null,[1E6,1,1],\"helper\"]]};CircleGeometry={X:[[new _three.Mesh(new _three.TorusGeometry(1,.1,4,24),matInvisible),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new _three.Mesh(new _three.TorusGeometry(1,.1,4,24),matInvisible),[0,0,0],[Math.PI/2,0,0]]],Z:[[new _three.Mesh(new _three.TorusGeometry(1,.1,4,24),matInvisible),[0,0,0],[0,0,-Math.PI/2]]],E:[[new _three.Mesh(new _three.TorusGeometry(1.25,\n.1,2,24),matInvisible)]],XYZE:[[new _three.Mesh(new _three.SphereGeometry(.7,10,8),matInvisible)]]};matRed={X:[[new _three.Mesh(scaleHandleGeometry,matRed),[.8,0,0],[0,0,-Math.PI/2]],[new _three.Line(lineGeometry,matLineRed),null,null,[.8,1,1]]],Y:[[new _three.Mesh(scaleHandleGeometry,matGreen),[0,.8,0]],[new _three.Line(lineGeometry,matLineGreen),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new _three.Mesh(scaleHandleGeometry,matBlue),[0,0,.8],[Math.PI/2,0,0]],[new _three.Line(lineGeometry,matLineBlue),null,\n[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new _three.Mesh(scaleHandleGeometry,matYellowTransparent),[.85,.85,0],null,[2,2,.2]],[new _three.Line(lineGeometry,matLineYellow),[.855,.98,0],null,[.125,1,1]],[new _three.Line(lineGeometry,matLineYellow),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new _three.Mesh(scaleHandleGeometry,matCyanTransparent),[0,.85,.85],null,[.2,2,2]],[new _three.Line(lineGeometry,matLineCyan),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new _three.Line(lineGeometry,matLineCyan),[0,.98,\n.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new _three.Mesh(scaleHandleGeometry,matMagentaTransparent),[.85,0,.85],null,[2,.2,2]],[new _three.Line(lineGeometry,matLineMagenta),[.855,0,.98],null,[.125,1,1]],[new _three.Line(lineGeometry,matLineMagenta),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new _three.Mesh(new _three.BoxGeometry(.125,.125,.125),matWhiteTransparent.clone()),[1.1,0,0]]],XYZY:[[new _three.Mesh(new _three.BoxGeometry(.125,.125,.125),matWhiteTransparent.clone()),[0,1.1,0]]],XYZZ:[[new _three.Mesh(new _three.BoxGeometry(.125,\n.125,.125),matWhiteTransparent.clone()),[0,0,1.1]]]};matInvisible={X:[[new _three.Mesh(new _three.CylinderGeometry(.2,0,.8,4,1,!1),matInvisible),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new _three.Mesh(new _three.CylinderGeometry(.2,0,.8,4,1,!1),matInvisible),[0,.5,0]]],Z:[[new _three.Mesh(new _three.CylinderGeometry(.2,0,.8,4,1,!1),matInvisible),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new _three.Mesh(scaleHandleGeometry,matInvisible),[.85,.85,0],null,[3,3,.2]]],YZ:[[new _three.Mesh(scaleHandleGeometry,matInvisible),\n[0,.85,.85],null,[.2,3,3]]],XZ:[[new _three.Mesh(scaleHandleGeometry,matInvisible),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new _three.Mesh(new _three.BoxGeometry(.2,.2,.2),matInvisible),[1.1,0,0]]],XYZY:[[new _three.Mesh(new _three.BoxGeometry(.2,.2,.2),matInvisible),[0,1.1,0]]],XYZZ:[[new _three.Mesh(new _three.BoxGeometry(.2,.2,.2),matInvisible),[0,0,1.1]]]};matHelper={X:[[new _three.Line(lineGeometry,matHelper.clone()),[-1E3,0,0],null,[1E6,1,1],\"helper\"]],Y:[[new _three.Line(lineGeometry,matHelper.clone()),\n[0,-1E3,0],[0,0,Math.PI/2],[1E6,1,1],\"helper\"]],Z:[[new _three.Line(lineGeometry,matHelper.clone()),[0,0,-1E3],[0,-Math.PI/2,0],[1E6,1,1],\"helper\"]]};matGreen=function(gizmoMap){var gizmo=new _three.Object3D,name;for(name in gizmoMap)for(var i=gizmoMap[name].length;i--;){var object=gizmoMap[name][i][0].clone(),position=gizmoMap[name][i][1],rotation=gizmoMap[name][i][2],scale=gizmoMap[name][i][3],tag=gizmoMap[name][i][4];object.name=name;object.tag=tag;position&&object.position.set(position[0],position[1],\nposition[2]);rotation&&object.rotation.set(rotation[0],rotation[1],rotation[2]);scale&&object.scale.set(scale[0],scale[1],scale[2]);object.updateMatrix();position=object.geometry.clone();position.applyMatrix4(object.matrix);object.geometry=position;object.renderOrder=Infinity;object.position.set(0,0,0);object.rotation.set(0,0,0);object.scale.set(1,1,1);gizmo.add(object)}return gizmo};_this2.gizmo={};_this2.picker={};_this2.helper={};_this2.add(_this2.gizmo.translate=matGreen(gizmoLineMaterial));_this2.add(_this2.gizmo.rotate=\nmatGreen(matLineGray));_this2.add(_this2.gizmo.scale=matGreen(matRed));_this2.add(_this2.picker.translate=matGreen(gizmoMaterial));_this2.add(_this2.picker.rotate=matGreen(CircleGeometry));_this2.add(_this2.picker.scale=matGreen(matInvisible));_this2.add(_this2.helper.translate=matGreen(helperTranslate));_this2.add(_this2.helper.rotate=matGreen(matLineYellowTransparent));_this2.add(_this2.helper.scale=matGreen(matHelper));_this2.picker.translate.visible=!1;_this2.picker.rotate.visible=!1;_this2.picker.scale.visible=\n!1;return _this2}_inherits(TransformControlsGizmo,_Object3D2);return TransformControlsGizmo}(_three.Object3D);exports.TransformControlsGizmo=TransformControlsGizmo;var TransformControlsPlane=function(_Mesh){function TransformControlsPlane(){_classCallCheck(this,TransformControlsPlane);var _this3=_possibleConstructorReturn(this,_getPrototypeOf(TransformControlsPlane).call(this,new _three.PlaneGeometry(1E5,1E5,2,2),new _three.MeshBasicMaterial({visible:!1,wireframe:!0,side:_three.DoubleSide,transparent:!0,\nopacity:.1,toneMapped:!1})));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"isTransformControlsPlane\",!0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"type\",\"TransformControlsPlane\");(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"unitX\",new _three.Vector3(1,0,0));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"unitY\",new _three.Vector3(0,1,0));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"unitZ\",new _three.Vector3(0,\n0,1));(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"tempVector\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"dirVector\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"alignVector\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"tempMatrix\",new _three.Matrix4);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"identityQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\n\"cameraQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"worldPosition\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"worldQuaternion\",new _three.Quaternion);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"eye\",new _three.Vector3);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"axis\",null);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"mode\",\"translate\");(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\n\"space\",\"world\");(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this3),\"updateMatrixWorld\",function(){var space=_this3.space;_this3.position.copy(_this3.worldPosition);\"scale\"===_this3.mode&&(space=\"local\");_this3.unitX.set(1,0,0).applyQuaternion(\"local\"===space?_this3.worldQuaternion:_this3.identityQuaternion);_this3.unitY.set(0,1,0).applyQuaternion(\"local\"===space?_this3.worldQuaternion:_this3.identityQuaternion);_this3.unitZ.set(0,0,1).applyQuaternion(\"local\"===space?_this3.worldQuaternion:\n_this3.identityQuaternion);_this3.alignVector.copy(_this3.unitY);switch(_this3.mode){case \"translate\":case \"scale\":switch(_this3.axis){case \"X\":_this3.alignVector.copy(_this3.eye).cross(_this3.unitX);_this3.dirVector.copy(_this3.unitX).cross(_this3.alignVector);break;case \"Y\":_this3.alignVector.copy(_this3.eye).cross(_this3.unitY);_this3.dirVector.copy(_this3.unitY).cross(_this3.alignVector);break;case \"Z\":_this3.alignVector.copy(_this3.eye).cross(_this3.unitZ);_this3.dirVector.copy(_this3.unitZ).cross(_this3.alignVector);\nbreak;case \"XY\":_this3.dirVector.copy(_this3.unitZ);break;case \"YZ\":_this3.dirVector.copy(_this3.unitX);break;case \"XZ\":_this3.alignVector.copy(_this3.unitZ);_this3.dirVector.copy(_this3.unitY);break;case \"XYZ\":case \"E\":_this3.dirVector.set(0,0,0)}break;default:_this3.dirVector.set(0,0,0)}0===_this3.dirVector.length()?_this3.quaternion.copy(_this3.cameraQuaternion):(_this3.tempMatrix.lookAt(_this3.tempVector.set(0,0,0),_this3.dirVector,_this3.alignVector),_this3.quaternion.setFromRotationMatrix(_this3.tempMatrix));\n_get(_getPrototypeOf(TransformControlsPlane.prototype),\"updateMatrixWorld\",_assertThisInitialized(_this3)).call(_assertThisInitialized(_this3))});return _this3}_inherits(TransformControlsPlane,_Mesh);return TransformControlsPlane}(_three.Mesh);exports.TransformControlsPlane=TransformControlsPlane}","~:source","shadow$provide[\"module$node_modules$three_stdlib$controls$TransformControls\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransformControlsPlane = exports.TransformControlsGizmo = exports.TransformControls = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\n\nvar _three = require(\"three\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar TransformControls =\n/*#__PURE__*/\nfunction (_Object3D) {\n  _inherits(TransformControls, _Object3D);\n\n  // events\n  function TransformControls(camera, domElement) {\n    var _this;\n\n    _classCallCheck(this, TransformControls);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TransformControls).call(this));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"isTransformControls\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"visible\", false);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"domElement\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"raycaster\", new _three.Raycaster());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"gizmo\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"plane\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"tempVector\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"tempVector2\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"tempQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"unit\", {\n      X: new _three.Vector3(1, 0, 0),\n      Y: new _three.Vector3(0, 1, 0),\n      Z: new _three.Vector3(0, 0, 1)\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"pointStart\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"pointEnd\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"offset\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"rotationAxis\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"startNorm\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"endNorm\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"rotationAngle\", 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"cameraPosition\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"cameraQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"cameraScale\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"parentPosition\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"parentQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"parentQuaternionInv\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"parentScale\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"worldPositionStart\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"worldQuaternionStart\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"worldScaleStart\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"worldPosition\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"worldQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"worldQuaternionInv\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"worldScale\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"eye\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"positionStart\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"quaternionStart\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"scaleStart\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"camera\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"object\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"enabled\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"axis\", null);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"mode\", 'translate');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"translationSnap\", null);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"rotationSnap\", null);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"scaleSnap\", null);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"space\", 'world');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"size\", 1);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"dragging\", false);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"showX\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"showY\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"showZ\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"changeEvent\", {\n      type: 'change'\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"mouseDownEvent\", {\n      type: 'mouseDown'\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"mouseUpEvent\", {\n      type: 'mouseUp',\n      mode: _this.mode\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"objectChangeEvent\", {\n      type: 'objectChange'\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"intersectObjectWithRay\", function (object, raycaster, includeInvisible) {\n      var allIntersections = raycaster.intersectObject(object, true);\n\n      for (var i = 0; i < allIntersections.length; i++) {\n        if (allIntersections[i].object.visible || includeInvisible) {\n          return allIntersections[i];\n        }\n      }\n\n      return false;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"attach\", function (object) {\n      _this.object = object;\n      _this.visible = true;\n      return _assertThisInitialized(_this);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"detach\", function () {\n      _this.object = undefined;\n      _this.visible = false;\n      _this.axis = null;\n      return _assertThisInitialized(_this);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"updateMatrixWorld\", function () {\n      if (_this.object !== undefined) {\n        _this.object.updateMatrixWorld();\n\n        if (_this.object.parent === null) {\n          console.error('TransformControls: The attached 3D object must be a part of the scene graph.');\n        } else {\n          _this.object.parent.matrixWorld.decompose(_this.parentPosition, _this.parentQuaternion, _this.parentScale);\n        }\n\n        _this.object.matrixWorld.decompose(_this.worldPosition, _this.worldQuaternion, _this.worldScale);\n\n        _this.parentQuaternionInv.copy(_this.parentQuaternion).invert();\n\n        _this.worldQuaternionInv.copy(_this.worldQuaternion).invert();\n      }\n\n      _this.camera.updateMatrixWorld();\n\n      _this.camera.matrixWorld.decompose(_this.cameraPosition, _this.cameraQuaternion, _this.cameraScale);\n\n      _this.eye.copy(_this.cameraPosition).sub(_this.worldPosition).normalize();\n\n      _get(_getPrototypeOf(TransformControls.prototype), \"updateMatrixWorld\", _assertThisInitialized(_this)).call(_assertThisInitialized(_this));\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"pointerHover\", function (pointer) {\n      if (_this.object === undefined || _this.dragging === true) return;\n\n      _this.raycaster.setFromCamera(pointer, _this.camera);\n\n      var intersect = _this.intersectObjectWithRay(_this.gizmo.picker[_this.mode], _this.raycaster);\n\n      if (intersect) {\n        _this.axis = intersect.object.name;\n      } else {\n        _this.axis = null;\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"pointerDown\", function (pointer) {\n      if (_this.object === undefined || _this.dragging === true || pointer.button !== 0) return;\n\n      if (_this.axis !== null) {\n        _this.raycaster.setFromCamera(pointer, _this.camera);\n\n        var planeIntersect = _this.intersectObjectWithRay(_this.plane, _this.raycaster, true);\n\n        if (planeIntersect) {\n          var space = _this.space;\n\n          if (_this.mode === 'scale') {\n            space = 'local';\n          } else if (_this.axis === 'E' || _this.axis === 'XYZE' || _this.axis === 'XYZ') {\n            space = 'world';\n          }\n\n          if (space === 'local' && _this.mode === 'rotate') {\n            var snap = _this.rotationSnap;\n            if (_this.axis === 'X' && snap) _this.object.rotation.x = Math.round(_this.object.rotation.x / snap) * snap;\n            if (_this.axis === 'Y' && snap) _this.object.rotation.y = Math.round(_this.object.rotation.y / snap) * snap;\n            if (_this.axis === 'Z' && snap) _this.object.rotation.z = Math.round(_this.object.rotation.z / snap) * snap;\n          }\n\n          _this.object.updateMatrixWorld();\n\n          if (_this.object.parent) {\n            _this.object.parent.updateMatrixWorld();\n          }\n\n          _this.positionStart.copy(_this.object.position);\n\n          _this.quaternionStart.copy(_this.object.quaternion);\n\n          _this.scaleStart.copy(_this.object.scale);\n\n          _this.object.matrixWorld.decompose(_this.worldPositionStart, _this.worldQuaternionStart, _this.worldScaleStart);\n\n          _this.pointStart.copy(planeIntersect.point).sub(_this.worldPositionStart);\n        }\n\n        _this.dragging = true;\n        _this.mouseDownEvent.type = _this.mode;\n\n        _this.dispatchEvent(_this.mouseDownEvent);\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"pointerMove\", function (pointer) {\n      var axis = _this.axis;\n      var mode = _this.mode;\n      var object = _this.object;\n      var space = _this.space;\n\n      if (mode === 'scale') {\n        space = 'local';\n      } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n        space = 'world';\n      }\n\n      if (object === undefined || axis === null || _this.dragging === false || pointer.button !== -1) return;\n\n      _this.raycaster.setFromCamera(pointer, _this.camera);\n\n      var planeIntersect = _this.intersectObjectWithRay(_this.plane, _this.raycaster, true);\n\n      if (!planeIntersect) return;\n\n      _this.pointEnd.copy(planeIntersect.point).sub(_this.worldPositionStart);\n\n      if (mode === 'translate') {\n        // Apply translate\n        _this.offset.copy(_this.pointEnd).sub(_this.pointStart);\n\n        if (space === 'local' && axis !== 'XYZ') {\n          _this.offset.applyQuaternion(_this.worldQuaternionInv);\n        }\n\n        if (axis.indexOf('X') === -1) _this.offset.x = 0;\n        if (axis.indexOf('Y') === -1) _this.offset.y = 0;\n        if (axis.indexOf('Z') === -1) _this.offset.z = 0;\n\n        if (space === 'local' && axis !== 'XYZ') {\n          _this.offset.applyQuaternion(_this.quaternionStart).divide(_this.parentScale);\n        } else {\n          _this.offset.applyQuaternion(_this.parentQuaternionInv).divide(_this.parentScale);\n        }\n\n        object.position.copy(_this.offset).add(_this.positionStart); // Apply translation snap\n\n        if (_this.translationSnap) {\n          if (space === 'local') {\n            object.position.applyQuaternion(_this.tempQuaternion.copy(_this.quaternionStart).invert());\n\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / _this.translationSnap) * _this.translationSnap;\n            }\n\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / _this.translationSnap) * _this.translationSnap;\n            }\n\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / _this.translationSnap) * _this.translationSnap;\n            }\n\n            object.position.applyQuaternion(_this.quaternionStart);\n          }\n\n          if (space === 'world') {\n            if (object.parent) {\n              object.position.add(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / _this.translationSnap) * _this.translationSnap;\n            }\n\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / _this.translationSnap) * _this.translationSnap;\n            }\n\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / _this.translationSnap) * _this.translationSnap;\n            }\n\n            if (object.parent) {\n              object.position.sub(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n          }\n        }\n      } else if (mode === 'scale') {\n        if (axis.search('XYZ') !== -1) {\n          var d = _this.pointEnd.length() / _this.pointStart.length();\n\n          if (_this.pointEnd.dot(_this.pointStart) < 0) d *= -1;\n\n          _this.tempVector2.set(d, d, d);\n        } else {\n          _this.tempVector.copy(_this.pointStart);\n\n          _this.tempVector2.copy(_this.pointEnd);\n\n          _this.tempVector.applyQuaternion(_this.worldQuaternionInv);\n\n          _this.tempVector2.applyQuaternion(_this.worldQuaternionInv);\n\n          _this.tempVector2.divide(_this.tempVector);\n\n          if (axis.search('X') === -1) {\n            _this.tempVector2.x = 1;\n          }\n\n          if (axis.search('Y') === -1) {\n            _this.tempVector2.y = 1;\n          }\n\n          if (axis.search('Z') === -1) {\n            _this.tempVector2.z = 1;\n          }\n        } // Apply scale\n\n\n        object.scale.copy(_this.scaleStart).multiply(_this.tempVector2);\n\n        if (_this.scaleSnap && _this.object) {\n          if (axis.search('X') !== -1) {\n            _this.object.scale.x = Math.round(object.scale.x / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.scale.y = Math.round(object.scale.y / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.scale.z = Math.round(object.scale.z / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\n          }\n        }\n      } else if (mode === 'rotate') {\n        _this.offset.copy(_this.pointEnd).sub(_this.pointStart);\n\n        var ROTATION_SPEED = 20 / _this.worldPosition.distanceTo(_this.tempVector.setFromMatrixPosition(_this.camera.matrixWorld));\n\n        if (axis === 'E') {\n          _this.rotationAxis.copy(_this.eye);\n\n          _this.rotationAngle = _this.pointEnd.angleTo(_this.pointStart);\n\n          _this.startNorm.copy(_this.pointStart).normalize();\n\n          _this.endNorm.copy(_this.pointEnd).normalize();\n\n          _this.rotationAngle *= _this.endNorm.cross(_this.startNorm).dot(_this.eye) < 0 ? 1 : -1;\n        } else if (axis === 'XYZE') {\n          _this.rotationAxis.copy(_this.offset).cross(_this.eye).normalize();\n\n          _this.rotationAngle = _this.offset.dot(_this.tempVector.copy(_this.rotationAxis).cross(_this.eye)) * ROTATION_SPEED;\n        } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n          _this.rotationAxis.copy(_this.unit[axis]);\n\n          _this.tempVector.copy(_this.unit[axis]);\n\n          if (space === 'local') {\n            _this.tempVector.applyQuaternion(_this.worldQuaternion);\n          }\n\n          _this.rotationAngle = _this.offset.dot(_this.tempVector.cross(_this.eye).normalize()) * ROTATION_SPEED;\n        } // Apply rotation snap\n\n\n        if (_this.rotationSnap) {\n          _this.rotationAngle = Math.round(_this.rotationAngle / _this.rotationSnap) * _this.rotationSnap;\n        } // Apply rotate\n\n\n        if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\n          object.quaternion.copy(_this.quaternionStart);\n          object.quaternion.multiply(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis, _this.rotationAngle)).normalize();\n        } else {\n          _this.rotationAxis.applyQuaternion(_this.parentQuaternionInv);\n\n          object.quaternion.copy(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis, _this.rotationAngle));\n          object.quaternion.multiply(_this.quaternionStart).normalize();\n        }\n      }\n\n      _this.dispatchEvent(_this.changeEvent);\n\n      _this.dispatchEvent(_this.objectChangeEvent);\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"pointerUp\", function (pointer) {\n      if (pointer.button !== 0) return;\n\n      if (_this.dragging && _this.axis !== null) {\n        _this.mouseUpEvent.mode = _this.mode;\n\n        _this.dispatchEvent(_this.mouseUpEvent);\n      }\n\n      _this.dragging = false;\n      _this.axis = null;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"getPointer\", function (event) {\n      var _this$domElement$owne;\n\n      if (_this.domElement && (_this$domElement$owne = _this.domElement.ownerDocument) !== null && _this$domElement$owne !== void 0 && _this$domElement$owne.pointerLockElement) {\n        return {\n          x: 0,\n          y: 0,\n          button: event.button\n        };\n      } else {\n        var _this$domElement;\n\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\n        var rect = (_this$domElement = _this.domElement) === null || _this$domElement === void 0 ? void 0 : _this$domElement.getBoundingClientRect();\n        return {\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n          button: event.button\n        };\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onPointerHover\", function (event) {\n      if (!_this.enabled) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          _this.pointerHover(_this.getPointer(event));\n\n          break;\n      }\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onPointerDown\", function (event) {\n      var _this$domElement$owne2;\n\n      if (!_this.enabled) return;\n      _this.domElement.style.touchAction = 'none'; // disable touch scroll\n\n      (_this$domElement$owne2 = _this.domElement.ownerDocument) === null || _this$domElement$owne2 === void 0 ? void 0 : _this$domElement$owne2.addEventListener('pointermove', _this.onPointerMove);\n\n      _this.pointerHover(_this.getPointer(event));\n\n      _this.pointerDown(_this.getPointer(event));\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onPointerMove\", function (event) {\n      if (!_this.enabled) return;\n\n      _this.pointerMove(_this.getPointer(event));\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"onPointerUp\", function (event) {\n      var _this$domElement$owne3;\n\n      if (!_this.enabled) return;\n      _this.domElement.style.touchAction = '';\n      (_this$domElement$owne3 = _this.domElement.ownerDocument) === null || _this$domElement$owne3 === void 0 ? void 0 : _this$domElement$owne3.removeEventListener('pointermove', _this.onPointerMove);\n\n      _this.pointerUp(_this.getPointer(event));\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"getMode\", function () {\n      return _this.mode;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      _this.mode = mode;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"setTranslationSnap\", function (translationSnap) {\n      _this.translationSnap = translationSnap;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"setRotationSnap\", function (rotationSnap) {\n      _this.rotationSnap = rotationSnap;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"setScaleSnap\", function (scaleSnap) {\n      _this.scaleSnap = scaleSnap;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"setSize\", function (size) {\n      _this.size = size;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"setSpace\", function (space) {\n      _this.space = space;\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"update\", function () {\n      console.warn('THREE.TransformControls: update function has no more functionality and therefore has been deprecated.');\n    });\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"dispose\", function () {\n      var _this$domElement$owne4, _this$domElement$owne5;\n\n      _this.domElement.removeEventListener('pointerdown', _this.onPointerDown);\n\n      _this.domElement.removeEventListener('pointermove', _this.onPointerHover);\n\n      (_this$domElement$owne4 = _this.domElement.ownerDocument) === null || _this$domElement$owne4 === void 0 ? void 0 : _this$domElement$owne4.removeEventListener('pointermove', _this.onPointerMove);\n      (_this$domElement$owne5 = _this.domElement.ownerDocument) === null || _this$domElement$owne5 === void 0 ? void 0 : _this$domElement$owne5.removeEventListener('pointerup', _this.onPointerUp);\n\n      _this.traverse(function (child) {\n        var mesh = child;\n\n        if (mesh.geometry) {\n          mesh.geometry.dispose();\n        }\n\n        if (mesh.material) {\n          mesh.material.dispose();\n        }\n      });\n    });\n\n    if (domElement === undefined) {\n      console.warn('THREE.TransformControls: The second parameter \"domElement\" is now mandatory.');\n      _this.domElement = document;\n    }\n\n    _this.domElement = domElement;\n    _this.camera = camera;\n    _this.gizmo = new TransformControlsGizmo();\n\n    _this.add(_this.gizmo);\n\n    _this.plane = new TransformControlsPlane();\n\n    _this.add(_this.plane); // Defined getter, setter and store for a property\n\n\n    var defineProperty = function defineProperty(propName, defaultValue) {\n      var propValue = defaultValue;\n      Object.defineProperty(_assertThisInitialized(_this), propName, {\n        get: function get() {\n          return propValue !== undefined ? propValue : defaultValue;\n        },\n        set: function set(value) {\n          if (propValue !== value) {\n            propValue = value;\n            this.plane[propName] = value;\n            this.gizmo[propName] = value;\n            this.dispatchEvent({\n              type: propName + '-changed',\n              value: value\n            });\n            this.dispatchEvent(this.changeEvent);\n          }\n        }\n      }); //@ts-ignore\n\n      _this[propName] = defaultValue; // @ts-ignore\n\n      _this.plane[propName] = defaultValue; // @ts-ignore\n\n      _this.gizmo[propName] = defaultValue;\n    };\n\n    defineProperty('camera', _this.camera);\n    defineProperty('object', _this.object);\n    defineProperty('enabled', _this.enabled);\n    defineProperty('axis', _this.axis);\n    defineProperty('mode', _this.mode);\n    defineProperty('translationSnap', _this.translationSnap);\n    defineProperty('rotationSnap', _this.rotationSnap);\n    defineProperty('scaleSnap', _this.scaleSnap);\n    defineProperty('space', _this.space);\n    defineProperty('size', _this.size);\n    defineProperty('dragging', _this.dragging);\n    defineProperty('showX', _this.showX);\n    defineProperty('showY', _this.showY);\n    defineProperty('showZ', _this.showZ);\n    defineProperty('worldPosition', _this.worldPosition);\n    defineProperty('worldPositionStart', _this.worldPositionStart);\n    defineProperty('worldQuaternion', _this.worldQuaternion);\n    defineProperty('worldQuaternionStart', _this.worldQuaternionStart);\n    defineProperty('cameraPosition', _this.cameraPosition);\n    defineProperty('cameraQuaternion', _this.cameraQuaternion);\n    defineProperty('pointStart', _this.pointStart);\n    defineProperty('pointEnd', _this.pointEnd);\n    defineProperty('rotationAxis', _this.rotationAxis);\n    defineProperty('rotationAngle', _this.rotationAngle);\n    defineProperty('eye', _this.eye);\n    {\n      domElement.addEventListener('pointerdown', _this.onPointerDown);\n      domElement.addEventListener('pointermove', _this.onPointerHover);\n\n      _this.domElement.ownerDocument.addEventListener('pointerup', _this.onPointerUp);\n    }\n    return _this;\n  }\n\n  return TransformControls;\n}(_three.Object3D);\n\nexports.TransformControls = TransformControls;\n\nvar TransformControlsGizmo =\n/*#__PURE__*/\nfunction (_Object3D2) {\n  _inherits(TransformControlsGizmo, _Object3D2);\n\n  // these are set from parent class TransformControls\n  function TransformControlsGizmo() {\n    var _this2;\n\n    _classCallCheck(this, TransformControlsGizmo);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(TransformControlsGizmo).call(this));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"isTransformControlsGizmo\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"type\", 'TransformControlsGizmo');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"tempVector\", new _three.Vector3(0, 0, 0));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"tempEuler\", new _three.Euler());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"alignVector\", new _three.Vector3(0, 1, 0));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"zeroVector\", new _three.Vector3(0, 0, 0));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"lookAtMatrix\", new _three.Matrix4());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"tempQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"tempQuaternion2\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"identityQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"unitX\", new _three.Vector3(1, 0, 0));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"unitY\", new _three.Vector3(0, 1, 0));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"unitZ\", new _three.Vector3(0, 0, 1));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"gizmo\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"picker\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"helper\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"rotationAxis\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"cameraPosition\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"worldPositionStart\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"worldQuaternionStart\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"worldPosition\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"worldQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"eye\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"camera\", null);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"enabled\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"axis\", null);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"mode\", 'translate');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"space\", 'world');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"size\", 1);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"dragging\", false);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"showX\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"showY\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"showZ\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this2), \"updateMatrixWorld\", function () {\n      var space = _this2.space;\n\n      if (_this2.mode === 'scale') {\n        space = 'local'; // scale always oriented to local rotation\n      }\n\n      var quaternion = space === 'local' ? _this2.worldQuaternion : _this2.identityQuaternion; // Show only gizmos for current transform mode\n\n      _this2.gizmo['translate'].visible = _this2.mode === 'translate';\n      _this2.gizmo['rotate'].visible = _this2.mode === 'rotate';\n      _this2.gizmo['scale'].visible = _this2.mode === 'scale';\n      _this2.helper['translate'].visible = _this2.mode === 'translate';\n      _this2.helper['rotate'].visible = _this2.mode === 'rotate';\n      _this2.helper['scale'].visible = _this2.mode === 'scale';\n      var handles = [];\n      handles = handles.concat(_this2.picker[_this2.mode].children);\n      handles = handles.concat(_this2.gizmo[_this2.mode].children);\n      handles = handles.concat(_this2.helper[_this2.mode].children);\n\n      var _loop = function _loop(i) {\n        var handle = handles[i]; // hide aligned to camera\n\n        handle.visible = true;\n        handle.rotation.set(0, 0, 0);\n        handle.position.copy(_this2.worldPosition);\n        var factor = void 0;\n\n        if (_this2.camera.isOrthographicCamera) {\n          factor = (_this2.camera.top - _this2.camera.bottom) / _this2.camera.zoom;\n        } else {\n          factor = _this2.worldPosition.distanceTo(_this2.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * _this2.camera.fov / 360) / _this2.camera.zoom, 7);\n        }\n\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * _this2.size / 7); // TODO: simplify helpers and consider decoupling from gizmo\n\n        if (handle.tag === 'helper') {\n          handle.visible = false;\n\n          if (handle.name === 'AXIS') {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.visible = !!_this2.axis;\n\n            if (_this2.axis === 'X') {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, 0, 0));\n\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n\n              if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (_this2.axis === 'Y') {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, 0, Math.PI / 2));\n\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n\n              if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (_this2.axis === 'Z') {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, Math.PI / 2, 0));\n\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\n\n              if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (_this2.axis === 'XYZE') {\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, Math.PI / 2, 0));\n\n              _this2.alignVector.copy(_this2.rotationAxis);\n\n              handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.zeroVector, _this2.alignVector, _this2.unitY));\n              handle.quaternion.multiply(_this2.tempQuaternion);\n              handle.visible = _this2.dragging;\n            }\n\n            if (_this2.axis === 'E') {\n              handle.visible = false;\n            }\n          } else if (handle.name === 'START') {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.visible = _this2.dragging;\n          } else if (handle.name === 'END') {\n            handle.position.copy(_this2.worldPosition);\n            handle.visible = _this2.dragging;\n          } else if (handle.name === 'DELTA') {\n            handle.position.copy(_this2.worldPositionStart);\n            handle.quaternion.copy(_this2.worldQuaternionStart);\n\n            _this2.tempVector.set(1e-10, 1e-10, 1e-10).add(_this2.worldPositionStart).sub(_this2.worldPosition).multiplyScalar(-1);\n\n            _this2.tempVector.applyQuaternion(_this2.worldQuaternionStart.clone().invert());\n\n            handle.scale.copy(_this2.tempVector);\n            handle.visible = _this2.dragging;\n          } else {\n            handle.quaternion.copy(quaternion);\n\n            if (_this2.dragging) {\n              handle.position.copy(_this2.worldPositionStart);\n            } else {\n              handle.position.copy(_this2.worldPosition);\n            }\n\n            if (_this2.axis) {\n              handle.visible = _this2.axis.search(handle.name) !== -1;\n            }\n          } // If updating helper, skip rest of the loop\n\n\n          return \"continue\";\n        } // Align handles to current local or world rotation\n\n\n        handle.quaternion.copy(quaternion);\n\n        if (_this2.mode === 'translate' || _this2.mode === 'scale') {\n          // Hide translate and scale axis facing the camera\n          var AXIS_HIDE_TRESHOLD = 0.99;\n          var PLANE_HIDE_TRESHOLD = 0.2;\n          var AXIS_FLIP_TRESHOLD = 0.0;\n\n          if (handle.name === 'X' || handle.name === 'XYZX') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'Y' || handle.name === 'XYZY') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'Z' || handle.name === 'XYZZ') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'XY') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'YZ') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'XZ') {\n            if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          } // Flip translate and scale axis ocluded behind another axis\n\n\n          if (handle.name.search('X') !== -1) {\n            if (_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.x *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name.search('Y') !== -1) {\n            if (_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.y *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name.search('Z') !== -1) {\n            if (_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.z *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n        } else if (_this2.mode === 'rotate') {\n          // Align handles to current local or world rotation\n          _this2.tempQuaternion2.copy(quaternion);\n\n          _this2.alignVector.copy(_this2.eye).applyQuaternion(_this2.tempQuaternion.copy(quaternion).invert());\n\n          if (handle.name.search('E') !== -1) {\n            handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.eye, _this2.zeroVector, _this2.unitY));\n          }\n\n          if (handle.name === 'X') {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitX, Math.atan2(-_this2.alignVector.y, _this2.alignVector.z));\n\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n\n          if (handle.name === 'Y') {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitY, Math.atan2(_this2.alignVector.x, _this2.alignVector.z));\n\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n\n          if (handle.name === 'Z') {\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitZ, Math.atan2(_this2.alignVector.y, _this2.alignVector.x));\n\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\n\n            handle.quaternion.copy(_this2.tempQuaternion);\n          }\n        } // Hide disabled axes\n\n\n        handle.visible = handle.visible && (handle.name.indexOf('X') === -1 || _this2.showX);\n        handle.visible = handle.visible && (handle.name.indexOf('Y') === -1 || _this2.showY);\n        handle.visible = handle.visible && (handle.name.indexOf('Z') === -1 || _this2.showZ);\n        handle.visible = handle.visible && (handle.name.indexOf('E') === -1 || _this2.showX && _this2.showY && _this2.showZ); // highlight selected axis\n        //@ts-ignore\n\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity; //@ts-ignore\n\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone(); //@ts-ignore\n\n        handle.material.color.copy(handle.material.tempColor); //@ts-ignore\n\n        handle.material.opacity = handle.material.tempOpacity;\n\n        if (!_this2.enabled) {\n          //@ts-ignore\n          handle.material.opacity *= 0.5; //@ts-ignore\n\n          handle.material.color.lerp(new _three.Color(1, 1, 1), 0.5);\n        } else if (_this2.axis) {\n          if (handle.name === _this2.axis) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new _three.Color(1, 1, 1), 0.5);\n          } else if (_this2.axis.split('').some(function (a) {\n            return handle.name === a;\n          })) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new _three.Color(1, 1, 1), 0.5);\n          } else {\n            //@ts-ignore\n            handle.material.opacity *= 0.25; //@ts-ignore\n\n            handle.material.color.lerp(new _three.Color(1, 1, 1), 0.5);\n          }\n        }\n      };\n\n      for (var i = 0; i < handles.length; i++) {\n        var _ret = _loop(i);\n\n        if (_ret === \"continue\") continue;\n      }\n\n      _get(_getPrototypeOf(TransformControlsGizmo.prototype), \"updateMatrixWorld\", _assertThisInitialized(_this2)).call(_assertThisInitialized(_this2));\n    });\n    var gizmoMaterial = new _three.MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: _three.DoubleSide,\n      fog: false,\n      toneMapped: false\n    });\n    var gizmoLineMaterial = new _three.LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false\n    }); // Make unique material for each axis/color\n\n    var matInvisible = gizmoMaterial.clone();\n    matInvisible.opacity = 0.15;\n    var matHelper = gizmoMaterial.clone();\n    matHelper.opacity = 0.33;\n    var matRed = gizmoMaterial.clone();\n    matRed.color.set(0xff0000);\n    var matGreen = gizmoMaterial.clone();\n    matGreen.color.set(0x00ff00);\n    var matBlue = gizmoMaterial.clone();\n    matBlue.color.set(0x0000ff);\n    var matWhiteTransparent = gizmoMaterial.clone();\n    matWhiteTransparent.opacity = 0.25;\n    var matYellowTransparent = matWhiteTransparent.clone();\n    matYellowTransparent.color.set(0xffff00);\n    var matCyanTransparent = matWhiteTransparent.clone();\n    matCyanTransparent.color.set(0x00ffff);\n    var matMagentaTransparent = matWhiteTransparent.clone();\n    matMagentaTransparent.color.set(0xff00ff);\n    var matYellow = gizmoMaterial.clone();\n    matYellow.color.set(0xffff00);\n    var matLineRed = gizmoLineMaterial.clone();\n    matLineRed.color.set(0xff0000);\n    var matLineGreen = gizmoLineMaterial.clone();\n    matLineGreen.color.set(0x00ff00);\n    var matLineBlue = gizmoLineMaterial.clone();\n    matLineBlue.color.set(0x0000ff);\n    var matLineCyan = gizmoLineMaterial.clone();\n    matLineCyan.color.set(0x00ffff);\n    var matLineMagenta = gizmoLineMaterial.clone();\n    matLineMagenta.color.set(0xff00ff);\n    var matLineYellow = gizmoLineMaterial.clone();\n    matLineYellow.color.set(0xffff00);\n    var matLineGray = gizmoLineMaterial.clone();\n    matLineGray.color.set(0x787878);\n    var matLineYellowTransparent = matLineYellow.clone();\n    matLineYellowTransparent.opacity = 0.25; // reusable geometry\n\n    var arrowGeometry = new _three.CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\n    var scaleHandleGeometry = new _three.BoxGeometry(0.125, 0.125, 0.125);\n    var lineGeometry = new _three.BufferGeometry();\n    lineGeometry.setAttribute('position', new _three.Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n    var CircleGeometry = function CircleGeometry(radius, arc) {\n      var geometry = new _three.BufferGeometry();\n      var vertices = [];\n\n      for (var i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n      }\n\n      geometry.setAttribute('position', new _three.Float32BufferAttribute(vertices, 3));\n      return geometry;\n    }; // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\n    var TranslateHelperGeometry = function TranslateHelperGeometry() {\n      var geometry = new _three.BufferGeometry();\n      geometry.setAttribute('position', new _three.Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n      return geometry;\n    }; // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\n    var gizmoTranslate = {\n      X: [[new _three.Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'], [new _three.Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'], [new _three.Line(lineGeometry, matLineRed)]],\n      Y: [[new _three.Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'], [new _three.Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'], [new _three.Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]],\n      Z: [[new _three.Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'], [new _three.Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'], [new _three.Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]],\n      XYZ: [[new _three.Mesh(new _three.OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [[new _three.Mesh(new _three.PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]], [new _three.Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new _three.Mesh(new _three.PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new _three.Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new _three.Mesh(new _three.PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new _three.Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]]\n    };\n    var pickerTranslate = {\n      X: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new _three.Mesh(new _three.OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new _three.Mesh(new _three.PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new _three.Mesh(new _three.PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new _three.Mesh(new _three.PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n    };\n    var helperTranslate = {\n      START: [[new _three.Mesh(new _three.OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      END: [[new _three.Mesh(new _three.OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      DELTA: [[new _three.Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\n      X: [[new _three.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new _three.Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new _three.Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    };\n    var gizmoRotate = {\n      X: [[new _three.Line(CircleGeometry(1, 0.5), matLineRed)], [new _three.Mesh(new _three.OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]],\n      Y: [[new _three.Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]], [new _three.Mesh(new _three.OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]],\n      Z: [[new _three.Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]], [new _three.Mesh(new _three.OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]],\n      E: [[new _three.Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]], [new _three.Mesh(new _three.CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 0.001]], [new _three.Mesh(new _three.CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 0.001]], [new _three.Mesh(new _three.CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 0.001]], [new _three.Mesh(new _three.CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 0.001]]],\n      XYZE: [[new _three.Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n    };\n    var helperRotate = {\n      AXIS: [[new _three.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']]\n    };\n    var pickerRotate = {\n      X: [[new _three.Mesh(new _three.TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new _three.Mesh(new _three.TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new _three.Mesh(new _three.TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new _three.Mesh(new _three.TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new _three.Mesh(new _three.SphereGeometry(0.7, 10, 8), matInvisible)]]\n    };\n    var gizmoScale = {\n      X: [[new _three.Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]], [new _three.Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]],\n      Y: [[new _three.Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]], [new _three.Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]],\n      Z: [[new _three.Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]], [new _three.Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]],\n      XY: [[new _three.Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]], [new _three.Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new _three.Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]], [new _three.Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new _three.Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]], [new _three.Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XYZX: [[new _three.Mesh(new _three.BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new _three.Mesh(new _three.BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new _three.Mesh(new _three.BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n    };\n    var pickerScale = {\n      X: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new _three.Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new _three.Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new _three.Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new _three.Mesh(new _three.BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new _three.Mesh(new _three.BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new _three.Mesh(new _three.BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n    };\n    var helperScale = {\n      X: [[new _three.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new _three.Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new _three.Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    }; // Creates an Object3D with gizmos described in custom hierarchy definition.\n    // this is nearly impossible to Type so i'm leaving it\n\n    var setupGizmo = function setupGizmo(gizmoMap) {\n      var gizmo = new _three.Object3D();\n\n      for (var name in gizmoMap) {\n        for (var i = gizmoMap[name].length; i--;) {\n          var object = gizmoMap[name][i][0].clone();\n          var position = gizmoMap[name][i][1];\n          var rotation = gizmoMap[name][i][2];\n          var scale = gizmoMap[name][i][3];\n          var tag = gizmoMap[name][i][4]; // name and tag properties are essential for picking and updating logic.\n\n          object.name = name; // @ts-ignore\n\n          object.tag = tag;\n\n          if (position) {\n            object.position.set(position[0], position[1], position[2]);\n          }\n\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\n          }\n\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2]);\n          }\n\n          object.updateMatrix();\n          var tempGeometry = object.geometry.clone();\n          tempGeometry.applyMatrix4(object.matrix);\n          object.geometry = tempGeometry;\n          object.renderOrder = Infinity;\n          object.position.set(0, 0, 0);\n          object.rotation.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n          gizmo.add(object);\n        }\n      }\n\n      return gizmo;\n    };\n\n    _this2.gizmo = {};\n    _this2.picker = {};\n    _this2.helper = {};\n\n    _this2.add(_this2.gizmo['translate'] = setupGizmo(gizmoTranslate));\n\n    _this2.add(_this2.gizmo['rotate'] = setupGizmo(gizmoRotate));\n\n    _this2.add(_this2.gizmo['scale'] = setupGizmo(gizmoScale));\n\n    _this2.add(_this2.picker['translate'] = setupGizmo(pickerTranslate));\n\n    _this2.add(_this2.picker['rotate'] = setupGizmo(pickerRotate));\n\n    _this2.add(_this2.picker['scale'] = setupGizmo(pickerScale));\n\n    _this2.add(_this2.helper['translate'] = setupGizmo(helperTranslate));\n\n    _this2.add(_this2.helper['rotate'] = setupGizmo(helperRotate));\n\n    _this2.add(_this2.helper['scale'] = setupGizmo(helperScale)); // Pickers should be hidden always\n\n\n    _this2.picker['translate'].visible = false;\n    _this2.picker['rotate'].visible = false;\n    _this2.picker['scale'].visible = false;\n    return _this2;\n  } // updateMatrixWorld will update transformations and appearance of individual handles\n\n\n  return TransformControlsGizmo;\n}(_three.Object3D);\n\nexports.TransformControlsGizmo = TransformControlsGizmo;\n\nvar TransformControlsPlane =\n/*#__PURE__*/\nfunction (_Mesh) {\n  _inherits(TransformControlsPlane, _Mesh);\n\n  function TransformControlsPlane() {\n    var _this3;\n\n    _classCallCheck(this, TransformControlsPlane);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(TransformControlsPlane).call(this, new _three.PlaneGeometry(100000, 100000, 2, 2), new _three.MeshBasicMaterial({\n      visible: false,\n      wireframe: true,\n      side: _three.DoubleSide,\n      transparent: true,\n      opacity: 0.1,\n      toneMapped: false\n    })));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"isTransformControlsPlane\", true);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"type\", 'TransformControlsPlane');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"unitX\", new _three.Vector3(1, 0, 0));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"unitY\", new _three.Vector3(0, 1, 0));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"unitZ\", new _three.Vector3(0, 0, 1));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"tempVector\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"dirVector\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"alignVector\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"tempMatrix\", new _three.Matrix4());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"identityQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"cameraQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"worldPosition\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"worldQuaternion\", new _three.Quaternion());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"eye\", new _three.Vector3());\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"axis\", null);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"mode\", 'translate');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"space\", 'world');\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this3), \"updateMatrixWorld\", function () {\n      var space = _this3.space;\n\n      _this3.position.copy(_this3.worldPosition);\n\n      if (_this3.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n      _this3.unitX.set(1, 0, 0).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion);\n\n      _this3.unitY.set(0, 1, 0).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion);\n\n      _this3.unitZ.set(0, 0, 1).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion); // Align the plane for current transform mode, axis and space.\n\n\n      _this3.alignVector.copy(_this3.unitY);\n\n      switch (_this3.mode) {\n        case 'translate':\n        case 'scale':\n          switch (_this3.axis) {\n            case 'X':\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitX);\n\n              _this3.dirVector.copy(_this3.unitX).cross(_this3.alignVector);\n\n              break;\n\n            case 'Y':\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitY);\n\n              _this3.dirVector.copy(_this3.unitY).cross(_this3.alignVector);\n\n              break;\n\n            case 'Z':\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitZ);\n\n              _this3.dirVector.copy(_this3.unitZ).cross(_this3.alignVector);\n\n              break;\n\n            case 'XY':\n              _this3.dirVector.copy(_this3.unitZ);\n\n              break;\n\n            case 'YZ':\n              _this3.dirVector.copy(_this3.unitX);\n\n              break;\n\n            case 'XZ':\n              _this3.alignVector.copy(_this3.unitZ);\n\n              _this3.dirVector.copy(_this3.unitY);\n\n              break;\n\n            case 'XYZ':\n            case 'E':\n              _this3.dirVector.set(0, 0, 0);\n\n              break;\n          }\n\n          break;\n\n        case 'rotate':\n        default:\n          // special case for rotate\n          _this3.dirVector.set(0, 0, 0);\n\n      }\n\n      if (_this3.dirVector.length() === 0) {\n        // If in rotate mode, make the plane parallel to camera\n        _this3.quaternion.copy(_this3.cameraQuaternion);\n      } else {\n        _this3.tempMatrix.lookAt(_this3.tempVector.set(0, 0, 0), _this3.dirVector, _this3.alignVector);\n\n        _this3.quaternion.setFromRotationMatrix(_this3.tempMatrix);\n      }\n\n      _get(_getPrototypeOf(TransformControlsPlane.prototype), \"updateMatrixWorld\", _assertThisInitialized(_this3)).call(_assertThisInitialized(_this3));\n    });\n    return _this3;\n  }\n\n  return TransformControlsPlane;\n}(_three.Mesh);\n\nexports.TransformControlsPlane = TransformControlsPlane;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js","~$module$node_modules$$babel$runtime$helpers$esm$defineProperty"]],"~:properties",["^5",["object","z","space","gizmo","depthTest","YZ","touchAction","XZ","translationSnap","prototype","transparent","side","picker","dragging","scaleSnap","fog","tempColor","x","__esModule","axis","camera","Y","Z","XYZ","renderOrder","END","mode","name","configurable","tag","value","E","helper","visible","wireframe","geometry","TransformControlsPlane","toneMapped","writable","tempOpacity","linewidth","plane","XYZX","type","y","XYZY","__proto__","X","DELTA","depthWrite","TransformControls","XYZE","set","TransformControlsGizmo","AXIS","XY","XYZZ","size","START","get","rotationSnap","opacity","domElement","button","constructor","rotationAngle"]],"~:compiled-at",1630917515448,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$controls$TransformControls.js\",\n\"lineCount\":91,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/controls/TransformControls.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$controls$TransformControls\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.TransformControlsPlane = exports.TransformControlsGizmo = exports.TransformControls = void 0;\\n\\nvar _defineProperty2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/esm/defineProperty\\\"));\\n\\nvar _three = require(\\\"three\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \\\"default\\\": obj }; }\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\nfunction _get(target, property, receiver) { if (typeof Reflect !== \\\"undefined\\\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\\n\\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nvar TransformControls =\\n/*#__PURE__*/\\nfunction (_Object3D) {\\n  _inherits(TransformControls, _Object3D);\\n\\n  // events\\n  function TransformControls(camera, domElement) {\\n    var _this;\\n\\n    _classCallCheck(this, TransformControls);\\n\\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TransformControls).call(this));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"isTransformControls\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"visible\\\", false);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"domElement\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"raycaster\\\", new _three.Raycaster());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"gizmo\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"plane\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"tempVector\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"tempVector2\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"tempQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"unit\\\", {\\n      X: new _three.Vector3(1, 0, 0),\\n      Y: new _three.Vector3(0, 1, 0),\\n      Z: new _three.Vector3(0, 0, 1)\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"pointStart\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"pointEnd\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"offset\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"rotationAxis\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"startNorm\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"endNorm\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"rotationAngle\\\", 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"cameraPosition\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"cameraQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"cameraScale\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"parentPosition\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"parentQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"parentQuaternionInv\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"parentScale\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"worldPositionStart\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"worldQuaternionStart\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"worldScaleStart\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"worldPosition\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"worldQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"worldQuaternionInv\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"worldScale\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"eye\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"positionStart\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"quaternionStart\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"scaleStart\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"camera\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"object\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"enabled\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"axis\\\", null);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"mode\\\", 'translate');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"translationSnap\\\", null);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"rotationSnap\\\", null);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"scaleSnap\\\", null);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"space\\\", 'world');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"size\\\", 1);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"dragging\\\", false);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"showX\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"showY\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"showZ\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"changeEvent\\\", {\\n      type: 'change'\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"mouseDownEvent\\\", {\\n      type: 'mouseDown'\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"mouseUpEvent\\\", {\\n      type: 'mouseUp',\\n      mode: _this.mode\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"objectChangeEvent\\\", {\\n      type: 'objectChange'\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"intersectObjectWithRay\\\", function (object, raycaster, includeInvisible) {\\n      var allIntersections = raycaster.intersectObject(object, true);\\n\\n      for (var i = 0; i < allIntersections.length; i++) {\\n        if (allIntersections[i].object.visible || includeInvisible) {\\n          return allIntersections[i];\\n        }\\n      }\\n\\n      return false;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"attach\\\", function (object) {\\n      _this.object = object;\\n      _this.visible = true;\\n      return _assertThisInitialized(_this);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"detach\\\", function () {\\n      _this.object = undefined;\\n      _this.visible = false;\\n      _this.axis = null;\\n      return _assertThisInitialized(_this);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"updateMatrixWorld\\\", function () {\\n      if (_this.object !== undefined) {\\n        _this.object.updateMatrixWorld();\\n\\n        if (_this.object.parent === null) {\\n          console.error('TransformControls: The attached 3D object must be a part of the scene graph.');\\n        } else {\\n          _this.object.parent.matrixWorld.decompose(_this.parentPosition, _this.parentQuaternion, _this.parentScale);\\n        }\\n\\n        _this.object.matrixWorld.decompose(_this.worldPosition, _this.worldQuaternion, _this.worldScale);\\n\\n        _this.parentQuaternionInv.copy(_this.parentQuaternion).invert();\\n\\n        _this.worldQuaternionInv.copy(_this.worldQuaternion).invert();\\n      }\\n\\n      _this.camera.updateMatrixWorld();\\n\\n      _this.camera.matrixWorld.decompose(_this.cameraPosition, _this.cameraQuaternion, _this.cameraScale);\\n\\n      _this.eye.copy(_this.cameraPosition).sub(_this.worldPosition).normalize();\\n\\n      _get(_getPrototypeOf(TransformControls.prototype), \\\"updateMatrixWorld\\\", _assertThisInitialized(_this)).call(_assertThisInitialized(_this));\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"pointerHover\\\", function (pointer) {\\n      if (_this.object === undefined || _this.dragging === true) return;\\n\\n      _this.raycaster.setFromCamera(pointer, _this.camera);\\n\\n      var intersect = _this.intersectObjectWithRay(_this.gizmo.picker[_this.mode], _this.raycaster);\\n\\n      if (intersect) {\\n        _this.axis = intersect.object.name;\\n      } else {\\n        _this.axis = null;\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"pointerDown\\\", function (pointer) {\\n      if (_this.object === undefined || _this.dragging === true || pointer.button !== 0) return;\\n\\n      if (_this.axis !== null) {\\n        _this.raycaster.setFromCamera(pointer, _this.camera);\\n\\n        var planeIntersect = _this.intersectObjectWithRay(_this.plane, _this.raycaster, true);\\n\\n        if (planeIntersect) {\\n          var space = _this.space;\\n\\n          if (_this.mode === 'scale') {\\n            space = 'local';\\n          } else if (_this.axis === 'E' || _this.axis === 'XYZE' || _this.axis === 'XYZ') {\\n            space = 'world';\\n          }\\n\\n          if (space === 'local' && _this.mode === 'rotate') {\\n            var snap = _this.rotationSnap;\\n            if (_this.axis === 'X' && snap) _this.object.rotation.x = Math.round(_this.object.rotation.x / snap) * snap;\\n            if (_this.axis === 'Y' && snap) _this.object.rotation.y = Math.round(_this.object.rotation.y / snap) * snap;\\n            if (_this.axis === 'Z' && snap) _this.object.rotation.z = Math.round(_this.object.rotation.z / snap) * snap;\\n          }\\n\\n          _this.object.updateMatrixWorld();\\n\\n          if (_this.object.parent) {\\n            _this.object.parent.updateMatrixWorld();\\n          }\\n\\n          _this.positionStart.copy(_this.object.position);\\n\\n          _this.quaternionStart.copy(_this.object.quaternion);\\n\\n          _this.scaleStart.copy(_this.object.scale);\\n\\n          _this.object.matrixWorld.decompose(_this.worldPositionStart, _this.worldQuaternionStart, _this.worldScaleStart);\\n\\n          _this.pointStart.copy(planeIntersect.point).sub(_this.worldPositionStart);\\n        }\\n\\n        _this.dragging = true;\\n        _this.mouseDownEvent.type = _this.mode;\\n\\n        _this.dispatchEvent(_this.mouseDownEvent);\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"pointerMove\\\", function (pointer) {\\n      var axis = _this.axis;\\n      var mode = _this.mode;\\n      var object = _this.object;\\n      var space = _this.space;\\n\\n      if (mode === 'scale') {\\n        space = 'local';\\n      } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\\n        space = 'world';\\n      }\\n\\n      if (object === undefined || axis === null || _this.dragging === false || pointer.button !== -1) return;\\n\\n      _this.raycaster.setFromCamera(pointer, _this.camera);\\n\\n      var planeIntersect = _this.intersectObjectWithRay(_this.plane, _this.raycaster, true);\\n\\n      if (!planeIntersect) return;\\n\\n      _this.pointEnd.copy(planeIntersect.point).sub(_this.worldPositionStart);\\n\\n      if (mode === 'translate') {\\n        // Apply translate\\n        _this.offset.copy(_this.pointEnd).sub(_this.pointStart);\\n\\n        if (space === 'local' && axis !== 'XYZ') {\\n          _this.offset.applyQuaternion(_this.worldQuaternionInv);\\n        }\\n\\n        if (axis.indexOf('X') === -1) _this.offset.x = 0;\\n        if (axis.indexOf('Y') === -1) _this.offset.y = 0;\\n        if (axis.indexOf('Z') === -1) _this.offset.z = 0;\\n\\n        if (space === 'local' && axis !== 'XYZ') {\\n          _this.offset.applyQuaternion(_this.quaternionStart).divide(_this.parentScale);\\n        } else {\\n          _this.offset.applyQuaternion(_this.parentQuaternionInv).divide(_this.parentScale);\\n        }\\n\\n        object.position.copy(_this.offset).add(_this.positionStart); // Apply translation snap\\n\\n        if (_this.translationSnap) {\\n          if (space === 'local') {\\n            object.position.applyQuaternion(_this.tempQuaternion.copy(_this.quaternionStart).invert());\\n\\n            if (axis.search('X') !== -1) {\\n              object.position.x = Math.round(object.position.x / _this.translationSnap) * _this.translationSnap;\\n            }\\n\\n            if (axis.search('Y') !== -1) {\\n              object.position.y = Math.round(object.position.y / _this.translationSnap) * _this.translationSnap;\\n            }\\n\\n            if (axis.search('Z') !== -1) {\\n              object.position.z = Math.round(object.position.z / _this.translationSnap) * _this.translationSnap;\\n            }\\n\\n            object.position.applyQuaternion(_this.quaternionStart);\\n          }\\n\\n          if (space === 'world') {\\n            if (object.parent) {\\n              object.position.add(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\\n            }\\n\\n            if (axis.search('X') !== -1) {\\n              object.position.x = Math.round(object.position.x / _this.translationSnap) * _this.translationSnap;\\n            }\\n\\n            if (axis.search('Y') !== -1) {\\n              object.position.y = Math.round(object.position.y / _this.translationSnap) * _this.translationSnap;\\n            }\\n\\n            if (axis.search('Z') !== -1) {\\n              object.position.z = Math.round(object.position.z / _this.translationSnap) * _this.translationSnap;\\n            }\\n\\n            if (object.parent) {\\n              object.position.sub(_this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\\n            }\\n          }\\n        }\\n      } else if (mode === 'scale') {\\n        if (axis.search('XYZ') !== -1) {\\n          var d = _this.pointEnd.length() / _this.pointStart.length();\\n\\n          if (_this.pointEnd.dot(_this.pointStart) < 0) d *= -1;\\n\\n          _this.tempVector2.set(d, d, d);\\n        } else {\\n          _this.tempVector.copy(_this.pointStart);\\n\\n          _this.tempVector2.copy(_this.pointEnd);\\n\\n          _this.tempVector.applyQuaternion(_this.worldQuaternionInv);\\n\\n          _this.tempVector2.applyQuaternion(_this.worldQuaternionInv);\\n\\n          _this.tempVector2.divide(_this.tempVector);\\n\\n          if (axis.search('X') === -1) {\\n            _this.tempVector2.x = 1;\\n          }\\n\\n          if (axis.search('Y') === -1) {\\n            _this.tempVector2.y = 1;\\n          }\\n\\n          if (axis.search('Z') === -1) {\\n            _this.tempVector2.z = 1;\\n          }\\n        } // Apply scale\\n\\n\\n        object.scale.copy(_this.scaleStart).multiply(_this.tempVector2);\\n\\n        if (_this.scaleSnap && _this.object) {\\n          if (axis.search('X') !== -1) {\\n            _this.object.scale.x = Math.round(object.scale.x / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\\n          }\\n\\n          if (axis.search('Y') !== -1) {\\n            object.scale.y = Math.round(object.scale.y / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\\n          }\\n\\n          if (axis.search('Z') !== -1) {\\n            object.scale.z = Math.round(object.scale.z / _this.scaleSnap) * _this.scaleSnap || _this.scaleSnap;\\n          }\\n        }\\n      } else if (mode === 'rotate') {\\n        _this.offset.copy(_this.pointEnd).sub(_this.pointStart);\\n\\n        var ROTATION_SPEED = 20 / _this.worldPosition.distanceTo(_this.tempVector.setFromMatrixPosition(_this.camera.matrixWorld));\\n\\n        if (axis === 'E') {\\n          _this.rotationAxis.copy(_this.eye);\\n\\n          _this.rotationAngle = _this.pointEnd.angleTo(_this.pointStart);\\n\\n          _this.startNorm.copy(_this.pointStart).normalize();\\n\\n          _this.endNorm.copy(_this.pointEnd).normalize();\\n\\n          _this.rotationAngle *= _this.endNorm.cross(_this.startNorm).dot(_this.eye) < 0 ? 1 : -1;\\n        } else if (axis === 'XYZE') {\\n          _this.rotationAxis.copy(_this.offset).cross(_this.eye).normalize();\\n\\n          _this.rotationAngle = _this.offset.dot(_this.tempVector.copy(_this.rotationAxis).cross(_this.eye)) * ROTATION_SPEED;\\n        } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\\n          _this.rotationAxis.copy(_this.unit[axis]);\\n\\n          _this.tempVector.copy(_this.unit[axis]);\\n\\n          if (space === 'local') {\\n            _this.tempVector.applyQuaternion(_this.worldQuaternion);\\n          }\\n\\n          _this.rotationAngle = _this.offset.dot(_this.tempVector.cross(_this.eye).normalize()) * ROTATION_SPEED;\\n        } // Apply rotation snap\\n\\n\\n        if (_this.rotationSnap) {\\n          _this.rotationAngle = Math.round(_this.rotationAngle / _this.rotationSnap) * _this.rotationSnap;\\n        } // Apply rotate\\n\\n\\n        if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\\n          object.quaternion.copy(_this.quaternionStart);\\n          object.quaternion.multiply(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis, _this.rotationAngle)).normalize();\\n        } else {\\n          _this.rotationAxis.applyQuaternion(_this.parentQuaternionInv);\\n\\n          object.quaternion.copy(_this.tempQuaternion.setFromAxisAngle(_this.rotationAxis, _this.rotationAngle));\\n          object.quaternion.multiply(_this.quaternionStart).normalize();\\n        }\\n      }\\n\\n      _this.dispatchEvent(_this.changeEvent);\\n\\n      _this.dispatchEvent(_this.objectChangeEvent);\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"pointerUp\\\", function (pointer) {\\n      if (pointer.button !== 0) return;\\n\\n      if (_this.dragging && _this.axis !== null) {\\n        _this.mouseUpEvent.mode = _this.mode;\\n\\n        _this.dispatchEvent(_this.mouseUpEvent);\\n      }\\n\\n      _this.dragging = false;\\n      _this.axis = null;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"getPointer\\\", function (event) {\\n      var _this$domElement$owne;\\n\\n      if (_this.domElement && (_this$domElement$owne = _this.domElement.ownerDocument) !== null && _this$domElement$owne !== void 0 && _this$domElement$owne.pointerLockElement) {\\n        return {\\n          x: 0,\\n          y: 0,\\n          button: event.button\\n        };\\n      } else {\\n        var _this$domElement;\\n\\n        var pointer = event.changedTouches ? event.changedTouches[0] : event;\\n        var rect = (_this$domElement = _this.domElement) === null || _this$domElement === void 0 ? void 0 : _this$domElement.getBoundingClientRect();\\n        return {\\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\\n          button: event.button\\n        };\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onPointerHover\\\", function (event) {\\n      if (!_this.enabled) return;\\n\\n      switch (event.pointerType) {\\n        case 'mouse':\\n        case 'pen':\\n          _this.pointerHover(_this.getPointer(event));\\n\\n          break;\\n      }\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onPointerDown\\\", function (event) {\\n      var _this$domElement$owne2;\\n\\n      if (!_this.enabled) return;\\n      _this.domElement.style.touchAction = 'none'; // disable touch scroll\\n\\n      (_this$domElement$owne2 = _this.domElement.ownerDocument) === null || _this$domElement$owne2 === void 0 ? void 0 : _this$domElement$owne2.addEventListener('pointermove', _this.onPointerMove);\\n\\n      _this.pointerHover(_this.getPointer(event));\\n\\n      _this.pointerDown(_this.getPointer(event));\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onPointerMove\\\", function (event) {\\n      if (!_this.enabled) return;\\n\\n      _this.pointerMove(_this.getPointer(event));\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"onPointerUp\\\", function (event) {\\n      var _this$domElement$owne3;\\n\\n      if (!_this.enabled) return;\\n      _this.domElement.style.touchAction = '';\\n      (_this$domElement$owne3 = _this.domElement.ownerDocument) === null || _this$domElement$owne3 === void 0 ? void 0 : _this$domElement$owne3.removeEventListener('pointermove', _this.onPointerMove);\\n\\n      _this.pointerUp(_this.getPointer(event));\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"getMode\\\", function () {\\n      return _this.mode;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"setMode\\\", function (mode) {\\n      _this.mode = mode;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"setTranslationSnap\\\", function (translationSnap) {\\n      _this.translationSnap = translationSnap;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"setRotationSnap\\\", function (rotationSnap) {\\n      _this.rotationSnap = rotationSnap;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"setScaleSnap\\\", function (scaleSnap) {\\n      _this.scaleSnap = scaleSnap;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"setSize\\\", function (size) {\\n      _this.size = size;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"setSpace\\\", function (space) {\\n      _this.space = space;\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"update\\\", function () {\\n      console.warn('THREE.TransformControls: update function has no more functionality and therefore has been deprecated.');\\n    });\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"dispose\\\", function () {\\n      var _this$domElement$owne4, _this$domElement$owne5;\\n\\n      _this.domElement.removeEventListener('pointerdown', _this.onPointerDown);\\n\\n      _this.domElement.removeEventListener('pointermove', _this.onPointerHover);\\n\\n      (_this$domElement$owne4 = _this.domElement.ownerDocument) === null || _this$domElement$owne4 === void 0 ? void 0 : _this$domElement$owne4.removeEventListener('pointermove', _this.onPointerMove);\\n      (_this$domElement$owne5 = _this.domElement.ownerDocument) === null || _this$domElement$owne5 === void 0 ? void 0 : _this$domElement$owne5.removeEventListener('pointerup', _this.onPointerUp);\\n\\n      _this.traverse(function (child) {\\n        var mesh = child;\\n\\n        if (mesh.geometry) {\\n          mesh.geometry.dispose();\\n        }\\n\\n        if (mesh.material) {\\n          mesh.material.dispose();\\n        }\\n      });\\n    });\\n\\n    if (domElement === undefined) {\\n      console.warn('THREE.TransformControls: The second parameter \\\"domElement\\\" is now mandatory.');\\n      _this.domElement = document;\\n    }\\n\\n    _this.domElement = domElement;\\n    _this.camera = camera;\\n    _this.gizmo = new TransformControlsGizmo();\\n\\n    _this.add(_this.gizmo);\\n\\n    _this.plane = new TransformControlsPlane();\\n\\n    _this.add(_this.plane); // Defined getter, setter and store for a property\\n\\n\\n    var defineProperty = function defineProperty(propName, defaultValue) {\\n      var propValue = defaultValue;\\n      Object.defineProperty(_assertThisInitialized(_this), propName, {\\n        get: function get() {\\n          return propValue !== undefined ? propValue : defaultValue;\\n        },\\n        set: function set(value) {\\n          if (propValue !== value) {\\n            propValue = value;\\n            this.plane[propName] = value;\\n            this.gizmo[propName] = value;\\n            this.dispatchEvent({\\n              type: propName + '-changed',\\n              value: value\\n            });\\n            this.dispatchEvent(this.changeEvent);\\n          }\\n        }\\n      }); //@ts-ignore\\n\\n      _this[propName] = defaultValue; // @ts-ignore\\n\\n      _this.plane[propName] = defaultValue; // @ts-ignore\\n\\n      _this.gizmo[propName] = defaultValue;\\n    };\\n\\n    defineProperty('camera', _this.camera);\\n    defineProperty('object', _this.object);\\n    defineProperty('enabled', _this.enabled);\\n    defineProperty('axis', _this.axis);\\n    defineProperty('mode', _this.mode);\\n    defineProperty('translationSnap', _this.translationSnap);\\n    defineProperty('rotationSnap', _this.rotationSnap);\\n    defineProperty('scaleSnap', _this.scaleSnap);\\n    defineProperty('space', _this.space);\\n    defineProperty('size', _this.size);\\n    defineProperty('dragging', _this.dragging);\\n    defineProperty('showX', _this.showX);\\n    defineProperty('showY', _this.showY);\\n    defineProperty('showZ', _this.showZ);\\n    defineProperty('worldPosition', _this.worldPosition);\\n    defineProperty('worldPositionStart', _this.worldPositionStart);\\n    defineProperty('worldQuaternion', _this.worldQuaternion);\\n    defineProperty('worldQuaternionStart', _this.worldQuaternionStart);\\n    defineProperty('cameraPosition', _this.cameraPosition);\\n    defineProperty('cameraQuaternion', _this.cameraQuaternion);\\n    defineProperty('pointStart', _this.pointStart);\\n    defineProperty('pointEnd', _this.pointEnd);\\n    defineProperty('rotationAxis', _this.rotationAxis);\\n    defineProperty('rotationAngle', _this.rotationAngle);\\n    defineProperty('eye', _this.eye);\\n    {\\n      domElement.addEventListener('pointerdown', _this.onPointerDown);\\n      domElement.addEventListener('pointermove', _this.onPointerHover);\\n\\n      _this.domElement.ownerDocument.addEventListener('pointerup', _this.onPointerUp);\\n    }\\n    return _this;\\n  }\\n\\n  return TransformControls;\\n}(_three.Object3D);\\n\\nexports.TransformControls = TransformControls;\\n\\nvar TransformControlsGizmo =\\n/*#__PURE__*/\\nfunction (_Object3D2) {\\n  _inherits(TransformControlsGizmo, _Object3D2);\\n\\n  // these are set from parent class TransformControls\\n  function TransformControlsGizmo() {\\n    var _this2;\\n\\n    _classCallCheck(this, TransformControlsGizmo);\\n\\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(TransformControlsGizmo).call(this));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"isTransformControlsGizmo\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"type\\\", 'TransformControlsGizmo');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"tempVector\\\", new _three.Vector3(0, 0, 0));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"tempEuler\\\", new _three.Euler());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"alignVector\\\", new _three.Vector3(0, 1, 0));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"zeroVector\\\", new _three.Vector3(0, 0, 0));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"lookAtMatrix\\\", new _three.Matrix4());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"tempQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"tempQuaternion2\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"identityQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"unitX\\\", new _three.Vector3(1, 0, 0));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"unitY\\\", new _three.Vector3(0, 1, 0));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"unitZ\\\", new _three.Vector3(0, 0, 1));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"gizmo\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"picker\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"helper\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"rotationAxis\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"cameraPosition\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"worldPositionStart\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"worldQuaternionStart\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"worldPosition\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"worldQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"eye\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"camera\\\", null);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"enabled\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"axis\\\", null);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"mode\\\", 'translate');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"space\\\", 'world');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"size\\\", 1);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"dragging\\\", false);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"showX\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"showY\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"showZ\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this2), \\\"updateMatrixWorld\\\", function () {\\n      var space = _this2.space;\\n\\n      if (_this2.mode === 'scale') {\\n        space = 'local'; // scale always oriented to local rotation\\n      }\\n\\n      var quaternion = space === 'local' ? _this2.worldQuaternion : _this2.identityQuaternion; // Show only gizmos for current transform mode\\n\\n      _this2.gizmo['translate'].visible = _this2.mode === 'translate';\\n      _this2.gizmo['rotate'].visible = _this2.mode === 'rotate';\\n      _this2.gizmo['scale'].visible = _this2.mode === 'scale';\\n      _this2.helper['translate'].visible = _this2.mode === 'translate';\\n      _this2.helper['rotate'].visible = _this2.mode === 'rotate';\\n      _this2.helper['scale'].visible = _this2.mode === 'scale';\\n      var handles = [];\\n      handles = handles.concat(_this2.picker[_this2.mode].children);\\n      handles = handles.concat(_this2.gizmo[_this2.mode].children);\\n      handles = handles.concat(_this2.helper[_this2.mode].children);\\n\\n      var _loop = function _loop(i) {\\n        var handle = handles[i]; // hide aligned to camera\\n\\n        handle.visible = true;\\n        handle.rotation.set(0, 0, 0);\\n        handle.position.copy(_this2.worldPosition);\\n        var factor = void 0;\\n\\n        if (_this2.camera.isOrthographicCamera) {\\n          factor = (_this2.camera.top - _this2.camera.bottom) / _this2.camera.zoom;\\n        } else {\\n          factor = _this2.worldPosition.distanceTo(_this2.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * _this2.camera.fov / 360) / _this2.camera.zoom, 7);\\n        }\\n\\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * _this2.size / 7); // TODO: simplify helpers and consider decoupling from gizmo\\n\\n        if (handle.tag === 'helper') {\\n          handle.visible = false;\\n\\n          if (handle.name === 'AXIS') {\\n            handle.position.copy(_this2.worldPositionStart);\\n            handle.visible = !!_this2.axis;\\n\\n            if (_this2.axis === 'X') {\\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, 0, 0));\\n\\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\\n\\n              if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\\n                handle.visible = false;\\n              }\\n            }\\n\\n            if (_this2.axis === 'Y') {\\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, 0, Math.PI / 2));\\n\\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\\n\\n              if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\\n                handle.visible = false;\\n              }\\n            }\\n\\n            if (_this2.axis === 'Z') {\\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, Math.PI / 2, 0));\\n\\n              handle.quaternion.copy(quaternion).multiply(_this2.tempQuaternion);\\n\\n              if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) > 0.9) {\\n                handle.visible = false;\\n              }\\n            }\\n\\n            if (_this2.axis === 'XYZE') {\\n              _this2.tempQuaternion.setFromEuler(_this2.tempEuler.set(0, Math.PI / 2, 0));\\n\\n              _this2.alignVector.copy(_this2.rotationAxis);\\n\\n              handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.zeroVector, _this2.alignVector, _this2.unitY));\\n              handle.quaternion.multiply(_this2.tempQuaternion);\\n              handle.visible = _this2.dragging;\\n            }\\n\\n            if (_this2.axis === 'E') {\\n              handle.visible = false;\\n            }\\n          } else if (handle.name === 'START') {\\n            handle.position.copy(_this2.worldPositionStart);\\n            handle.visible = _this2.dragging;\\n          } else if (handle.name === 'END') {\\n            handle.position.copy(_this2.worldPosition);\\n            handle.visible = _this2.dragging;\\n          } else if (handle.name === 'DELTA') {\\n            handle.position.copy(_this2.worldPositionStart);\\n            handle.quaternion.copy(_this2.worldQuaternionStart);\\n\\n            _this2.tempVector.set(1e-10, 1e-10, 1e-10).add(_this2.worldPositionStart).sub(_this2.worldPosition).multiplyScalar(-1);\\n\\n            _this2.tempVector.applyQuaternion(_this2.worldQuaternionStart.clone().invert());\\n\\n            handle.scale.copy(_this2.tempVector);\\n            handle.visible = _this2.dragging;\\n          } else {\\n            handle.quaternion.copy(quaternion);\\n\\n            if (_this2.dragging) {\\n              handle.position.copy(_this2.worldPositionStart);\\n            } else {\\n              handle.position.copy(_this2.worldPosition);\\n            }\\n\\n            if (_this2.axis) {\\n              handle.visible = _this2.axis.search(handle.name) !== -1;\\n            }\\n          } // If updating helper, skip rest of the loop\\n\\n\\n          return \\\"continue\\\";\\n        } // Align handles to current local or world rotation\\n\\n\\n        handle.quaternion.copy(quaternion);\\n\\n        if (_this2.mode === 'translate' || _this2.mode === 'scale') {\\n          // Hide translate and scale axis facing the camera\\n          var AXIS_HIDE_TRESHOLD = 0.99;\\n          var PLANE_HIDE_TRESHOLD = 0.2;\\n          var AXIS_FLIP_TRESHOLD = 0.0;\\n\\n          if (handle.name === 'X' || handle.name === 'XYZX') {\\n            if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\\n              handle.scale.set(1e-10, 1e-10, 1e-10);\\n              handle.visible = false;\\n            }\\n          }\\n\\n          if (handle.name === 'Y' || handle.name === 'XYZY') {\\n            if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\\n              handle.scale.set(1e-10, 1e-10, 1e-10);\\n              handle.visible = false;\\n            }\\n          }\\n\\n          if (handle.name === 'Z' || handle.name === 'XYZZ') {\\n            if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) > AXIS_HIDE_TRESHOLD) {\\n              handle.scale.set(1e-10, 1e-10, 1e-10);\\n              handle.visible = false;\\n            }\\n          }\\n\\n          if (handle.name === 'XY') {\\n            if (Math.abs(_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\\n              handle.scale.set(1e-10, 1e-10, 1e-10);\\n              handle.visible = false;\\n            }\\n          }\\n\\n          if (handle.name === 'YZ') {\\n            if (Math.abs(_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\\n              handle.scale.set(1e-10, 1e-10, 1e-10);\\n              handle.visible = false;\\n            }\\n          }\\n\\n          if (handle.name === 'XZ') {\\n            if (Math.abs(_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye)) < PLANE_HIDE_TRESHOLD) {\\n              handle.scale.set(1e-10, 1e-10, 1e-10);\\n              handle.visible = false;\\n            }\\n          } // Flip translate and scale axis ocluded behind another axis\\n\\n\\n          if (handle.name.search('X') !== -1) {\\n            if (_this2.alignVector.copy(_this2.unitX).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\\n              if (handle.tag === 'fwd') {\\n                handle.visible = false;\\n              } else {\\n                handle.scale.x *= -1;\\n              }\\n            } else if (handle.tag === 'bwd') {\\n              handle.visible = false;\\n            }\\n          }\\n\\n          if (handle.name.search('Y') !== -1) {\\n            if (_this2.alignVector.copy(_this2.unitY).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\\n              if (handle.tag === 'fwd') {\\n                handle.visible = false;\\n              } else {\\n                handle.scale.y *= -1;\\n              }\\n            } else if (handle.tag === 'bwd') {\\n              handle.visible = false;\\n            }\\n          }\\n\\n          if (handle.name.search('Z') !== -1) {\\n            if (_this2.alignVector.copy(_this2.unitZ).applyQuaternion(quaternion).dot(_this2.eye) < AXIS_FLIP_TRESHOLD) {\\n              if (handle.tag === 'fwd') {\\n                handle.visible = false;\\n              } else {\\n                handle.scale.z *= -1;\\n              }\\n            } else if (handle.tag === 'bwd') {\\n              handle.visible = false;\\n            }\\n          }\\n        } else if (_this2.mode === 'rotate') {\\n          // Align handles to current local or world rotation\\n          _this2.tempQuaternion2.copy(quaternion);\\n\\n          _this2.alignVector.copy(_this2.eye).applyQuaternion(_this2.tempQuaternion.copy(quaternion).invert());\\n\\n          if (handle.name.search('E') !== -1) {\\n            handle.quaternion.setFromRotationMatrix(_this2.lookAtMatrix.lookAt(_this2.eye, _this2.zeroVector, _this2.unitY));\\n          }\\n\\n          if (handle.name === 'X') {\\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitX, Math.atan2(-_this2.alignVector.y, _this2.alignVector.z));\\n\\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\\n\\n            handle.quaternion.copy(_this2.tempQuaternion);\\n          }\\n\\n          if (handle.name === 'Y') {\\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitY, Math.atan2(_this2.alignVector.x, _this2.alignVector.z));\\n\\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\\n\\n            handle.quaternion.copy(_this2.tempQuaternion);\\n          }\\n\\n          if (handle.name === 'Z') {\\n            _this2.tempQuaternion.setFromAxisAngle(_this2.unitZ, Math.atan2(_this2.alignVector.y, _this2.alignVector.x));\\n\\n            _this2.tempQuaternion.multiplyQuaternions(_this2.tempQuaternion2, _this2.tempQuaternion);\\n\\n            handle.quaternion.copy(_this2.tempQuaternion);\\n          }\\n        } // Hide disabled axes\\n\\n\\n        handle.visible = handle.visible && (handle.name.indexOf('X') === -1 || _this2.showX);\\n        handle.visible = handle.visible && (handle.name.indexOf('Y') === -1 || _this2.showY);\\n        handle.visible = handle.visible && (handle.name.indexOf('Z') === -1 || _this2.showZ);\\n        handle.visible = handle.visible && (handle.name.indexOf('E') === -1 || _this2.showX && _this2.showY && _this2.showZ); // highlight selected axis\\n        //@ts-ignore\\n\\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity; //@ts-ignore\\n\\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone(); //@ts-ignore\\n\\n        handle.material.color.copy(handle.material.tempColor); //@ts-ignore\\n\\n        handle.material.opacity = handle.material.tempOpacity;\\n\\n        if (!_this2.enabled) {\\n          //@ts-ignore\\n          handle.material.opacity *= 0.5; //@ts-ignore\\n\\n          handle.material.color.lerp(new _three.Color(1, 1, 1), 0.5);\\n        } else if (_this2.axis) {\\n          if (handle.name === _this2.axis) {\\n            //@ts-ignore\\n            handle.material.opacity = 1.0; //@ts-ignore\\n\\n            handle.material.color.lerp(new _three.Color(1, 1, 1), 0.5);\\n          } else if (_this2.axis.split('').some(function (a) {\\n            return handle.name === a;\\n          })) {\\n            //@ts-ignore\\n            handle.material.opacity = 1.0; //@ts-ignore\\n\\n            handle.material.color.lerp(new _three.Color(1, 1, 1), 0.5);\\n          } else {\\n            //@ts-ignore\\n            handle.material.opacity *= 0.25; //@ts-ignore\\n\\n            handle.material.color.lerp(new _three.Color(1, 1, 1), 0.5);\\n          }\\n        }\\n      };\\n\\n      for (var i = 0; i < handles.length; i++) {\\n        var _ret = _loop(i);\\n\\n        if (_ret === \\\"continue\\\") continue;\\n      }\\n\\n      _get(_getPrototypeOf(TransformControlsGizmo.prototype), \\\"updateMatrixWorld\\\", _assertThisInitialized(_this2)).call(_assertThisInitialized(_this2));\\n    });\\n    var gizmoMaterial = new _three.MeshBasicMaterial({\\n      depthTest: false,\\n      depthWrite: false,\\n      transparent: true,\\n      side: _three.DoubleSide,\\n      fog: false,\\n      toneMapped: false\\n    });\\n    var gizmoLineMaterial = new _three.LineBasicMaterial({\\n      depthTest: false,\\n      depthWrite: false,\\n      transparent: true,\\n      linewidth: 1,\\n      fog: false,\\n      toneMapped: false\\n    }); // Make unique material for each axis/color\\n\\n    var matInvisible = gizmoMaterial.clone();\\n    matInvisible.opacity = 0.15;\\n    var matHelper = gizmoMaterial.clone();\\n    matHelper.opacity = 0.33;\\n    var matRed = gizmoMaterial.clone();\\n    matRed.color.set(0xff0000);\\n    var matGreen = gizmoMaterial.clone();\\n    matGreen.color.set(0x00ff00);\\n    var matBlue = gizmoMaterial.clone();\\n    matBlue.color.set(0x0000ff);\\n    var matWhiteTransparent = gizmoMaterial.clone();\\n    matWhiteTransparent.opacity = 0.25;\\n    var matYellowTransparent = matWhiteTransparent.clone();\\n    matYellowTransparent.color.set(0xffff00);\\n    var matCyanTransparent = matWhiteTransparent.clone();\\n    matCyanTransparent.color.set(0x00ffff);\\n    var matMagentaTransparent = matWhiteTransparent.clone();\\n    matMagentaTransparent.color.set(0xff00ff);\\n    var matYellow = gizmoMaterial.clone();\\n    matYellow.color.set(0xffff00);\\n    var matLineRed = gizmoLineMaterial.clone();\\n    matLineRed.color.set(0xff0000);\\n    var matLineGreen = gizmoLineMaterial.clone();\\n    matLineGreen.color.set(0x00ff00);\\n    var matLineBlue = gizmoLineMaterial.clone();\\n    matLineBlue.color.set(0x0000ff);\\n    var matLineCyan = gizmoLineMaterial.clone();\\n    matLineCyan.color.set(0x00ffff);\\n    var matLineMagenta = gizmoLineMaterial.clone();\\n    matLineMagenta.color.set(0xff00ff);\\n    var matLineYellow = gizmoLineMaterial.clone();\\n    matLineYellow.color.set(0xffff00);\\n    var matLineGray = gizmoLineMaterial.clone();\\n    matLineGray.color.set(0x787878);\\n    var matLineYellowTransparent = matLineYellow.clone();\\n    matLineYellowTransparent.opacity = 0.25; // reusable geometry\\n\\n    var arrowGeometry = new _three.CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\\n    var scaleHandleGeometry = new _three.BoxGeometry(0.125, 0.125, 0.125);\\n    var lineGeometry = new _three.BufferGeometry();\\n    lineGeometry.setAttribute('position', new _three.Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\\n\\n    var CircleGeometry = function CircleGeometry(radius, arc) {\\n      var geometry = new _three.BufferGeometry();\\n      var vertices = [];\\n\\n      for (var i = 0; i <= 64 * arc; ++i) {\\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\\n      }\\n\\n      geometry.setAttribute('position', new _three.Float32BufferAttribute(vertices, 3));\\n      return geometry;\\n    }; // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\\n\\n\\n    var TranslateHelperGeometry = function TranslateHelperGeometry() {\\n      var geometry = new _three.BufferGeometry();\\n      geometry.setAttribute('position', new _three.Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\\n      return geometry;\\n    }; // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\\n\\n\\n    var gizmoTranslate = {\\n      X: [[new _three.Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'], [new _three.Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'], [new _three.Line(lineGeometry, matLineRed)]],\\n      Y: [[new _three.Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'], [new _three.Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'], [new _three.Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]],\\n      Z: [[new _three.Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'], [new _three.Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'], [new _three.Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]],\\n      XYZ: [[new _three.Mesh(new _three.OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\\n      XY: [[new _three.Mesh(new _three.PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]], [new _three.Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\\n      YZ: [[new _three.Mesh(new _three.PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new _three.Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\\n      XZ: [[new _three.Mesh(new _three.PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new _three.Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]]\\n    };\\n    var pickerTranslate = {\\n      X: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\\n      Y: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\\n      Z: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\\n      XYZ: [[new _three.Mesh(new _three.OctahedronGeometry(0.2, 0), matInvisible)]],\\n      XY: [[new _three.Mesh(new _three.PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\\n      YZ: [[new _three.Mesh(new _three.PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\\n      XZ: [[new _three.Mesh(new _three.PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\\n    };\\n    var helperTranslate = {\\n      START: [[new _three.Mesh(new _three.OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\\n      END: [[new _three.Mesh(new _three.OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\\n      DELTA: [[new _three.Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\\n      X: [[new _three.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\\n      Y: [[new _three.Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\\n      Z: [[new _three.Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\\n    };\\n    var gizmoRotate = {\\n      X: [[new _three.Line(CircleGeometry(1, 0.5), matLineRed)], [new _three.Mesh(new _three.OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]],\\n      Y: [[new _three.Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]], [new _three.Mesh(new _three.OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]],\\n      Z: [[new _three.Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]], [new _three.Mesh(new _three.OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]],\\n      E: [[new _three.Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]], [new _three.Mesh(new _three.CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 0.001]], [new _three.Mesh(new _three.CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 0.001]], [new _three.Mesh(new _three.CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 0.001]], [new _three.Mesh(new _three.CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 0.001]]],\\n      XYZE: [[new _three.Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\\n    };\\n    var helperRotate = {\\n      AXIS: [[new _three.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']]\\n    };\\n    var pickerRotate = {\\n      X: [[new _three.Mesh(new _three.TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\\n      Y: [[new _three.Mesh(new _three.TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\\n      Z: [[new _three.Mesh(new _three.TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\\n      E: [[new _three.Mesh(new _three.TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\\n      XYZE: [[new _three.Mesh(new _three.SphereGeometry(0.7, 10, 8), matInvisible)]]\\n    };\\n    var gizmoScale = {\\n      X: [[new _three.Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]], [new _three.Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]],\\n      Y: [[new _three.Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]], [new _three.Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]],\\n      Z: [[new _three.Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]], [new _three.Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]],\\n      XY: [[new _three.Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]], [new _three.Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\\n      YZ: [[new _three.Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]], [new _three.Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\\n      XZ: [[new _three.Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]], [new _three.Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]], [new _three.Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\\n      XYZX: [[new _three.Mesh(new _three.BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\\n      XYZY: [[new _three.Mesh(new _three.BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\\n      XYZZ: [[new _three.Mesh(new _three.BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\\n    };\\n    var pickerScale = {\\n      X: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\\n      Y: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\\n      Z: [[new _three.Mesh(new _three.CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\\n      XY: [[new _three.Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\\n      YZ: [[new _three.Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\\n      XZ: [[new _three.Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\\n      XYZX: [[new _three.Mesh(new _three.BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\\n      XYZY: [[new _three.Mesh(new _three.BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\\n      XYZZ: [[new _three.Mesh(new _three.BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\\n    };\\n    var helperScale = {\\n      X: [[new _three.Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\\n      Y: [[new _three.Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\\n      Z: [[new _three.Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\\n    }; // Creates an Object3D with gizmos described in custom hierarchy definition.\\n    // this is nearly impossible to Type so i'm leaving it\\n\\n    var setupGizmo = function setupGizmo(gizmoMap) {\\n      var gizmo = new _three.Object3D();\\n\\n      for (var name in gizmoMap) {\\n        for (var i = gizmoMap[name].length; i--;) {\\n          var object = gizmoMap[name][i][0].clone();\\n          var position = gizmoMap[name][i][1];\\n          var rotation = gizmoMap[name][i][2];\\n          var scale = gizmoMap[name][i][3];\\n          var tag = gizmoMap[name][i][4]; // name and tag properties are essential for picking and updating logic.\\n\\n          object.name = name; // @ts-ignore\\n\\n          object.tag = tag;\\n\\n          if (position) {\\n            object.position.set(position[0], position[1], position[2]);\\n          }\\n\\n          if (rotation) {\\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\\n          }\\n\\n          if (scale) {\\n            object.scale.set(scale[0], scale[1], scale[2]);\\n          }\\n\\n          object.updateMatrix();\\n          var tempGeometry = object.geometry.clone();\\n          tempGeometry.applyMatrix4(object.matrix);\\n          object.geometry = tempGeometry;\\n          object.renderOrder = Infinity;\\n          object.position.set(0, 0, 0);\\n          object.rotation.set(0, 0, 0);\\n          object.scale.set(1, 1, 1);\\n          gizmo.add(object);\\n        }\\n      }\\n\\n      return gizmo;\\n    };\\n\\n    _this2.gizmo = {};\\n    _this2.picker = {};\\n    _this2.helper = {};\\n\\n    _this2.add(_this2.gizmo['translate'] = setupGizmo(gizmoTranslate));\\n\\n    _this2.add(_this2.gizmo['rotate'] = setupGizmo(gizmoRotate));\\n\\n    _this2.add(_this2.gizmo['scale'] = setupGizmo(gizmoScale));\\n\\n    _this2.add(_this2.picker['translate'] = setupGizmo(pickerTranslate));\\n\\n    _this2.add(_this2.picker['rotate'] = setupGizmo(pickerRotate));\\n\\n    _this2.add(_this2.picker['scale'] = setupGizmo(pickerScale));\\n\\n    _this2.add(_this2.helper['translate'] = setupGizmo(helperTranslate));\\n\\n    _this2.add(_this2.helper['rotate'] = setupGizmo(helperRotate));\\n\\n    _this2.add(_this2.helper['scale'] = setupGizmo(helperScale)); // Pickers should be hidden always\\n\\n\\n    _this2.picker['translate'].visible = false;\\n    _this2.picker['rotate'].visible = false;\\n    _this2.picker['scale'].visible = false;\\n    return _this2;\\n  } // updateMatrixWorld will update transformations and appearance of individual handles\\n\\n\\n  return TransformControlsGizmo;\\n}(_three.Object3D);\\n\\nexports.TransformControlsGizmo = TransformControlsGizmo;\\n\\nvar TransformControlsPlane =\\n/*#__PURE__*/\\nfunction (_Mesh) {\\n  _inherits(TransformControlsPlane, _Mesh);\\n\\n  function TransformControlsPlane() {\\n    var _this3;\\n\\n    _classCallCheck(this, TransformControlsPlane);\\n\\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(TransformControlsPlane).call(this, new _three.PlaneGeometry(100000, 100000, 2, 2), new _three.MeshBasicMaterial({\\n      visible: false,\\n      wireframe: true,\\n      side: _three.DoubleSide,\\n      transparent: true,\\n      opacity: 0.1,\\n      toneMapped: false\\n    })));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"isTransformControlsPlane\\\", true);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"type\\\", 'TransformControlsPlane');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"unitX\\\", new _three.Vector3(1, 0, 0));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"unitY\\\", new _three.Vector3(0, 1, 0));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"unitZ\\\", new _three.Vector3(0, 0, 1));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"tempVector\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"dirVector\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"alignVector\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"tempMatrix\\\", new _three.Matrix4());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"identityQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"cameraQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"worldPosition\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"worldQuaternion\\\", new _three.Quaternion());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"eye\\\", new _three.Vector3());\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"axis\\\", null);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"mode\\\", 'translate');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"space\\\", 'world');\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this3), \\\"updateMatrixWorld\\\", function () {\\n      var space = _this3.space;\\n\\n      _this3.position.copy(_this3.worldPosition);\\n\\n      if (_this3.mode === 'scale') space = 'local'; // scale always oriented to local rotation\\n\\n      _this3.unitX.set(1, 0, 0).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion);\\n\\n      _this3.unitY.set(0, 1, 0).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion);\\n\\n      _this3.unitZ.set(0, 0, 1).applyQuaternion(space === 'local' ? _this3.worldQuaternion : _this3.identityQuaternion); // Align the plane for current transform mode, axis and space.\\n\\n\\n      _this3.alignVector.copy(_this3.unitY);\\n\\n      switch (_this3.mode) {\\n        case 'translate':\\n        case 'scale':\\n          switch (_this3.axis) {\\n            case 'X':\\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitX);\\n\\n              _this3.dirVector.copy(_this3.unitX).cross(_this3.alignVector);\\n\\n              break;\\n\\n            case 'Y':\\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitY);\\n\\n              _this3.dirVector.copy(_this3.unitY).cross(_this3.alignVector);\\n\\n              break;\\n\\n            case 'Z':\\n              _this3.alignVector.copy(_this3.eye).cross(_this3.unitZ);\\n\\n              _this3.dirVector.copy(_this3.unitZ).cross(_this3.alignVector);\\n\\n              break;\\n\\n            case 'XY':\\n              _this3.dirVector.copy(_this3.unitZ);\\n\\n              break;\\n\\n            case 'YZ':\\n              _this3.dirVector.copy(_this3.unitX);\\n\\n              break;\\n\\n            case 'XZ':\\n              _this3.alignVector.copy(_this3.unitZ);\\n\\n              _this3.dirVector.copy(_this3.unitY);\\n\\n              break;\\n\\n            case 'XYZ':\\n            case 'E':\\n              _this3.dirVector.set(0, 0, 0);\\n\\n              break;\\n          }\\n\\n          break;\\n\\n        case 'rotate':\\n        default:\\n          // special case for rotate\\n          _this3.dirVector.set(0, 0, 0);\\n\\n      }\\n\\n      if (_this3.dirVector.length() === 0) {\\n        // If in rotate mode, make the plane parallel to camera\\n        _this3.quaternion.copy(_this3.cameraQuaternion);\\n      } else {\\n        _this3.tempMatrix.lookAt(_this3.tempVector.set(0, 0, 0), _this3.dirVector, _this3.alignVector);\\n\\n        _this3.quaternion.setFromRotationMatrix(_this3.tempMatrix);\\n      }\\n\\n      _get(_getPrototypeOf(TransformControlsPlane.prototype), \\\"updateMatrixWorld\\\", _assertThisInitialized(_this3)).call(_assertThisInitialized(_this3));\\n    });\\n    return _this3;\\n  }\\n\\n  return TransformControlsPlane;\\n}(_three.Mesh);\\n\\nexports.TransformControlsPlane = TransformControlsPlane;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_classCallCheck\",\"instance\",\"Constructor\",\"TypeError\",\"_possibleConstructorReturn\",\"self\",\"call\",\"_assertThisInitialized\",\"ReferenceError\",\"_inherits\",\"subClass\",\"superClass\",\"Object\",\"create\",\"value\",\"writable\",\"configurable\",\"_setPrototypeOf\",\"o\",\"p\",\"setPrototypeOf\",\"__proto__\",\"_get\",\"target\",\"property\",\"receiver\",\"Reflect\",\"get\",\"hasOwnProperty\",\"object\",\"_getPrototypeOf\",\"base\",\"desc\",\"getOwnPropertyDescriptor\",\"getPrototypeOf\",\"defineProperty\",\"TransformControlsPlane\",\"TransformControlsGizmo\",\"TransformControls\",\"_defineProperty2\",\"_interopRequireDefault\",\"__esModule\",\"_three\",\"_Object3D\",\"camera\",\"domElement\",\"_this\",\"Raycaster\",\"Vector3\",\"Quaternion\",\"X\",\"Y\",\"Z\",\"type\",\"mode\",\"raycaster\",\"includeInvisible\",\"allIntersections\",\"intersectObject\",\"i\",\"length\",\"visible\",\"undefined\",\"axis\",\"updateMatrixWorld\",\"parent\",\"console\",\"error\",\"matrixWorld\",\"decompose\",\"parentPosition\",\"parentQuaternion\",\"parentScale\",\"worldPosition\",\"worldQuaternion\",\"worldScale\",\"parentQuaternionInv\",\"copy\",\"invert\",\"worldQuaternionInv\",\"cameraPosition\",\"cameraQuaternion\",\"cameraScale\",\"eye\",\"sub\",\"normalize\",\"pointer\",\"dragging\",\"setFromCamera\",\"intersect\",\"intersectObjectWithRay\",\"gizmo\",\"picker\",\"name\",\"button\",\"planeIntersect\",\"plane\",\"space\",\"snap\",\"rotationSnap\",\"rotation\",\"x\",\"Math\",\"round\",\"y\",\"z\",\"positionStart\",\"position\",\"quaternionStart\",\"quaternion\",\"scaleStart\",\"scale\",\"worldPositionStart\",\"worldQuaternionStart\",\"worldScaleStart\",\"pointStart\",\"point\",\"mouseDownEvent\",\"dispatchEvent\",\"pointEnd\",\"offset\",\"applyQuaternion\",\"indexOf\",\"divide\",\"add\",\"translationSnap\",\"tempQuaternion\",\"search\",\"tempVector\",\"setFromMatrixPosition\",\"d\",\"dot\",\"tempVector2\",\"set\",\"multiply\",\"scaleSnap\",\"ROTATION_SPEED\",\"distanceTo\",\"rotationAxis\",\"rotationAngle\",\"angleTo\",\"startNorm\",\"endNorm\",\"cross\",\"unit\",\"setFromAxisAngle\",\"changeEvent\",\"objectChangeEvent\",\"mouseUpEvent\",\"event\",\"_this$domElement$owne\",\"ownerDocument\",\"pointerLockElement\",\"_this$domElement\",\"changedTouches\",\"rect\",\"getBoundingClientRect\",\"clientX\",\"left\",\"width\",\"clientY\",\"top\",\"height\",\"enabled\",\"pointerType\",\"pointerHover\",\"getPointer\",\"_this$domElement$owne2\",\"style\",\"touchAction\",\"addEventListener\",\"onPointerMove\",\"pointerDown\",\"pointerMove\",\"_this$domElement$owne3\",\"removeEventListener\",\"pointerUp\",\"size\",\"warn\",\"_this$domElement$owne4\",\"_this$domElement$owne5\",\"onPointerDown\",\"onPointerHover\",\"onPointerUp\",\"traverse\",\"child\",\"geometry\",\"dispose\",\"material\",\"document\",\"propName\",\"defaultValue\",\"propValue\",\"showX\",\"showY\",\"showZ\",\"Object3D\",\"_Object3D2\",\"_this2\",\"Euler\",\"Matrix4\",\"identityQuaternion\",\"helper\",\"handles\",\"concat\",\"children\",\"_loop\",\"handle\",\"factor\",\"isOrthographicCamera\",\"bottom\",\"zoom\",\"min\",\"tan\",\"PI\",\"fov\",\"multiplyScalar\",\"tag\",\"setFromEuler\",\"tempEuler\",\"abs\",\"alignVector\",\"unitX\",\"unitY\",\"unitZ\",\"setFromRotationMatrix\",\"lookAtMatrix\",\"lookAt\",\"zeroVector\",\"clone\",\"AXIS_HIDE_TRESHOLD\",\"PLANE_HIDE_TRESHOLD\",\"AXIS_FLIP_TRESHOLD\",\"tempQuaternion2\",\"atan2\",\"multiplyQuaternions\",\"tempOpacity\",\"opacity\",\"tempColor\",\"color\",\"split\",\"some\",\"a\",\"lerp\",\"Color\",\"_ret\",\"gizmoMaterial\",\"MeshBasicMaterial\",\"depthTest\",\"depthWrite\",\"transparent\",\"side\",\"DoubleSide\",\"fog\",\"toneMapped\",\"gizmoLineMaterial\",\"LineBasicMaterial\",\"linewidth\",\"matInvisible\",\"matHelper\",\"matRed\",\"matGreen\",\"matBlue\",\"matWhiteTransparent\",\"matYellowTransparent\",\"matCyanTransparent\",\"matMagentaTransparent\",\"matYellow\",\"matLineRed\",\"matLineGreen\",\"matLineBlue\",\"matLineCyan\",\"matLineMagenta\",\"matLineYellow\",\"matLineGray\",\"matLineYellowTransparent\",\"arrowGeometry\",\"CylinderGeometry\",\"scaleHandleGeometry\",\"BoxGeometry\",\"lineGeometry\",\"BufferGeometry\",\"setAttribute\",\"Float32BufferAttribute\",\"CircleGeometry\",\"radius\",\"arc\",\"vertices\",\"push\",\"cos\",\"sin\",\"gizmoTranslate\",\"Mesh\",\"Line\",\"XYZ\",\"OctahedronGeometry\",\"XY\",\"PlaneGeometry\",\"YZ\",\"XZ\",\"pickerTranslate\",\"helperTranslate\",\"START\",\"END\",\"DELTA\",\"TranslateHelperGeometry\",\"gizmoRotate\",\"E\",\"XYZE\",\"helperRotate\",\"AXIS\",\"pickerRotate\",\"TorusGeometry\",\"SphereGeometry\",\"gizmoScale\",\"XYZX\",\"XYZY\",\"XYZZ\",\"pickerScale\",\"helperScale\",\"setupGizmo\",\"gizmoMap\",\"updateMatrix\",\"tempGeometry\",\"applyMatrix4\",\"matrix\",\"renderOrder\",\"Infinity\",\"_Mesh\",\"_this3\",\"wireframe\",\"dirVector\",\"tempMatrix\"]\n}\n"]