["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/postprocessing/AfterimagePass.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$postprocessing$AfterimagePass=function(global,require,module,exports){function _typeof(obj$jscomp$0){_typeof=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&\"function\"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};return _typeof(obj$jscomp$0)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];\ndescriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;\"value\"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||\nObject.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return self}function _inherits(subClass,superClass){if(\"function\"!==typeof superClass&&null!==superClass)throw new TypeError(\"Super expression must either be null or a function\");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});\nsuperClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,\"__esModule\",{value:!0});exports.AfterimagePass=void 0;var _defineProperty2=function(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}(require(\"module$node_modules$$babel$runtime$helpers$esm$defineProperty\")),_three=require(\"module$node_modules$three$build$three_module\"),\n_Pass2=require(\"module$node_modules$three_stdlib$postprocessing$Pass\"),_AfterimageShader=require(\"module$node_modules$three_stdlib$shaders$AfterimageShader\");global=function(_Pass){function AfterimagePass(){var damp=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.96,shader=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_AfterimageShader.AfterimageShader;if(!(this instanceof AfterimagePass))throw new TypeError(\"Cannot call a class as a function\");var _this=_getPrototypeOf(AfterimagePass).call(this);\n_this=!_this||\"object\"!==_typeof(_this)&&\"function\"!==typeof _this?_assertThisInitialized(this):_this;(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"shader\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"uniforms\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"textureComp\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"textureOld\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"shaderMaterial\",\nvoid 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"compFsQuad\",void 0);(0,_defineProperty2[\"default\"])(_assertThisInitialized(_this),\"copyFsQuad\",void 0);_this.shader=shader;_this.uniforms=_three.UniformsUtils.clone(shader.uniforms);_this.uniforms.damp.value=damp;_this.textureComp=new _three.WebGLRenderTarget(window.innerWidth,window.innerHeight,{minFilter:_three.LinearFilter,magFilter:_three.NearestFilter,format:_three.RGBAFormat});_this.textureOld=new _three.WebGLRenderTarget(window.innerWidth,\nwindow.innerHeight,{minFilter:_three.LinearFilter,magFilter:_three.NearestFilter,format:_three.RGBAFormat});_this.shaderMaterial=new _three.ShaderMaterial({uniforms:_this.uniforms,vertexShader:_this.shader.vertexShader,fragmentShader:_this.shader.fragmentShader});_this.compFsQuad=new _Pass2.FullScreenQuad(_this.shaderMaterial);damp=new _three.MeshBasicMaterial;_this.copyFsQuad=new _Pass2.FullScreenQuad(damp);return _this}_inherits(AfterimagePass,_Pass);_createClass(AfterimagePass,[{key:\"render\",value:function(renderer,\nwriteBuffer,readBuffer){this.uniforms.tOld.value=this.textureOld.texture;this.uniforms.tNew.value=readBuffer.texture;renderer.setRenderTarget(this.textureComp);this.compFsQuad.render(renderer);this.copyFsQuad.material.map=this.textureComp.texture;this.renderToScreen?renderer.setRenderTarget(null):(renderer.setRenderTarget(writeBuffer),this.clear&&renderer.clear());this.copyFsQuad.render(renderer);renderer=this.textureOld;this.textureOld=this.textureComp;this.textureComp=renderer}},{key:\"setSize\",\nvalue:function(width,height){this.textureComp.setSize(width,height);this.textureOld.setSize(width,height)}}]);return AfterimagePass}(_Pass2.Pass);exports.AfterimagePass=global}","~:source","shadow$provide[\"module$node_modules$three_stdlib$postprocessing$AfterimagePass\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AfterimagePass = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\n\nvar _three = require(\"three\");\n\nvar _Pass2 = require(\"./Pass.js\");\n\nvar _AfterimageShader = require(\"../shaders/AfterimageShader.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar AfterimagePass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inherits(AfterimagePass, _Pass);\n\n  function AfterimagePass() {\n    var _this;\n\n    var damp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.96;\n    var shader = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _AfterimageShader.AfterimageShader;\n\n    _classCallCheck(this, AfterimagePass);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AfterimagePass).call(this));\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"shader\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"uniforms\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"textureComp\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"textureOld\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"shaderMaterial\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"compFsQuad\", void 0);\n    (0, _defineProperty2[\"default\"])(_assertThisInitialized(_this), \"copyFsQuad\", void 0);\n    _this.shader = shader;\n    _this.uniforms = _three.UniformsUtils.clone(shader.uniforms);\n    _this.uniforms['damp'].value = damp;\n    _this.textureComp = new _three.WebGLRenderTarget(window.innerWidth, window.innerHeight, {\n      minFilter: _three.LinearFilter,\n      magFilter: _three.NearestFilter,\n      format: _three.RGBAFormat\n    });\n    _this.textureOld = new _three.WebGLRenderTarget(window.innerWidth, window.innerHeight, {\n      minFilter: _three.LinearFilter,\n      magFilter: _three.NearestFilter,\n      format: _three.RGBAFormat\n    });\n    _this.shaderMaterial = new _three.ShaderMaterial({\n      uniforms: _this.uniforms,\n      vertexShader: _this.shader.vertexShader,\n      fragmentShader: _this.shader.fragmentShader\n    });\n    _this.compFsQuad = new _Pass2.FullScreenQuad(_this.shaderMaterial);\n    var material = new _three.MeshBasicMaterial();\n    _this.copyFsQuad = new _Pass2.FullScreenQuad(material);\n    return _this;\n  }\n\n  _createClass(AfterimagePass, [{\n    key: \"render\",\n    value: function render(renderer, writeBuffer, readBuffer) {\n      this.uniforms['tOld'].value = this.textureOld.texture;\n      this.uniforms['tNew'].value = readBuffer.texture;\n      renderer.setRenderTarget(this.textureComp);\n      this.compFsQuad.render(renderer);\n      this.copyFsQuad.material.map = this.textureComp.texture;\n\n      if (this.renderToScreen) {\n        renderer.setRenderTarget(null);\n        this.copyFsQuad.render(renderer);\n      } else {\n        renderer.setRenderTarget(writeBuffer);\n        if (this.clear) renderer.clear();\n        this.copyFsQuad.render(renderer);\n      } // Swap buffers.\n\n\n      var temp = this.textureOld;\n      this.textureOld = this.textureComp;\n      this.textureComp = temp; // Now textureOld contains the latest image, ready for the next frame.\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize(width, height) {\n      this.textureComp.setSize(width, height);\n      this.textureOld.setSize(width, height);\n    }\n  }]);\n\n  return AfterimagePass;\n}(_Pass2.Pass);\n\nexports.AfterimagePass = AfterimagePass;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js","~$module$node_modules$three_stdlib$postprocessing$Pass","~$module$node_modules$$babel$runtime$helpers$esm$defineProperty","~$module$node_modules$three_stdlib$shaders$AfterimageShader"]],"~:properties",["^5",["fragmentShader","map","AfterimagePass","prototype","textureOld","key","__esModule","vertexShader","configurable","value","enumerable","magFilter","writable","shaderMaterial","copyFsQuad","__proto__","textureComp","compFsQuad","uniforms","minFilter","shader","format","constructor"]],"~:compiled-at",1630917515526,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$postprocessing$AfterimagePass.js\",\n\"lineCount\":10,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/three-stdlib/postprocessing/AfterimagePass.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$postprocessing$AfterimagePass\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.AfterimagePass = void 0;\\n\\nvar _defineProperty2 = _interopRequireDefault(require(\\\"@babel/runtime/helpers/esm/defineProperty\\\"));\\n\\nvar _three = require(\\\"three\\\");\\n\\nvar _Pass2 = require(\\\"./Pass.js\\\");\\n\\nvar _AfterimageShader = require(\\\"../shaders/AfterimageShader.js\\\");\\n\\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \\\"default\\\": obj }; }\\n\\nfunction _typeof(obj) { if (typeof Symbol === \\\"function\\\" && typeof Symbol.iterator === \\\"symbol\\\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \\\"function\\\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \\\"symbol\\\" : typeof obj; }; } return _typeof(obj); }\\n\\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\\\"Cannot call a class as a function\\\"); } }\\n\\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\\\"value\\\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\\n\\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\\n\\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \\\"object\\\" || typeof call === \\\"function\\\")) { return call; } return _assertThisInitialized(self); }\\n\\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\\n\\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\"); } return self; }\\n\\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \\\"function\\\" && superClass !== null) { throw new TypeError(\\\"Super expression must either be null or a function\\\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\\n\\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\\n\\nvar AfterimagePass =\\n/*#__PURE__*/\\nfunction (_Pass) {\\n  _inherits(AfterimagePass, _Pass);\\n\\n  function AfterimagePass() {\\n    var _this;\\n\\n    var damp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.96;\\n    var shader = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _AfterimageShader.AfterimageShader;\\n\\n    _classCallCheck(this, AfterimagePass);\\n\\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AfterimagePass).call(this));\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"shader\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"uniforms\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"textureComp\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"textureOld\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"shaderMaterial\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"compFsQuad\\\", void 0);\\n    (0, _defineProperty2[\\\"default\\\"])(_assertThisInitialized(_this), \\\"copyFsQuad\\\", void 0);\\n    _this.shader = shader;\\n    _this.uniforms = _three.UniformsUtils.clone(shader.uniforms);\\n    _this.uniforms['damp'].value = damp;\\n    _this.textureComp = new _three.WebGLRenderTarget(window.innerWidth, window.innerHeight, {\\n      minFilter: _three.LinearFilter,\\n      magFilter: _three.NearestFilter,\\n      format: _three.RGBAFormat\\n    });\\n    _this.textureOld = new _three.WebGLRenderTarget(window.innerWidth, window.innerHeight, {\\n      minFilter: _three.LinearFilter,\\n      magFilter: _three.NearestFilter,\\n      format: _three.RGBAFormat\\n    });\\n    _this.shaderMaterial = new _three.ShaderMaterial({\\n      uniforms: _this.uniforms,\\n      vertexShader: _this.shader.vertexShader,\\n      fragmentShader: _this.shader.fragmentShader\\n    });\\n    _this.compFsQuad = new _Pass2.FullScreenQuad(_this.shaderMaterial);\\n    var material = new _three.MeshBasicMaterial();\\n    _this.copyFsQuad = new _Pass2.FullScreenQuad(material);\\n    return _this;\\n  }\\n\\n  _createClass(AfterimagePass, [{\\n    key: \\\"render\\\",\\n    value: function render(renderer, writeBuffer, readBuffer) {\\n      this.uniforms['tOld'].value = this.textureOld.texture;\\n      this.uniforms['tNew'].value = readBuffer.texture;\\n      renderer.setRenderTarget(this.textureComp);\\n      this.compFsQuad.render(renderer);\\n      this.copyFsQuad.material.map = this.textureComp.texture;\\n\\n      if (this.renderToScreen) {\\n        renderer.setRenderTarget(null);\\n        this.copyFsQuad.render(renderer);\\n      } else {\\n        renderer.setRenderTarget(writeBuffer);\\n        if (this.clear) renderer.clear();\\n        this.copyFsQuad.render(renderer);\\n      } // Swap buffers.\\n\\n\\n      var temp = this.textureOld;\\n      this.textureOld = this.textureComp;\\n      this.textureComp = temp; // Now textureOld contains the latest image, ready for the next frame.\\n    }\\n  }, {\\n    key: \\\"setSize\\\",\\n    value: function setSize(width, height) {\\n      this.textureComp.setSize(width, height);\\n      this.textureOld.setSize(width, height);\\n    }\\n  }]);\\n\\n  return AfterimagePass;\\n}(_Pass2.Pass);\\n\\nexports.AfterimagePass = AfterimagePass;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_typeof\",\"obj\",\"Symbol\",\"iterator\",\"constructor\",\"prototype\",\"_defineProperties\",\"target\",\"props\",\"i\",\"length\",\"descriptor\",\"enumerable\",\"configurable\",\"writable\",\"Object\",\"defineProperty\",\"key\",\"_createClass\",\"Constructor\",\"protoProps\",\"staticProps\",\"_getPrototypeOf\",\"o\",\"setPrototypeOf\",\"getPrototypeOf\",\"__proto__\",\"_assertThisInitialized\",\"self\",\"ReferenceError\",\"_inherits\",\"subClass\",\"superClass\",\"TypeError\",\"create\",\"value\",\"_setPrototypeOf\",\"p\",\"AfterimagePass\",\"_defineProperty2\",\"_interopRequireDefault\",\"__esModule\",\"_three\",\"_Pass2\",\"_AfterimageShader\",\"_Pass\",\"damp\",\"arguments\",\"undefined\",\"shader\",\"AfterimageShader\",\"instance\",\"call\",\"_this\",\"uniforms\",\"UniformsUtils\",\"clone\",\"textureComp\",\"WebGLRenderTarget\",\"window\",\"innerWidth\",\"innerHeight\",\"minFilter\",\"LinearFilter\",\"magFilter\",\"NearestFilter\",\"format\",\"RGBAFormat\",\"textureOld\",\"shaderMaterial\",\"ShaderMaterial\",\"vertexShader\",\"fragmentShader\",\"compFsQuad\",\"FullScreenQuad\",\"material\",\"MeshBasicMaterial\",\"copyFsQuad\",\"render\",\"renderer\",\"writeBuffer\",\"readBuffer\",\"texture\",\"setRenderTarget\",\"map\",\"renderToScreen\",\"clear\",\"temp\",\"setSize\",\"width\",\"height\",\"Pass\"]\n}\n"]