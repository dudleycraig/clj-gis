["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/three-stdlib/effects/AnaglyphEffect.js"],"~:js","shadow$provide.module$node_modules$three_stdlib$effects$AnaglyphEffect=function(global,require,module,exports){Object.defineProperty(exports,\"__esModule\",{value:!0});exports.AnaglyphEffect=void 0;var _three=require(\"module$node_modules$three$build$three_module\");exports.AnaglyphEffect=function(renderer,width$jscomp$0,height$jscomp$0){this.colorMatrixLeft=(new _three.Matrix3).fromArray([.4561,-.0400822,-.0152161,.500484,-.0378246,-.0205971,.176381,-.0157589,-.00546856]);this.colorMatrixRight=(new _three.Matrix3).fromArray([-.0434706,\n.378476,-.0721527,-.0879388,.73364,-.112961,-.00155529,-.0184503,1.2264]);var _camera=new _three.OrthographicCamera(-1,1,1,-1,0,1),_scene=new _three.Scene,_stereo=new _three.StereoCamera,_params={minFilter:_three.LinearFilter,magFilter:_three.NearestFilter,format:_three.RGBAFormat};void 0===width$jscomp$0&&(width$jscomp$0=512);void 0===height$jscomp$0&&(height$jscomp$0=512);var _renderTargetL=new _three.WebGLRenderTarget(width$jscomp$0,height$jscomp$0,_params),_renderTargetR=new _three.WebGLRenderTarget(width$jscomp$0,\nheight$jscomp$0,_params),_material=new _three.ShaderMaterial({uniforms:{mapLeft:{value:_renderTargetL.texture},mapRight:{value:_renderTargetR.texture},colorMatrixLeft:{value:this.colorMatrixLeft},colorMatrixRight:{value:this.colorMatrixRight}},vertexShader:\"varying vec2 vUv;\\nvoid main() {\\n\\tvUv \\x3d vec2( uv.x, uv.y );\\n\\tgl_Position \\x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\",fragmentShader:\"uniform sampler2D mapLeft;\\nuniform sampler2D mapRight;\\nvarying vec2 vUv;\\nuniform mat3 colorMatrixLeft;\\nuniform mat3 colorMatrixRight;\\nfloat lin( float c ) {\\n\\treturn c \\x3c\\x3d 0.04045 ? c * 0.0773993808 :\\n\\t\\t\\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );\\n}\\nvec4 lin( vec4 c ) {\\n\\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );\\n}\\nfloat dev( float c ) {\\n\\treturn c \\x3c\\x3d 0.0031308 ? c * 12.92\\n\\t\\t\\t: pow( c, 0.41666 ) * 1.055 - 0.055;\\n}\\nvoid main() {\\n\\tvec2 uv \\x3d vUv;\\n\\tvec4 colorL \\x3d lin( texture2D( mapLeft, uv ) );\\n\\tvec4 colorR \\x3d lin( texture2D( mapRight, uv ) );\\n\\tvec3 color \\x3d clamp(\\n\\t\\t\\tcolorMatrixLeft * colorL.rgb +\\n\\t\\t\\tcolorMatrixRight * colorR.rgb, 0., 1. );\\n\\tgl_FragColor \\x3d vec4(\\n\\t\\t\\tdev( color.r ), dev( color.g ), dev( color.b ),\\n\\t\\t\\tmax( colorL.a, colorR.a ) );\\n}\"}),\n_mesh=new _three.Mesh(new _three.PlaneGeometry(2,2),_material);_scene.add(_mesh);this.setSize=function(width,height){renderer.setSize(width,height);var pixelRatio=renderer.getPixelRatio();_renderTargetL.setSize(width*pixelRatio,height*pixelRatio);_renderTargetR.setSize(width*pixelRatio,height*pixelRatio)};this.render=function(scene,camera){var currentRenderTarget=renderer.getRenderTarget();scene.updateMatrixWorld();null===camera.parent&&camera.updateMatrixWorld();_stereo.update(camera);renderer.setRenderTarget(_renderTargetL);\nrenderer.clear();renderer.render(scene,_stereo.cameraL);renderer.setRenderTarget(_renderTargetR);renderer.clear();renderer.render(scene,_stereo.cameraR);renderer.setRenderTarget(null);renderer.render(_scene,_camera);renderer.setRenderTarget(currentRenderTarget)};this.dispose=function(){_renderTargetL&&_renderTargetL.dispose();_renderTargetR&&_renderTargetR.dispose();_mesh&&_mesh.geometry.dispose();_material&&_material.dispose()}}}","~:source","shadow$provide[\"module$node_modules$three_stdlib$effects$AnaglyphEffect\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AnaglyphEffect = void 0;\n\nvar _three = require(\"three\");\n\nvar AnaglyphEffect = function AnaglyphEffect(renderer, width, height) {\n  // Dubois matrices from https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.7.6968&rep=rep1&type=pdf#page=4\n  this.colorMatrixLeft = new _three.Matrix3().fromArray([0.4561, -0.0400822, -0.0152161, 0.500484, -0.0378246, -0.0205971, 0.176381, -0.0157589, -0.00546856]);\n  this.colorMatrixRight = new _three.Matrix3().fromArray([-0.0434706, 0.378476, -0.0721527, -0.0879388, 0.73364, -0.112961, -0.00155529, -0.0184503, 1.2264]);\n\n  var _camera = new _three.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n\n  var _scene = new _three.Scene();\n\n  var _stereo = new _three.StereoCamera();\n\n  var _params = {\n    minFilter: _three.LinearFilter,\n    magFilter: _three.NearestFilter,\n    format: _three.RGBAFormat\n  };\n  if (width === undefined) width = 512;\n  if (height === undefined) height = 512;\n\n  var _renderTargetL = new _three.WebGLRenderTarget(width, height, _params);\n\n  var _renderTargetR = new _three.WebGLRenderTarget(width, height, _params);\n\n  var _material = new _three.ShaderMaterial({\n    uniforms: {\n      mapLeft: {\n        value: _renderTargetL.texture\n      },\n      mapRight: {\n        value: _renderTargetR.texture\n      },\n      colorMatrixLeft: {\n        value: this.colorMatrixLeft\n      },\n      colorMatrixRight: {\n        value: this.colorMatrixRight\n      }\n    },\n    vertexShader: ['varying vec2 vUv;', 'void main() {', '\tvUv = vec2( uv.x, uv.y );', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n    fragmentShader: ['uniform sampler2D mapLeft;', 'uniform sampler2D mapRight;', 'varying vec2 vUv;', 'uniform mat3 colorMatrixLeft;', 'uniform mat3 colorMatrixRight;', // These functions implement sRGB linearization and gamma correction\n    'float lin( float c ) {', '\treturn c <= 0.04045 ? c * 0.0773993808 :', '\t\t\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );', '}', 'vec4 lin( vec4 c ) {', '\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );', '}', 'float dev( float c ) {', '\treturn c <= 0.0031308 ? c * 12.92', '\t\t\t: pow( c, 0.41666 ) * 1.055 - 0.055;', '}', 'void main() {', '\tvec2 uv = vUv;', '\tvec4 colorL = lin( texture2D( mapLeft, uv ) );', '\tvec4 colorR = lin( texture2D( mapRight, uv ) );', '\tvec3 color = clamp(', '\t\t\tcolorMatrixLeft * colorL.rgb +', '\t\t\tcolorMatrixRight * colorR.rgb, 0., 1. );', '\tgl_FragColor = vec4(', '\t\t\tdev( color.r ), dev( color.g ), dev( color.b ),', '\t\t\tmax( colorL.a, colorR.a ) );', '}'].join('\\n')\n  });\n\n  var _mesh = new _three.Mesh(new _three.PlaneGeometry(2, 2), _material);\n\n  _scene.add(_mesh);\n\n  this.setSize = function (width, height) {\n    renderer.setSize(width, height);\n    var pixelRatio = renderer.getPixelRatio();\n\n    _renderTargetL.setSize(width * pixelRatio, height * pixelRatio);\n\n    _renderTargetR.setSize(width * pixelRatio, height * pixelRatio);\n  };\n\n  this.render = function (scene, camera) {\n    var currentRenderTarget = renderer.getRenderTarget();\n    scene.updateMatrixWorld();\n    if (camera.parent === null) camera.updateMatrixWorld();\n\n    _stereo.update(camera);\n\n    renderer.setRenderTarget(_renderTargetL);\n    renderer.clear();\n    renderer.render(scene, _stereo.cameraL);\n    renderer.setRenderTarget(_renderTargetR);\n    renderer.clear();\n    renderer.render(scene, _stereo.cameraR);\n    renderer.setRenderTarget(null);\n    renderer.render(_scene, _camera);\n    renderer.setRenderTarget(currentRenderTarget);\n  };\n\n  this.dispose = function () {\n    if (_renderTargetL) _renderTargetL.dispose();\n    if (_renderTargetR) _renderTargetR.dispose();\n    if (_mesh) _mesh.geometry.dispose();\n    if (_material) _material.dispose();\n  };\n};\n\nexports.AnaglyphEffect = AnaglyphEffect;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$three$build$three_module","~$shadow.js"]],"~:properties",["^5",["fragmentShader","AnaglyphEffect","colorMatrixLeft","__esModule","dispose","vertexShader","colorMatrixRight","value","magFilter","render","setSize","mapRight","mapLeft","uniforms","minFilter","format"]],"~:compiled-at",1630917515599,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$three_stdlib$effects$AnaglyphEffect.js\",\n\"lineCount\":5,\n\"mappings\":\"AAAAA,cAAA,CAAA,uDAAA,CAA4E,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGpHC,MAAOC,CAAAA,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAC3CG,MAAO,CAAA,CADoC,CAA7C,CAGAH,QAAQI,CAAAA,cAAR,CAAyB,IAAK,EAE9B,KAAIC,OAASP,OAAA,CAAQ,8CAAR,CAoFbE,QAAQI,CAAAA,cAAR,CAlFqBA,QAAuB,CAACE,QAAD,CAAWC,cAAX,CAAkBC,eAAlB,CAA0B,CAEpE,IAAKC,CAAAA,eAAL,CAA4CC,CAArB,IAAIL,MAAOM,CAAAA,OAAUD,EAAAA,SAArB,CAA+B,CAAC,KAAD,CAAS,SAAT,CAAqB,SAArB,CAAiC,OAAjC,CAA2C,SAA3C,CAAuD,SAAvD,CAAmE,OAAnE,CAA6E,SAA7E,CAAyF,UAAzF,CAA/B,CACvB,KAAKE,CAAAA,gBAAL,CAA6CF,CAArB,IAAIL,MAAOM,CAAAA,OAAUD,EAAAA,SAArB,CAA+B,CAAC,SAAD;AAAa,OAAb,CAAuB,SAAvB,CAAmC,SAAnC,CAA+C,MAA/C,CAAwD,QAAxD,CAAmE,UAAnE,CAAgF,SAAhF,CAA4F,MAA5F,CAA/B,CAExB,KAAIG,QAAU,IAAIR,MAAOS,CAAAA,kBAAX,CAA8B,EAA9B,CAAkC,CAAlC,CAAqC,CAArC,CAAwC,EAAxC,CAA4C,CAA5C,CAA+C,CAA/C,CAAd,CAEIC,OAAS,IAAIV,MAAOW,CAAAA,KAFxB,CAIIC,QAAU,IAAIZ,MAAOa,CAAAA,YAJzB,CAMIC,QAAU,CACZC,UAAWf,MAAOgB,CAAAA,YADN,CAEZC,UAAWjB,MAAOkB,CAAAA,aAFN,CAGZC,OAAQnB,MAAOoB,CAAAA,UAHH,CAKAC,KAAAA,EAAd,GAAInB,cAAJ,GAAyBA,cAAzB,CAAiC,GAAjC,CACemB,KAAAA,EAAf,GAAIlB,eAAJ,GAA0BA,eAA1B,CAAmC,GAAnC,CAEA,KAAImB,eAAiB,IAAItB,MAAOuB,CAAAA,iBAAX,CAA6BrB,cAA7B,CAAoCC,eAApC,CAA4CW,OAA5C,CAArB,CAEIU,eAAiB,IAAIxB,MAAOuB,CAAAA,iBAAX,CAA6BrB,cAA7B;AAAoCC,eAApC,CAA4CW,OAA5C,CAFrB,CAIIW,UAAY,IAAIzB,MAAO0B,CAAAA,cAAX,CAA0B,CACxCC,SAAU,CACRC,QAAS,CACP9B,MAAOwB,cAAeO,CAAAA,OADf,CADD,CAIRC,SAAU,CACRhC,MAAO0B,cAAeK,CAAAA,OADd,CAJF,CAORzB,gBAAiB,CACfN,MAAO,IAAKM,CAAAA,eADG,CAPT,CAURG,iBAAkB,CAChBT,MAAO,IAAKS,CAAAA,gBADI,CAVV,CAD8B,CAexCwB,aAAiK,qJAfzH,CAgBxCC,eACirB,00BAjBzoB,CAA1B,CAJhB;AAwBIC,MAAQ,IAAIjC,MAAOkC,CAAAA,IAAX,CAAgB,IAAIlC,MAAOmC,CAAAA,aAAX,CAAyB,CAAzB,CAA4B,CAA5B,CAAhB,CAAgDV,SAAhD,CAEZf,OAAO0B,CAAAA,GAAP,CAAWH,KAAX,CAEA,KAAKI,CAAAA,OAAL,CAAeC,QAAS,CAACpC,KAAD,CAAQC,MAAR,CAAgB,CACtCF,QAASoC,CAAAA,OAAT,CAAiBnC,KAAjB,CAAwBC,MAAxB,CACA,KAAIoC,WAAatC,QAASuC,CAAAA,aAAT,EAEjBlB,eAAee,CAAAA,OAAf,CAAuBnC,KAAvB,CAA+BqC,UAA/B,CAA2CpC,MAA3C,CAAoDoC,UAApD,CAEAf,eAAea,CAAAA,OAAf,CAAuBnC,KAAvB,CAA+BqC,UAA/B,CAA2CpC,MAA3C,CAAoDoC,UAApD,CANsC,CASxC,KAAKE,CAAAA,MAAL,CAAcC,QAAS,CAACC,KAAD,CAAQC,MAAR,CAAgB,CACrC,IAAIC,oBAAsB5C,QAAS6C,CAAAA,eAAT,EAC1BH,MAAMI,CAAAA,iBAAN,EACsB,KAAtB,GAAIH,MAAOI,CAAAA,MAAX,EAA4BJ,MAAOG,CAAAA,iBAAP,EAE5BnC,QAAQqC,CAAAA,MAAR,CAAeL,MAAf,CAEA3C,SAASiD,CAAAA,eAAT,CAAyB5B,cAAzB,CACArB;QAASkD,CAAAA,KAAT,EACAlD,SAASwC,CAAAA,MAAT,CAAgBE,KAAhB,CAAuB/B,OAAQwC,CAAAA,OAA/B,CACAnD,SAASiD,CAAAA,eAAT,CAAyB1B,cAAzB,CACAvB,SAASkD,CAAAA,KAAT,EACAlD,SAASwC,CAAAA,MAAT,CAAgBE,KAAhB,CAAuB/B,OAAQyC,CAAAA,OAA/B,CACApD,SAASiD,CAAAA,eAAT,CAAyB,IAAzB,CACAjD,SAASwC,CAAAA,MAAT,CAAgB/B,MAAhB,CAAwBF,OAAxB,CACAP,SAASiD,CAAAA,eAAT,CAAyBL,mBAAzB,CAfqC,CAkBvC,KAAKS,CAAAA,OAAL,CAAeC,QAAS,EAAG,CACrBjC,cAAJ,EAAoBA,cAAegC,CAAAA,OAAf,EAChB9B,eAAJ,EAAoBA,cAAe8B,CAAAA,OAAf,EAChBrB,MAAJ,EAAWA,KAAMuB,CAAAA,QAASF,CAAAA,OAAf,EACP7B,UAAJ,EAAeA,SAAU6B,CAAAA,OAAV,EAJU,CA1EyC,CAV8C;\",\n\"sources\":[\"node_modules/three-stdlib/effects/AnaglyphEffect.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$three_stdlib$effects$AnaglyphEffect\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\n\\nObject.defineProperty(exports, \\\"__esModule\\\", {\\n  value: true\\n});\\nexports.AnaglyphEffect = void 0;\\n\\nvar _three = require(\\\"three\\\");\\n\\nvar AnaglyphEffect = function AnaglyphEffect(renderer, width, height) {\\n  // Dubois matrices from https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.7.6968&rep=rep1&type=pdf#page=4\\n  this.colorMatrixLeft = new _three.Matrix3().fromArray([0.4561, -0.0400822, -0.0152161, 0.500484, -0.0378246, -0.0205971, 0.176381, -0.0157589, -0.00546856]);\\n  this.colorMatrixRight = new _three.Matrix3().fromArray([-0.0434706, 0.378476, -0.0721527, -0.0879388, 0.73364, -0.112961, -0.00155529, -0.0184503, 1.2264]);\\n\\n  var _camera = new _three.OrthographicCamera(-1, 1, 1, -1, 0, 1);\\n\\n  var _scene = new _three.Scene();\\n\\n  var _stereo = new _three.StereoCamera();\\n\\n  var _params = {\\n    minFilter: _three.LinearFilter,\\n    magFilter: _three.NearestFilter,\\n    format: _three.RGBAFormat\\n  };\\n  if (width === undefined) width = 512;\\n  if (height === undefined) height = 512;\\n\\n  var _renderTargetL = new _three.WebGLRenderTarget(width, height, _params);\\n\\n  var _renderTargetR = new _three.WebGLRenderTarget(width, height, _params);\\n\\n  var _material = new _three.ShaderMaterial({\\n    uniforms: {\\n      mapLeft: {\\n        value: _renderTargetL.texture\\n      },\\n      mapRight: {\\n        value: _renderTargetR.texture\\n      },\\n      colorMatrixLeft: {\\n        value: this.colorMatrixLeft\\n      },\\n      colorMatrixRight: {\\n        value: this.colorMatrixRight\\n      }\\n    },\\n    vertexShader: ['varying vec2 vUv;', 'void main() {', '\\tvUv = vec2( uv.x, uv.y );', '\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\\\n'),\\n    fragmentShader: ['uniform sampler2D mapLeft;', 'uniform sampler2D mapRight;', 'varying vec2 vUv;', 'uniform mat3 colorMatrixLeft;', 'uniform mat3 colorMatrixRight;', // These functions implement sRGB linearization and gamma correction\\n    'float lin( float c ) {', '\\treturn c <= 0.04045 ? c * 0.0773993808 :', '\\t\\t\\tpow( c * 0.9478672986 + 0.0521327014, 2.4 );', '}', 'vec4 lin( vec4 c ) {', '\\treturn vec4( lin( c.r ), lin( c.g ), lin( c.b ), c.a );', '}', 'float dev( float c ) {', '\\treturn c <= 0.0031308 ? c * 12.92', '\\t\\t\\t: pow( c, 0.41666 ) * 1.055 - 0.055;', '}', 'void main() {', '\\tvec2 uv = vUv;', '\\tvec4 colorL = lin( texture2D( mapLeft, uv ) );', '\\tvec4 colorR = lin( texture2D( mapRight, uv ) );', '\\tvec3 color = clamp(', '\\t\\t\\tcolorMatrixLeft * colorL.rgb +', '\\t\\t\\tcolorMatrixRight * colorR.rgb, 0., 1. );', '\\tgl_FragColor = vec4(', '\\t\\t\\tdev( color.r ), dev( color.g ), dev( color.b ),', '\\t\\t\\tmax( colorL.a, colorR.a ) );', '}'].join('\\\\n')\\n  });\\n\\n  var _mesh = new _three.Mesh(new _three.PlaneGeometry(2, 2), _material);\\n\\n  _scene.add(_mesh);\\n\\n  this.setSize = function (width, height) {\\n    renderer.setSize(width, height);\\n    var pixelRatio = renderer.getPixelRatio();\\n\\n    _renderTargetL.setSize(width * pixelRatio, height * pixelRatio);\\n\\n    _renderTargetR.setSize(width * pixelRatio, height * pixelRatio);\\n  };\\n\\n  this.render = function (scene, camera) {\\n    var currentRenderTarget = renderer.getRenderTarget();\\n    scene.updateMatrixWorld();\\n    if (camera.parent === null) camera.updateMatrixWorld();\\n\\n    _stereo.update(camera);\\n\\n    renderer.setRenderTarget(_renderTargetL);\\n    renderer.clear();\\n    renderer.render(scene, _stereo.cameraL);\\n    renderer.setRenderTarget(_renderTargetR);\\n    renderer.clear();\\n    renderer.render(scene, _stereo.cameraR);\\n    renderer.setRenderTarget(null);\\n    renderer.render(_scene, _camera);\\n    renderer.setRenderTarget(currentRenderTarget);\\n  };\\n\\n  this.dispose = function () {\\n    if (_renderTargetL) _renderTargetL.dispose();\\n    if (_renderTargetR) _renderTargetR.dispose();\\n    if (_mesh) _mesh.geometry.dispose();\\n    if (_material) _material.dispose();\\n  };\\n};\\n\\nexports.AnaglyphEffect = AnaglyphEffect;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"Object\",\"defineProperty\",\"value\",\"AnaglyphEffect\",\"_three\",\"renderer\",\"width\",\"height\",\"colorMatrixLeft\",\"fromArray\",\"Matrix3\",\"colorMatrixRight\",\"_camera\",\"OrthographicCamera\",\"_scene\",\"Scene\",\"_stereo\",\"StereoCamera\",\"_params\",\"minFilter\",\"LinearFilter\",\"magFilter\",\"NearestFilter\",\"format\",\"RGBAFormat\",\"undefined\",\"_renderTargetL\",\"WebGLRenderTarget\",\"_renderTargetR\",\"_material\",\"ShaderMaterial\",\"uniforms\",\"mapLeft\",\"texture\",\"mapRight\",\"vertexShader\",\"fragmentShader\",\"_mesh\",\"Mesh\",\"PlaneGeometry\",\"add\",\"setSize\",\"this.setSize\",\"pixelRatio\",\"getPixelRatio\",\"render\",\"this.render\",\"scene\",\"camera\",\"currentRenderTarget\",\"getRenderTarget\",\"updateMatrixWorld\",\"parent\",\"update\",\"setRenderTarget\",\"clear\",\"cameraL\",\"cameraR\",\"dispose\",\"this.dispose\",\"geometry\"]\n}\n"]